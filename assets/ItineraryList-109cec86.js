import{c as V,d as te,e as re,r as I,j as i,M as ne}from"./index-58177ea2.js";import{S as se}from"./search-8df42b61.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=V("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var ee={exports:{}};(function(q,X){(function(C,O){q.exports=O()})(te,function(){var C=1e3,O=6e4,Y=36e5,A="millisecond",M="second",S="minute",w="hour",g="day",B="week",p="month",J="quarter",v="year",k="date",R="Invalid Date",Q=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var n=["th","st","nd","rd"],t=s%100;return"["+s+(n[(t-20)%10]||n[t]||n[0])+"]"}},T=function(s,n,t){var a=String(s);return!a||a.length>=n?s:""+Array(n+1-a.length).join(t)+s},G={s:T,z:function(s){var n=-s.utcOffset(),t=Math.abs(n),a=Math.floor(t/60),r=t%60;return(n<=0?"+":"-")+T(a,2,"0")+":"+T(r,2,"0")},m:function s(n,t){if(n.date()<t.date())return-s(t,n);var a=12*(t.year()-n.year())+(t.month()-n.month()),r=n.clone().add(a,p),c=t-r<0,o=n.clone().add(a+(c?-1:1),p);return+(-(a+(t-r)/(c?r-o:o-r))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:p,y:v,w:B,d:g,D:k,h:w,m:S,s:M,ms:A,Q:J}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},z="en",$={};$[z]=U;var L="$isDayjsObject",j=function(s){return s instanceof E||!(!s||!s[L])},H=function s(n,t,a){var r;if(!n)return z;if(typeof n=="string"){var c=n.toLowerCase();$[c]&&(r=c),t&&($[c]=t,r=c);var o=n.split("-");if(!r&&o.length>1)return s(o[0])}else{var l=n.name;$[l]=n,r=l}return!a&&r&&(z=r),r||!a&&z},h=function(s,n){if(j(s))return s.clone();var t=typeof n=="object"?n:{};return t.date=s,t.args=arguments,new E(t)},d=G;d.l=H,d.i=j,d.w=function(s,n){return h(s,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var E=function(){function s(t){this.$L=H(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[L]=!0}var n=s.prototype;return n.parse=function(t){this.$d=function(a){var r=a.date,c=a.utc;if(r===null)return new Date(NaN);if(d.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var o=r.match(Q);if(o){var l=o[2]-1||0,u=(o[7]||"0").substring(0,3);return c?new Date(Date.UTC(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,u)):new Date(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,u)}}return new Date(r)}(t),this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return d},n.isValid=function(){return this.$d.toString()!==R},n.isSame=function(t,a){var r=h(t);return this.startOf(a)<=r&&r<=this.endOf(a)},n.isAfter=function(t,a){return h(t)<this.startOf(a)},n.isBefore=function(t,a){return this.endOf(a)<h(t)},n.$g=function(t,a,r){return d.u(t)?this[a]:this.set(r,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,a){var r=this,c=!!d.u(a)||a,o=d.p(t),l=function(_,m){var D=d.w(r.$u?Date.UTC(r.$y,m,_):new Date(r.$y,m,_),r);return c?D:D.endOf(g)},u=function(_,m){return d.w(r.toDate()[_].apply(r.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(m)),r)},f=this.$W,y=this.$M,x=this.$D,P="set"+(this.$u?"UTC":"");switch(o){case v:return c?l(1,0):l(31,11);case p:return c?l(1,y):l(0,y+1);case B:var N=this.$locale().weekStart||0,W=(f<N?f+7:f)-N;return l(c?x-W:x+(6-W),y);case g:case k:return u(P+"Hours",0);case w:return u(P+"Minutes",1);case S:return u(P+"Seconds",2);case M:return u(P+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,a){var r,c=d.p(t),o="set"+(this.$u?"UTC":""),l=(r={},r[g]=o+"Date",r[k]=o+"Date",r[p]=o+"Month",r[v]=o+"FullYear",r[w]=o+"Hours",r[S]=o+"Minutes",r[M]=o+"Seconds",r[A]=o+"Milliseconds",r)[c],u=c===g?this.$D+(a-this.$W):a;if(c===p||c===v){var f=this.clone().set(k,1);f.$d[l](u),f.init(),this.$d=f.set(k,Math.min(this.$D,f.daysInMonth())).$d}else l&&this.$d[l](u);return this.init(),this},n.set=function(t,a){return this.clone().$set(t,a)},n.get=function(t){return this[d.p(t)]()},n.add=function(t,a){var r,c=this;t=Number(t);var o=d.p(a),l=function(y){var x=h(c);return d.w(x.date(x.date()+Math.round(y*t)),c)};if(o===p)return this.set(p,this.$M+t);if(o===v)return this.set(v,this.$y+t);if(o===g)return l(1);if(o===B)return l(7);var u=(r={},r[S]=O,r[w]=Y,r[M]=C,r)[o]||1,f=this.$d.getTime()+t*u;return d.w(f,this)},n.subtract=function(t,a){return this.add(-1*t,a)},n.format=function(t){var a=this,r=this.$locale();if(!this.isValid())return r.invalidDate||R;var c=t||"YYYY-MM-DDTHH:mm:ssZ",o=d.z(this),l=this.$H,u=this.$m,f=this.$M,y=r.weekdays,x=r.months,P=r.meridiem,N=function(m,D,F,Z){return m&&(m[D]||m(a,c))||F[D].slice(0,Z)},W=function(m){return d.s(l%12||12,m,"0")},_=P||function(m,D,F){var Z=m<12?"AM":"PM";return F?Z.toLowerCase():Z};return c.replace(b,function(m,D){return D||function(F){switch(F){case"YY":return String(a.$y).slice(-2);case"YYYY":return d.s(a.$y,4,"0");case"M":return f+1;case"MM":return d.s(f+1,2,"0");case"MMM":return N(r.monthsShort,f,x,3);case"MMMM":return N(x,f);case"D":return a.$D;case"DD":return d.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return N(r.weekdaysMin,a.$W,y,2);case"ddd":return N(r.weekdaysShort,a.$W,y,3);case"dddd":return y[a.$W];case"H":return String(l);case"HH":return d.s(l,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return _(l,u,!0);case"A":return _(l,u,!1);case"m":return String(u);case"mm":return d.s(u,2,"0");case"s":return String(a.$s);case"ss":return d.s(a.$s,2,"0");case"SSS":return d.s(a.$ms,3,"0");case"Z":return o}return null}(m)||o.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,a,r){var c,o=this,l=d.p(a),u=h(t),f=(u.utcOffset()-this.utcOffset())*O,y=this-u,x=function(){return d.m(o,u)};switch(l){case v:c=x()/12;break;case p:c=x();break;case J:c=x()/3;break;case B:c=(y-f)/6048e5;break;case g:c=(y-f)/864e5;break;case w:c=y/Y;break;case S:c=y/O;break;case M:c=y/C;break;default:c=y}return r?c:d.a(c)},n.daysInMonth=function(){return this.endOf(p).$D},n.$locale=function(){return $[this.$L]},n.locale=function(t,a){if(!t)return this.$L;var r=this.clone(),c=H(t,a,!0);return c&&(r.$L=c),r},n.clone=function(){return d.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},s}(),e=E.prototype;return h.prototype=e,[["$ms",A],["$s",M],["$m",S],["$H",w],["$W",g],["$M",p],["$y",v],["$D",k]].forEach(function(s){e[s[1]]=function(n){return this.$g(n,s[0],s[1])}}),h.extend=function(s,n){return s.$i||(s(n,E,h),s.$i=!0),h},h.locale=H,h.isDayjs=j,h.unix=function(s){return h(1e3*s)},h.en=$[z],h.Ls=$,h.p={},h})})(ee);var de=ee.exports;const K=re(de),ue=["All","Theme Parks","Restaurants","Shopping","Entertainment","Outdoor Activities","Museums","Sports","Nightlife","Other"],he=["All","low","medium","high"],fe=[{value:"all",label:"All Places",icon:"🏪"},{value:"open",label:"Open Now",icon:"🟢"},{value:"closed",label:"Closed",icon:"🔴"}];function me({items:q,onItemSelect:X,onItemUpdate:C,onItemDelete:O,userLocation:Y,getDistanceFromUser:A,loading:M}){const[S,w]=I.useState("All"),[g,B]=I.useState("All"),[p,J]=I.useState("all"),[v,k]=I.useState("createdAt"),[R,Q]=I.useState(!1),[b,U]=I.useState(""),[T,G]=I.useState({}),z=e=>{e&&G(s=>({...s,[e]:!s[e]}))},$=e=>{if(e.openingHours){const s=K(),n=s.day(),t=e.openingHours[n];if(!t||!t.open||!t.close)return!1;try{const a=K(s.format("YYYY-MM-DD")+"T"+t.open),r=K(s.format("YYYY-MM-DD")+"T"+t.close);return!a.isValid()||!r.isValid()?!1:r.isBefore(a)?s.isAfter(a)||s.isBefore(r):s.isAfter(a)&&s.isBefore(r)}catch{return e.isOpen}}return e.isOpen},L=q.filter(e=>{if(!e)return!1;const s=S==="All"||e.category&&e.category===S,n=g==="All"||e.priority&&e.priority===g,t=R?!0:!e.completed,a=p==="all"||p==="open"&&$(e)||p==="closed"&&!$(e),r=b===""||e.title&&e.title.toLowerCase().indexOf(b.toLowerCase())!==-1||e.description&&e.description.toLowerCase().indexOf(b.toLowerCase())!==-1||e.category&&e.category.toLowerCase().indexOf(b.toLowerCase())!==-1||e.address&&e.address.toLowerCase().indexOf(b.toLowerCase())!==-1;return s&&n&&t&&a&&r}),j=[...L].sort((e,s)=>{if(!e||!s)return 0;switch(v){case"priority":const n={high:3,medium:2,low:1},t=n[e.priority]||0;return(n[s.priority]||0)-t;case"distance":if(!Y)return 0;const r=A(e),c=A(s);if(!r||!c)return 0;try{const o=parseFloat(r),l=parseFloat(c);return isNaN(o)||isNaN(l)?0:o-l}catch{return 0}case"createdAt":default:try{const o=s.createdAt instanceof Date?s.createdAt:new Date(s.createdAt),l=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt);return!o||!l||isNaN(o.getTime())||isNaN(l.getTime())?0:o.getTime()-l.getTime()}catch{return 0}}}),H=(e,s)=>{e&&C(e,{completed:s})},h=e=>{e&&window.confirm("Are you sure you want to delete this activity?")&&(C(e,{completed:!1}),O(e))},d=e=>{if(!e)return"#6b7280";switch(e){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}},E=e=>{if(!e)return"📍";switch(e){case"Theme Parks":return"🎢";case"Restaurants":return"🍽️";case"Shopping":return"🛍️";case"Entertainment":return"🎭";case"Outdoor Activities":return"🏃‍♂️";case"Museums":return"🏛️";case"Sports":return"⚽";case"Nightlife":return"🌙";default:return"📍"}};return M?i.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[i.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"⏳"}),i.jsx("p",{children:"Loading your itinerary..."})]}):q.length===0?i.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[i.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"🗺️"}),i.jsx("h3",{children:"No activities yet!"}),i.jsx("p",{style:{color:"#6b7280",marginBottom:"1rem"},children:"Start building your Orlando adventure by adding some activities."}),i.jsx("p",{style:{fontSize:"0.875rem",color:"#9ca3af"},children:"Click the + button on the map to get started!"})]}):i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"1rem"},className:"filters-sticky",children:[i.jsxs("div",{style:{position:"relative",marginBottom:"0.75rem"},children:[i.jsx(se,{size:16,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),i.jsx("input",{type:"text",placeholder:"Search activities, places, or categories...",value:b,onChange:e=>{const n=e.target.value.replace(/[<>]/g,"");U(n)},"aria-label":"Search activities",maxLength:100,style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",outline:"none"}}),b&&i.jsx("button",{onClick:()=>U(""),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",fontSize:"1.25rem",lineHeight:1},title:"Clear search",children:"×"})]}),b&&i.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:["Found ",L.length," result",L.length!==1?"s":"",' for "',b,'"']})]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.75rem"},children:[i.jsx("select",{value:S,onChange:e=>w(e.target.value),"aria-label":"Filter by category",style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"0.875rem",flex:1},children:ue.map(e=>i.jsx("option",{value:e,children:e},e))}),i.jsx("select",{value:g,onChange:e=>B(e.target.value),"aria-label":"Filter by priority",style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"0.875rem",flex:1},children:he.map(e=>i.jsx("option",{value:e,children:e==="All"?"All Priorities":e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.75rem"},children:[i.jsx("select",{value:p,onChange:e=>J(e.target.value),"aria-label":"Filter by open status",style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"0.875rem",flex:1},children:fe.map(e=>i.jsxs("option",{value:e.value,children:[e.icon," ",e.label]},e.value))}),i.jsxs("select",{value:v,onChange:e=>k(e.target.value),"aria-label":"Sort activities",style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"0.875rem",flex:1},children:[i.jsx("option",{value:"createdAt",children:"Sort by Date Added"}),i.jsx("option",{value:"priority",children:"Sort by Priority"}),i.jsx("option",{value:"distance",children:"Sort by Distance"})]})]}),i.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.875rem"},children:[i.jsx("input",{type:"checkbox",checked:R,onChange:e=>Q(e.target.checked),"aria-label":"Show completed activities"}),"Show completed"]})})]}),i.jsx("div",{children:j.length===0?i.jsxs("div",{style:{textAlign:"center",padding:"1.5rem",color:"#6b7280"},children:[i.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"🔎"}),i.jsx("p",{children:"No activities match your filters."}),i.jsx("p",{style:{fontSize:"0.875rem",marginTop:"0.25rem"},children:"Try clearing search or adjusting filters."})]}):j.map(e=>!e||!e.id?null:i.jsxs("div",{className:`itinerary-item ${e.completed?"completed":""}`,style:{opacity:e.completed?.6:1,borderLeft:`4px solid ${d(e.priority)}`},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[i.jsxs("div",{style:{flex:1},children:[i.jsxs("h3",{style:{textDecoration:e.completed?"line-through":"none",color:e.completed?"#9ca3af":"#1e293b"},children:[E(e.category)," ",e.title]}),i.jsx("p",{style:{color:e.completed?"#9ca3af":"#64748b",marginBottom:"0.5rem"},className:T[e.id]?"":"line-clamp-2",children:e.description}),e.description&&e.description.length>100&&i.jsx("button",{onClick:()=>z(e.id),style:{background:"none",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"0.75rem",padding:0},"aria-label":T[e.id]?"Show less":"Show more",children:T[e.id]?"Show less":"Show more"}),i.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",fontSize:"0.75rem"},children:[i.jsx("span",{style:{color:d(e.priority),fontWeight:"500"},children:e.priority.toUpperCase()}),i.jsxs("span",{style:{color:"#6b7280",display:"flex",alignItems:"center",gap:"0.25rem"},children:[i.jsx(oe,{size:12}),e.estimatedDuration," min"]}),i.jsxs("span",{style:{color:"#6b7280",display:"flex",alignItems:"center",gap:"0.25rem"},children:[i.jsx(ce,{size:12}),"$",e.cost]}),i.jsxs("button",{onClick:()=>C(e.id,{isOpen:!e.isOpen}),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",color:e.isOpen?"#10b981":"#ef4444",display:"flex",alignItems:"center",gap:"0.25rem",fontWeight:"500",fontSize:"0.75rem"},title:e.isOpen?"Click to mark as closed":"Click to mark as open",children:[e.isOpen?"🟢":"🔴",e.isOpen?"Open":"Closed"]})]}),Y&&i.jsxs("p",{className:"distance",style:{marginTop:"0.5rem"},children:["📍 ",A(e)]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginLeft:"0.5rem"},children:[i.jsx("button",{onClick:()=>H(e.id,!e.completed),"aria-label":e.completed?"Mark as incomplete":"Mark as complete",style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",color:e.completed?"#10b981":"#9ca3af"},title:e.completed?"Mark as incomplete":"Mark as complete",children:e.completed?i.jsx(ie,{size:16}):i.jsx(ae,{size:16})}),i.jsx("button",{onClick:()=>X(e),"aria-label":"Show activity on map",style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",color:"#3b82f6"},title:"Show on map",children:i.jsx(ne,{size:16})}),i.jsx("button",{onClick:()=>h(e.id),"aria-label":"Delete activity",style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",color:"#ef4444"},title:"Delete activity",children:i.jsx(le,{size:16})})]})]}),e.notes&&i.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.5rem",background:"#f8fafc",borderRadius:"4px",fontSize:"0.75rem",color:"#64748b"},children:[i.jsx("strong",{children:"Notes:"})," ",e.notes]})]},e.id))}),j.length>0&&i.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#f8fafc",borderRadius:"6px",fontSize:"0.875rem",color:"#64748b"},children:[i.jsx("strong",{children:"Summary:"})," ",j.length," activity",j.length!==1?"ies":"",Y&&i.jsxs("span",{children:[" • Total estimated cost: ","$",j.reduce((e,s)=>{const n=typeof s.cost=="number"&&!isNaN(s.cost)?s.cost:0;return e+n},0).toFixed(2)]})]})]})}export{me as default};
