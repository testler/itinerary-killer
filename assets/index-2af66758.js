(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Zg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var kf={exports:{}},Zo={},Sf={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=Symbol.for("react.element"),Wg=Symbol.for("react.portal"),Hg=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),qg=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Gg=Symbol.for("react.context"),Jg=Symbol.for("react.forward_ref"),Qg=Symbol.for("react.suspense"),Yg=Symbol.for("react.memo"),Xg=Symbol.for("react.lazy"),Hh=Symbol.iterator;function ev(t){return t===null||typeof t!="object"?null:(t=Hh&&t[Hh]||t["@@iterator"],typeof t=="function"?t:null)}var Pf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tf=Object.assign,Ef={};function Qi(t,e,n){this.props=t,this.context=e,this.refs=Ef,this.updater=n||Pf}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lf(){}Lf.prototype=Qi.prototype;function Iu(t,e,n){this.props=t,this.context=e,this.refs=Ef,this.updater=n||Pf}var Nu=Iu.prototype=new Lf;Nu.constructor=Iu;Tf(Nu,Qi.prototype);Nu.isPureReactComponent=!0;var Vh=Array.isArray,Cf=Object.prototype.hasOwnProperty,Mu={current:null},bf={key:!0,ref:!0,__self:!0,__source:!0};function Of(t,e,n){var r,o={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)Cf.call(e,r)&&!bf.hasOwnProperty(r)&&(o[r]=e[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:us,type:t,key:a,ref:u,props:o,_owner:Mu.current}}function tv(t,e){return{$$typeof:us,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ru(t){return typeof t=="object"&&t!==null&&t.$$typeof===us}function nv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qh=/\/+/g;function Wa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nv(""+t.key):e.toString(36)}function ro(t,e,n,r,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case us:case Wg:u=!0}}if(u)return u=t,o=o(u),t=r===""?"."+Wa(u,0):r,Vh(o)?(n="",t!=null&&(n=t.replace(qh,"$&/")+"/"),ro(o,e,n,"",function(p){return p})):o!=null&&(Ru(o)&&(o=tv(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(qh,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=r===""?".":r+":",Vh(t))for(var h=0;h<t.length;h++){a=t[h];var d=r+Wa(a,h);u+=ro(a,e,n,d,o)}else if(d=ev(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=r+Wa(a,h++),u+=ro(a,e,n,d,o);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Ms(t,e,n){if(t==null)return t;var r=[],o=0;return ro(t,r,"","",function(a){return e.call(n,a,o++)}),r}function iv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},so={transition:null},rv={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:so,ReactCurrentOwner:Mu};function jf(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Ms,forEach:function(t,e,n){Ms(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ms(t,function(){e++}),e},toArray:function(t){return Ms(t,function(e){return e})||[]},only:function(t){if(!Ru(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Qi;ne.Fragment=Hg;ne.Profiler=qg;ne.PureComponent=Iu;ne.StrictMode=Vg;ne.Suspense=Qg;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rv;ne.act=jf;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tf({},t.props),o=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=Mu.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)Cf.call(e,d)&&!bf.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:us,type:t.type,key:o,ref:a,props:r,_owner:u}};ne.createContext=function(t){return t={$$typeof:Gg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kg,_context:t},t.Consumer=t};ne.createElement=Of;ne.createFactory=function(t){var e=Of.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:Jg,render:t}};ne.isValidElement=Ru;ne.lazy=function(t){return{$$typeof:Xg,_payload:{_status:-1,_result:t},_init:iv}};ne.memo=function(t,e){return{$$typeof:Yg,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=so.transition;so.transition={};try{t()}finally{so.transition=e}};ne.unstable_act=jf;ne.useCallback=function(t,e){return Je.current.useCallback(t,e)};ne.useContext=function(t){return Je.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};ne.useEffect=function(t,e){return Je.current.useEffect(t,e)};ne.useId=function(){return Je.current.useId()};ne.useImperativeHandle=function(t,e,n){return Je.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Je.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return Je.current.useReducer(t,e,n)};ne.useRef=function(t){return Je.current.useRef(t)};ne.useState=function(t){return Je.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Je.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Je.current.useTransition()};ne.version="18.3.1";Sf.exports=ne;var Z=Sf.exports;const Tl=Fg(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=Z,ov=Symbol.for("react.element"),av=Symbol.for("react.fragment"),lv=Object.prototype.hasOwnProperty,uv=sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cv={key:!0,ref:!0,__self:!0,__source:!0};function Af(t,e,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)lv.call(e,r)&&!cv.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:ov,type:t,key:a,ref:u,props:o,_owner:uv.current}}Zo.Fragment=av;Zo.jsx=Af;Zo.jsxs=Af;kf.exports=Zo;var k=kf.exports,El={},If={exports:{}},dt={},Nf={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,q){var M=j.length;j.push(q);e:for(;0<M;){var V=M-1>>>1,ie=j[V];if(0<o(ie,q))j[V]=q,j[M]=ie,M=V;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var q=j[0],M=j.pop();if(M!==q){j[0]=M;e:for(var V=0,ie=j.length,xe=ie>>>1;V<xe;){var B=2*(V+1)-1,G=j[B],K=B+1,Ne=j[K];if(0>o(G,M))K<ie&&0>o(Ne,G)?(j[V]=Ne,j[K]=M,V=K):(j[V]=G,j[B]=M,V=B);else if(K<ie&&0>o(Ne,M))j[V]=Ne,j[K]=M,V=K;else break e}}return q}function o(j,q){var M=j.sortIndex-q.sortIndex;return M!==0?M:j.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,_=null,v=3,P=!1,E=!1,b=!1,z=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var q=n(p);q!==null;){if(q.callback===null)r(p);else if(q.startTime<=j)r(p),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(p)}}function O(j){if(b=!1,x(j),!E)if(n(d)!==null)E=!0,be(R);else{var q=n(p);q!==null&&St(O,q.startTime-j)}}function R(j,q){E=!1,b&&(b=!1,S($),$=-1),P=!0;var M=v;try{for(x(q),_=n(d);_!==null&&(!(_.expirationTime>q)||j&&!ae());){var V=_.callback;if(typeof V=="function"){_.callback=null,v=_.priorityLevel;var ie=V(_.expirationTime<=q);q=t.unstable_now(),typeof ie=="function"?_.callback=ie:_===n(d)&&r(d),x(q)}else r(d);_=n(d)}if(_!==null)var xe=!0;else{var B=n(p);B!==null&&St(O,B.startTime-q),xe=!1}return xe}finally{_=null,v=M,P=!1}}var N=!1,D=null,$=-1,ue=5,Y=-1;function ae(){return!(t.unstable_now()-Y<ue)}function Pe(){if(D!==null){var j=t.unstable_now();Y=j;var q=!0;try{q=D(!0,j)}finally{q?Mt():(N=!1,D=null)}}else N=!1}var Mt;if(typeof y=="function")Mt=function(){y(Pe)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,ir=Ye.port2;Ye.port1.onmessage=Pe,Mt=function(){ir.postMessage(null)}}else Mt=function(){z(Pe,0)};function be(j){D=j,N||(N=!0,Mt())}function St(j,q){$=z(function(){j(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){E||P||(E=!0,be(R))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var M=v;v=q;try{return j()}finally{v=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=v;v=j;try{return q()}finally{v=M}},t.unstable_scheduleCallback=function(j,q,M){var V=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?V+M:V):M=V,j){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=M+ie,j={id:g++,callback:q,priorityLevel:j,startTime:M,expirationTime:ie,sortIndex:-1},M>V?(j.sortIndex=M,e(p,j),n(d)===null&&j===n(p)&&(b?(S($),$=-1):b=!0,St(O,M-V))):(j.sortIndex=ie,e(d,j),E||P||(E=!0,be(R))),j},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(j){var q=v;return function(){var M=v;v=q;try{return j.apply(this,arguments)}finally{v=M}}}})(Mf);Nf.exports=Mf;var hv=Nf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=Z,ht=hv;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rf=new Set,Hr={};function ri(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(Hr[t]=e,t=0;t<e.length;t++)Rf.add(e[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=Object.prototype.hasOwnProperty,fv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kh={},Gh={};function pv(t){return Ll.call(Gh,t)?!0:Ll.call(Kh,t)?!1:fv.test(t)?Gh[t]=!0:(Kh[t]=!0,!1)}function mv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _v(t,e,n,r){if(e===null||typeof e>"u"||mv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qe(t,e,n,r,o,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new Qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function Du(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zu,Du);Ue[e]=new Qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zu,Du);Ue[e]=new Qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zu,Du);Ue[e]=new Qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bu(t,e,n,r){var o=Ue.hasOwnProperty(e)?Ue[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_v(e,n,o,r)&&(n=null),r||o===null?pv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ln=dv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Df=Symbol.for("react.context"),Uu=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),Fu=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Bf=Symbol.for("react.offscreen"),Jh=Symbol.iterator;function vr(t){return t===null||typeof t!="object"?null:(t=Jh&&t[Jh]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Ha;function Cr(t){if(Ha===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ha=e&&e[1]||""}return`
`+Ha+t}var Va=!1;function qa(t,e){if(!t||Va)return"";Va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{Va=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cr(t):""}function gv(t){switch(t.tag){case 5:return Cr(t.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 2:case 15:return t=qa(t.type,!1),t;case 11:return t=qa(t.type.render,!1),t;case 1:return t=qa(t.type,!0),t;default:return""}}function jl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case Ti:return"Portal";case Cl:return"Profiler";case $u:return"StrictMode";case bl:return"Suspense";case Ol:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Df:return(t.displayName||"Context")+".Consumer";case zf:return(t._context.displayName||"Context")+".Provider";case Uu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fu:return e=t.displayName||null,e!==null?e:jl(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return jl(t(e))}catch{}}return null}function vv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jl(e);case 8:return e===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function On(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $f(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yv(t){var e=$f(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zs(t){t._valueTracker||(t._valueTracker=yv(t))}function Uf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$f(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function go(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Al(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=On(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ff(t,e){e=e.checked,e!=null&&Bu(t,"checked",e,!1)}function Il(t,e){Ff(t,e);var n=On(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nl(t,e.type,On(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nl(t,e,n){(e!=="number"||go(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var br=Array.isArray;function zi(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+On(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Ml(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(br(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:On(n)}}function Zf(t,e){var n=On(e.value),r=On(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ed(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ds,Hf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ds.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wv=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(t){wv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ir[e]=Ir[t]})});function Vf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ir.hasOwnProperty(t)&&Ir[t]?(""+e).trim():e+"px"}function qf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Vf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var xv=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zl(t,e){if(e){if(xv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Dl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=null;function Zu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $l=null,Di=null,Bi=null;function td(t){if(t=ds(t)){if(typeof $l!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Ko(e),$l(t.stateNode,t.type,e))}}function Kf(t){Di?Bi?Bi.push(t):Bi=[t]:Di=t}function Gf(){if(Di){var t=Di,e=Bi;if(Bi=Di=null,td(t),e)for(t=0;t<e.length;t++)td(e[t])}}function Jf(t,e){return t(e)}function Qf(){}var Ka=!1;function Yf(t,e,n){if(Ka)return t(e,n);Ka=!0;try{return Jf(t,e,n)}finally{Ka=!1,(Di!==null||Bi!==null)&&(Qf(),Gf())}}function qr(t,e){var n=t.stateNode;if(n===null)return null;var r=Ko(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Ul=!1;if(rn)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Ul=!1}function kv(t,e,n,r,o,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(g){this.onError(g)}}var Nr=!1,vo=null,yo=!1,Fl=null,Sv={onError:function(t){Nr=!0,vo=t}};function Pv(t,e,n,r,o,a,u,h,d){Nr=!1,vo=null,kv.apply(Sv,arguments)}function Tv(t,e,n,r,o,a,u,h,d){if(Pv.apply(this,arguments),Nr){if(Nr){var p=vo;Nr=!1,vo=null}else throw Error(I(198));yo||(yo=!0,Fl=p)}}function si(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nd(t){if(si(t)!==t)throw Error(I(188))}function Ev(t){var e=t.alternate;if(!e){if(e=si(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return nd(o),t;if(a===r)return nd(o),e;a=a.sibling}throw Error(I(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,r=a;break}if(h===r){u=!0,r=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=o;break}if(h===r){u=!0,r=a,n=o;break}h=h.sibling}if(!u)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function ep(t){return t=Ev(t),t!==null?tp(t):null}function tp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tp(t);if(e!==null)return e;t=t.sibling}return null}var np=ht.unstable_scheduleCallback,id=ht.unstable_cancelCallback,Lv=ht.unstable_shouldYield,Cv=ht.unstable_requestPaint,Se=ht.unstable_now,bv=ht.unstable_getCurrentPriorityLevel,Wu=ht.unstable_ImmediatePriority,ip=ht.unstable_UserBlockingPriority,wo=ht.unstable_NormalPriority,Ov=ht.unstable_LowPriority,rp=ht.unstable_IdlePriority,Wo=null,Wt=null;function jv(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Wo,t,void 0,(t.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Nv,Av=Math.log,Iv=Math.LN2;function Nv(t){return t>>>=0,t===0?32:31-(Av(t)/Iv|0)|0}var Bs=64,$s=4194304;function Or(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?r=Or(h):(a&=u,a!==0&&(r=Or(a)))}else u=n&~o,u!==0?r=Or(u):a!==0&&(r=Or(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-At(e),o=1<<n,r|=t[n],e&=~o;return r}function Mv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-At(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&r)&&(o[u]=Mv(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function Zl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sp(){var t=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),t}function Ga(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-At(e),t[e]=n}function zv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-At(n),a=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~a}}function Hu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-At(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var le=0;function op(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ap,Vu,lp,up,cp,Wl=!1,Us=[],kn=null,Sn=null,Pn=null,Kr=new Map,Gr=new Map,gn=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Kr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(e.pointerId)}}function wr(t,e,n,r,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},e!==null&&(e=ds(e),e!==null&&Vu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Bv(t,e,n,r,o){switch(e){case"focusin":return kn=wr(kn,t,e,n,r,o),!0;case"dragenter":return Sn=wr(Sn,t,e,n,r,o),!0;case"mouseover":return Pn=wr(Pn,t,e,n,r,o),!0;case"pointerover":var a=o.pointerId;return Kr.set(a,wr(Kr.get(a)||null,t,e,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Gr.set(a,wr(Gr.get(a)||null,t,e,n,r,o)),!0}return!1}function hp(t){var e=Kn(t.target);if(e!==null){var n=si(e);if(n!==null){if(e=n.tag,e===13){if(e=Xf(n),e!==null){t.blockedOn=e,cp(t.priority,function(){lp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bl=r,n.target.dispatchEvent(r),Bl=null}else return e=ds(n),e!==null&&Vu(e),t.blockedOn=n,!1;e.shift()}return!0}function sd(t,e,n){oo(t)&&n.delete(e)}function $v(){Wl=!1,kn!==null&&oo(kn)&&(kn=null),Sn!==null&&oo(Sn)&&(Sn=null),Pn!==null&&oo(Pn)&&(Pn=null),Kr.forEach(sd),Gr.forEach(sd)}function xr(t,e){t.blockedOn===e&&(t.blockedOn=null,Wl||(Wl=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,$v)))}function Jr(t){function e(o){return xr(o,t)}if(0<Us.length){xr(Us[0],t);for(var n=1;n<Us.length;n++){var r=Us[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kn!==null&&xr(kn,t),Sn!==null&&xr(Sn,t),Pn!==null&&xr(Pn,t),Kr.forEach(e),Gr.forEach(e),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)hp(n),n.blockedOn===null&&gn.shift()}var $i=ln.ReactCurrentBatchConfig,ko=!0;function Uv(t,e,n,r){var o=le,a=$i.transition;$i.transition=null;try{le=1,qu(t,e,n,r)}finally{le=o,$i.transition=a}}function Fv(t,e,n,r){var o=le,a=$i.transition;$i.transition=null;try{le=4,qu(t,e,n,r)}finally{le=o,$i.transition=a}}function qu(t,e,n,r){if(ko){var o=Hl(t,e,n,r);if(o===null)sl(t,e,r,So,n),rd(t,r);else if(Bv(o,t,e,n,r))r.stopPropagation();else if(rd(t,r),e&4&&-1<Dv.indexOf(t)){for(;o!==null;){var a=ds(o);if(a!==null&&ap(a),a=Hl(t,e,n,r),a===null&&sl(t,e,r,So,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else sl(t,e,r,null,n)}}var So=null;function Hl(t,e,n,r){if(So=null,t=Zu(r),t=Kn(t),t!==null)if(e=si(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return So=t,null}function dp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bv()){case Wu:return 1;case ip:return 4;case wo:case Ov:return 16;case rp:return 536870912;default:return 16}default:return 16}}var wn=null,Ku=null,ao=null;function fp(){if(ao)return ao;var t,e=Ku,n=e.length,r,o="value"in wn?wn.value:wn.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===o[a-r];r++);return ao=o.slice(t,1<r?1-r:void 0)}function lo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fs(){return!0}function od(){return!1}function ft(t){function e(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fs:od,this.isPropagationStopped=od,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),e}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=ft(Yi),hs=ye({},Yi,{view:0,detail:0}),Zv=ft(hs),Ja,Qa,kr,Ho=ye({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kr&&(kr&&t.type==="mousemove"?(Ja=t.screenX-kr.screenX,Qa=t.screenY-kr.screenY):Qa=Ja=0,kr=t),Ja)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),ad=ft(Ho),Wv=ye({},Ho,{dataTransfer:0}),Hv=ft(Wv),Vv=ye({},hs,{relatedTarget:0}),Ya=ft(Vv),qv=ye({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Kv=ft(qv),Gv=ye({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jv=ft(Gv),Qv=ye({},Yi,{data:0}),ld=ft(Qv),Yv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ey={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ty(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ey[t])?!!e[t]:!1}function Ju(){return ty}var ny=ye({},hs,{key:function(t){if(t.key){var e=Yv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(t){return t.type==="keypress"?lo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iy=ft(ny),ry=ye({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=ft(ry),sy=ye({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),oy=ft(sy),ay=ye({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ly=ft(ay),uy=ye({},Ho,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cy=ft(uy),hy=[9,13,27,32],Qu=rn&&"CompositionEvent"in window,Mr=null;rn&&"documentMode"in document&&(Mr=document.documentMode);var dy=rn&&"TextEvent"in window&&!Mr,pp=rn&&(!Qu||Mr&&8<Mr&&11>=Mr),cd=String.fromCharCode(32),hd=!1;function mp(t,e){switch(t){case"keyup":return hy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _p(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Li=!1;function fy(t,e){switch(t){case"compositionend":return _p(e);case"keypress":return e.which!==32?null:(hd=!0,cd);case"textInput":return t=e.data,t===cd&&hd?null:t;default:return null}}function py(t,e){if(Li)return t==="compositionend"||!Qu&&mp(t,e)?(t=fp(),ao=Ku=wn=null,Li=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pp&&e.locale!=="ko"?null:e.data;default:return null}}var my={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!my[t.type]:e==="textarea"}function gp(t,e,n,r){Kf(r),e=Po(e,"onChange"),0<e.length&&(n=new Gu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rr=null,Qr=null;function _y(t){Cp(t,0)}function Vo(t){var e=Oi(t);if(Uf(e))return t}function gy(t,e){if(t==="change")return e}var vp=!1;if(rn){var Xa;if(rn){var el="oninput"in document;if(!el){var fd=document.createElement("div");fd.setAttribute("oninput","return;"),el=typeof fd.oninput=="function"}Xa=el}else Xa=!1;vp=Xa&&(!document.documentMode||9<document.documentMode)}function pd(){Rr&&(Rr.detachEvent("onpropertychange",yp),Qr=Rr=null)}function yp(t){if(t.propertyName==="value"&&Vo(Qr)){var e=[];gp(e,Qr,t,Zu(t)),Yf(_y,e)}}function vy(t,e,n){t==="focusin"?(pd(),Rr=e,Qr=n,Rr.attachEvent("onpropertychange",yp)):t==="focusout"&&pd()}function yy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Qr)}function wy(t,e){if(t==="click")return Vo(e)}function xy(t,e){if(t==="input"||t==="change")return Vo(e)}function ky(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nt=typeof Object.is=="function"?Object.is:ky;function Yr(t,e){if(Nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ll.call(e,o)||!Nt(t[o],e[o]))return!1}return!0}function md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _d(t,e){var n=md(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=md(n)}}function wp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xp(){for(var t=window,e=go();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=go(t.document)}return e}function Yu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sy(t){var e=xp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wp(n.ownerDocument.documentElement,n)){if(r!==null&&Yu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!t.extend&&a>r&&(o=r,r=a,a=o),o=_d(n,a);var u=_d(n,r);o&&u&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Py=rn&&"documentMode"in document&&11>=document.documentMode,Ci=null,Vl=null,zr=null,ql=!1;function gd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ql||Ci==null||Ci!==go(r)||(r=Ci,"selectionStart"in r&&Yu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zr&&Yr(zr,r)||(zr=r,r=Po(Vl,"onSelect"),0<r.length&&(e=new Gu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ci)))}function Zs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},tl={},kp={};rn&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function qo(t){if(tl[t])return tl[t];if(!bi[t])return t;var e=bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kp)return tl[t]=e[n];return t}var Sp=qo("animationend"),Pp=qo("animationiteration"),Tp=qo("animationstart"),Ep=qo("transitionend"),Lp=new Map,vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(t,e){Lp.set(t,e),ri(e,[t])}for(var nl=0;nl<vd.length;nl++){var il=vd[nl],Ty=il.toLowerCase(),Ey=il[0].toUpperCase()+il.slice(1);In(Ty,"on"+Ey)}In(Sp,"onAnimationEnd");In(Pp,"onAnimationIteration");In(Tp,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(Ep,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function yd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tv(r,e,void 0,t),t.currentTarget=null}function Cp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;yd(o,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;yd(o,h,p),a=d}}}if(yo)throw t=Fl,yo=!1,Fl=null,t}function fe(t,e){var n=e[Yl];n===void 0&&(n=e[Yl]=new Set);var r=t+"__bubble";n.has(r)||(bp(e,t,2,!1),n.add(r))}function rl(t,e,n){var r=0;e&&(r|=4),bp(n,t,r,e)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function Xr(t){if(!t[Ws]){t[Ws]=!0,Rf.forEach(function(n){n!=="selectionchange"&&(Ly.has(n)||rl(n,!1,t),rl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ws]||(e[Ws]=!0,rl("selectionchange",!1,e))}}function bp(t,e,n,r){switch(dp(e)){case 1:var o=Uv;break;case 4:o=Fv;break;default:o=qu}n=o.bind(null,e,n,t),o=void 0,!Ul||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function sl(t,e,n,r,o){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=Kn(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}Yf(function(){var p=a,g=Zu(n),_=[];e:{var v=Lp.get(t);if(v!==void 0){var P=Gu,E=t;switch(t){case"keypress":if(lo(n)===0)break e;case"keydown":case"keyup":P=iy;break;case"focusin":E="focus",P=Ya;break;case"focusout":E="blur",P=Ya;break;case"beforeblur":case"afterblur":P=Ya;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=oy;break;case Sp:case Pp:case Tp:P=Kv;break;case Ep:P=ly;break;case"scroll":P=Zv;break;case"wheel":P=cy;break;case"copy":case"cut":case"paste":P=Jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=ud}var b=(e&4)!==0,z=!b&&t==="scroll",S=b?v!==null?v+"Capture":null:v;b=[];for(var y=p,x;y!==null;){x=y;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,S!==null&&(O=qr(y,S),O!=null&&b.push(es(y,O,x)))),z)break;y=y.return}0<b.length&&(v=new P(v,E,null,n,g),_.push({event:v,listeners:b}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",v&&n!==Bl&&(E=n.relatedTarget||n.fromElement)&&(Kn(E)||E[sn]))break e;if((P||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,P?(E=n.relatedTarget||n.toElement,P=p,E=E?Kn(E):null,E!==null&&(z=si(E),E!==z||E.tag!==5&&E.tag!==6)&&(E=null)):(P=null,E=p),P!==E)){if(b=ad,O="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=ud,O="onPointerLeave",S="onPointerEnter",y="pointer"),z=P==null?v:Oi(P),x=E==null?v:Oi(E),v=new b(O,y+"leave",P,n,g),v.target=z,v.relatedTarget=x,O=null,Kn(g)===p&&(b=new b(S,y+"enter",E,n,g),b.target=x,b.relatedTarget=z,O=b),z=O,P&&E)t:{for(b=P,S=E,y=0,x=b;x;x=gi(x))y++;for(x=0,O=S;O;O=gi(O))x++;for(;0<y-x;)b=gi(b),y--;for(;0<x-y;)S=gi(S),x--;for(;y--;){if(b===S||S!==null&&b===S.alternate)break t;b=gi(b),S=gi(S)}b=null}else b=null;P!==null&&wd(_,v,P,b,!1),E!==null&&z!==null&&wd(_,z,E,b,!0)}}e:{if(v=p?Oi(p):window,P=v.nodeName&&v.nodeName.toLowerCase(),P==="select"||P==="input"&&v.type==="file")var R=gy;else if(dd(v))if(vp)R=xy;else{R=yy;var N=vy}else(P=v.nodeName)&&P.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(R=wy);if(R&&(R=R(t,p))){gp(_,R,n,g);break e}N&&N(t,v,p),t==="focusout"&&(N=v._wrapperState)&&N.controlled&&v.type==="number"&&Nl(v,"number",v.value)}switch(N=p?Oi(p):window,t){case"focusin":(dd(N)||N.contentEditable==="true")&&(Ci=N,Vl=p,zr=null);break;case"focusout":zr=Vl=Ci=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,gd(_,n,g);break;case"selectionchange":if(Py)break;case"keydown":case"keyup":gd(_,n,g)}var D;if(Qu)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Li?mp(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(pp&&n.locale!=="ko"&&(Li||$!=="onCompositionStart"?$==="onCompositionEnd"&&Li&&(D=fp()):(wn=g,Ku="value"in wn?wn.value:wn.textContent,Li=!0)),N=Po(p,$),0<N.length&&($=new ld($,t,null,n,g),_.push({event:$,listeners:N}),D?$.data=D:(D=_p(n),D!==null&&($.data=D)))),(D=dy?fy(t,n):py(t,n))&&(p=Po(p,"onBeforeInput"),0<p.length&&(g=new ld("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:p}),g.data=D))}Cp(_,e)})}function es(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Po(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=qr(t,n),a!=null&&r.unshift(es(t,a,o)),a=qr(t,e),a!=null&&r.push(es(t,a,o))),t=t.return}return r}function gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wd(t,e,n,r,o){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,o?(d=qr(n,a),d!=null&&u.unshift(es(n,d,h))):o||(d=qr(n,a),d!=null&&u.push(es(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Cy=/\r\n?/g,by=/\u0000|\uFFFD/g;function xd(t){return(typeof t=="string"?t:""+t).replace(Cy,`
`).replace(by,"")}function Hs(t,e,n){if(e=xd(e),xd(t)!==e&&n)throw Error(I(425))}function To(){}var Kl=null,Gl=null;function Jl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ql=typeof setTimeout=="function"?setTimeout:void 0,Oy=typeof clearTimeout=="function"?clearTimeout:void 0,kd=typeof Promise=="function"?Promise:void 0,jy=typeof queueMicrotask=="function"?queueMicrotask:typeof kd<"u"?function(t){return kd.resolve(null).then(t).catch(Ay)}:Ql;function Ay(t){setTimeout(function(){throw t})}function ol(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Jr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Jr(e)}function Tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Xi,ts="__reactProps$"+Xi,sn="__reactContainer$"+Xi,Yl="__reactEvents$"+Xi,Iy="__reactListeners$"+Xi,Ny="__reactHandles$"+Xi;function Kn(t){var e=t[Zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sn]||n[Zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sd(t);t!==null;){if(n=t[Zt])return n;t=Sd(t)}return e}t=n,n=t.parentNode}return null}function ds(t){return t=t[Zt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Ko(t){return t[ts]||null}var Xl=[],ji=-1;function Nn(t){return{current:t}}function pe(t){0>ji||(t.current=Xl[ji],Xl[ji]=null,ji--)}function de(t,e){ji++,Xl[ji]=t.current,t.current=e}var jn={},He=Nn(jn),it=Nn(!1),Xn=jn;function Wi(t,e){var n=t.type.contextTypes;if(!n)return jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function rt(t){return t=t.childContextTypes,t!=null}function Eo(){pe(it),pe(He)}function Pd(t,e,n){if(He.current!==jn)throw Error(I(168));de(He,e),de(it,n)}function Op(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(I(108,vv(t)||"Unknown",o));return ye({},n,r)}function Lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,Xn=He.current,de(He,t),de(it,it.current),!0}function Td(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=Op(t,e,Xn),r.__reactInternalMemoizedMergedChildContext=t,pe(it),pe(He),de(He,t)):pe(it),de(it,n)}var Xt=null,Go=!1,al=!1;function jp(t){Xt===null?Xt=[t]:Xt.push(t)}function My(t){Go=!0,jp(t)}function Mn(){if(!al&&Xt!==null){al=!0;var t=0,e=le;try{var n=Xt;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xt=null,Go=!1}catch(o){throw Xt!==null&&(Xt=Xt.slice(t+1)),np(Wu,Mn),o}finally{le=e,al=!1}}return null}var Ai=[],Ii=0,Co=null,bo=0,gt=[],vt=0,ei=null,en=1,tn="";function Wn(t,e){Ai[Ii++]=bo,Ai[Ii++]=Co,Co=t,bo=e}function Ap(t,e,n){gt[vt++]=en,gt[vt++]=tn,gt[vt++]=ei,ei=t;var r=en;t=tn;var o=32-At(r)-1;r&=~(1<<o),n+=1;var a=32-At(e)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,en=1<<32-At(e)+o|n<<o|r,tn=a+t}else en=1<<a|n<<o|r,tn=t}function Xu(t){t.return!==null&&(Wn(t,1),Ap(t,1,0))}function ec(t){for(;t===Co;)Co=Ai[--Ii],Ai[Ii]=null,bo=Ai[--Ii],Ai[Ii]=null;for(;t===ei;)ei=gt[--vt],gt[vt]=null,tn=gt[--vt],gt[vt]=null,en=gt[--vt],gt[vt]=null}var ut=null,at=null,me=!1,jt=null;function Ip(t,e){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ed(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ut=t,at=Tn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ut=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ei!==null?{id:en,overflow:tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ut=t,at=null,!0):!1;default:return!1}}function eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tu(t){if(me){var e=at;if(e){var n=e;if(!Ed(t,e)){if(eu(t))throw Error(I(418));e=Tn(n.nextSibling);var r=ut;e&&Ed(t,e)?Ip(r,n):(t.flags=t.flags&-4097|2,me=!1,ut=t)}}else{if(eu(t))throw Error(I(418));t.flags=t.flags&-4097|2,me=!1,ut=t}}}function Ld(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ut=t}function Vs(t){if(t!==ut)return!1;if(!me)return Ld(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jl(t.type,t.memoizedProps)),e&&(e=at)){if(eu(t))throw Np(),Error(I(418));for(;e;)Ip(t,e),e=Tn(e.nextSibling)}if(Ld(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=Tn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=ut?Tn(t.stateNode.nextSibling):null;return!0}function Np(){for(var t=at;t;)t=Tn(t.nextSibling)}function Hi(){at=ut=null,me=!1}function tc(t){jt===null?jt=[t]:jt.push(t)}var Ry=ln.ReactCurrentBatchConfig;function Sr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var o=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function qs(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cd(t){var e=t._init;return e(t._payload)}function Mp(t){function e(S,y){if(t){var x=S.deletions;x===null?(S.deletions=[y],S.flags|=16):x.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function o(S,y){return S=bn(S,y),S.index=0,S.sibling=null,S}function a(S,y,x){return S.index=x,t?(x=S.alternate,x!==null?(x=x.index,x<y?(S.flags|=2,y):x):(S.flags|=2,y)):(S.flags|=1048576,y)}function u(S){return t&&S.alternate===null&&(S.flags|=2),S}function h(S,y,x,O){return y===null||y.tag!==6?(y=pl(x,S.mode,O),y.return=S,y):(y=o(y,x),y.return=S,y)}function d(S,y,x,O){var R=x.type;return R===Ei?g(S,y,x.props.children,O,x.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===mn&&Cd(R)===y.type)?(O=o(y,x.props),O.ref=Sr(S,y,x),O.return=S,O):(O=_o(x.type,x.key,x.props,null,S.mode,O),O.ref=Sr(S,y,x),O.return=S,O)}function p(S,y,x,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=ml(x,S.mode,O),y.return=S,y):(y=o(y,x.children||[]),y.return=S,y)}function g(S,y,x,O,R){return y===null||y.tag!==7?(y=Yn(x,S.mode,O,R),y.return=S,y):(y=o(y,x),y.return=S,y)}function _(S,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pl(""+y,S.mode,x),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rs:return x=_o(y.type,y.key,y.props,null,S.mode,x),x.ref=Sr(S,null,y),x.return=S,x;case Ti:return y=ml(y,S.mode,x),y.return=S,y;case mn:var O=y._init;return _(S,O(y._payload),x)}if(br(y)||vr(y))return y=Yn(y,S.mode,x,null),y.return=S,y;qs(S,y)}return null}function v(S,y,x,O){var R=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:h(S,y,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rs:return x.key===R?d(S,y,x,O):null;case Ti:return x.key===R?p(S,y,x,O):null;case mn:return R=x._init,v(S,y,R(x._payload),O)}if(br(x)||vr(x))return R!==null?null:g(S,y,x,O,null);qs(S,x)}return null}function P(S,y,x,O,R){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(x)||null,h(y,S,""+O,R);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Rs:return S=S.get(O.key===null?x:O.key)||null,d(y,S,O,R);case Ti:return S=S.get(O.key===null?x:O.key)||null,p(y,S,O,R);case mn:var N=O._init;return P(S,y,x,N(O._payload),R)}if(br(O)||vr(O))return S=S.get(x)||null,g(y,S,O,R,null);qs(y,O)}return null}function E(S,y,x,O){for(var R=null,N=null,D=y,$=y=0,ue=null;D!==null&&$<x.length;$++){D.index>$?(ue=D,D=null):ue=D.sibling;var Y=v(S,D,x[$],O);if(Y===null){D===null&&(D=ue);break}t&&D&&Y.alternate===null&&e(S,D),y=a(Y,y,$),N===null?R=Y:N.sibling=Y,N=Y,D=ue}if($===x.length)return n(S,D),me&&Wn(S,$),R;if(D===null){for(;$<x.length;$++)D=_(S,x[$],O),D!==null&&(y=a(D,y,$),N===null?R=D:N.sibling=D,N=D);return me&&Wn(S,$),R}for(D=r(S,D);$<x.length;$++)ue=P(D,S,$,x[$],O),ue!==null&&(t&&ue.alternate!==null&&D.delete(ue.key===null?$:ue.key),y=a(ue,y,$),N===null?R=ue:N.sibling=ue,N=ue);return t&&D.forEach(function(ae){return e(S,ae)}),me&&Wn(S,$),R}function b(S,y,x,O){var R=vr(x);if(typeof R!="function")throw Error(I(150));if(x=R.call(x),x==null)throw Error(I(151));for(var N=R=null,D=y,$=y=0,ue=null,Y=x.next();D!==null&&!Y.done;$++,Y=x.next()){D.index>$?(ue=D,D=null):ue=D.sibling;var ae=v(S,D,Y.value,O);if(ae===null){D===null&&(D=ue);break}t&&D&&ae.alternate===null&&e(S,D),y=a(ae,y,$),N===null?R=ae:N.sibling=ae,N=ae,D=ue}if(Y.done)return n(S,D),me&&Wn(S,$),R;if(D===null){for(;!Y.done;$++,Y=x.next())Y=_(S,Y.value,O),Y!==null&&(y=a(Y,y,$),N===null?R=Y:N.sibling=Y,N=Y);return me&&Wn(S,$),R}for(D=r(S,D);!Y.done;$++,Y=x.next())Y=P(D,S,$,Y.value,O),Y!==null&&(t&&Y.alternate!==null&&D.delete(Y.key===null?$:Y.key),y=a(Y,y,$),N===null?R=Y:N.sibling=Y,N=Y);return t&&D.forEach(function(Pe){return e(S,Pe)}),me&&Wn(S,$),R}function z(S,y,x,O){if(typeof x=="object"&&x!==null&&x.type===Ei&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Rs:e:{for(var R=x.key,N=y;N!==null;){if(N.key===R){if(R=x.type,R===Ei){if(N.tag===7){n(S,N.sibling),y=o(N,x.props.children),y.return=S,S=y;break e}}else if(N.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===mn&&Cd(R)===N.type){n(S,N.sibling),y=o(N,x.props),y.ref=Sr(S,N,x),y.return=S,S=y;break e}n(S,N);break}else e(S,N);N=N.sibling}x.type===Ei?(y=Yn(x.props.children,S.mode,O,x.key),y.return=S,S=y):(O=_o(x.type,x.key,x.props,null,S.mode,O),O.ref=Sr(S,y,x),O.return=S,S=O)}return u(S);case Ti:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(S,y.sibling),y=o(y,x.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=ml(x,S.mode,O),y.return=S,S=y}return u(S);case mn:return N=x._init,z(S,y,N(x._payload),O)}if(br(x))return E(S,y,x,O);if(vr(x))return b(S,y,x,O);qs(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(S,y.sibling),y=o(y,x),y.return=S,S=y):(n(S,y),y=pl(x,S.mode,O),y.return=S,S=y),u(S)):n(S,y)}return z}var Vi=Mp(!0),Rp=Mp(!1),Oo=Nn(null),jo=null,Ni=null,nc=null;function ic(){nc=Ni=jo=null}function rc(t){var e=Oo.current;pe(Oo),t._currentValue=e}function nu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ui(t,e){jo=t,nc=Ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nt=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(nc!==t)if(t={context:t,memoizedValue:e,next:null},Ni===null){if(jo===null)throw Error(I(308));Ni=t,jo.dependencies={lanes:0,firstContext:t}}else Ni=Ni.next=t;return e}var Gn=null;function sc(t){Gn===null?Gn=[t]:Gn.push(t)}function zp(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,sc(e)):(n.next=o.next,o.next=n),e.interleaved=n,on(t,r)}function on(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _n=!1;function oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function En(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,on(t,n)}return o=r.interleaved,o===null?(e.next=e,sc(r)):(e.next=o.next,o.next=e),r.interleaved=e,on(t,n)}function uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hu(t,n)}}function bd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ao(t,e,n,r){var o=t.updateQueue;_n=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var g=t.alternate;g!==null&&(g=g.updateQueue,h=g.lastBaseUpdate,h!==u&&(h===null?g.firstBaseUpdate=p:h.next=p,g.lastBaseUpdate=d))}if(a!==null){var _=o.baseState;u=0,g=p=d=null,h=a;do{var v=h.lane,P=h.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:P,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var E=t,b=h;switch(v=e,P=n,b.tag){case 1:if(E=b.payload,typeof E=="function"){_=E.call(P,_,v);break e}_=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=b.payload,v=typeof E=="function"?E.call(P,_,v):E,v==null)break e;_=ye({},_,v);break e;case 2:_n=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,v=o.effects,v===null?o.effects=[h]:v.push(h))}else P={eventTime:P,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},g===null?(p=g=P,d=_):g=g.next=P,u|=v;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;v=h,h=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(1);if(g===null&&(d=_),o.baseState=d,o.firstBaseUpdate=p,o.lastBaseUpdate=g,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);ni|=u,t.lanes=u,t.memoizedState=_}}function Od(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(I(191,o));o.call(r)}}}var fs={},Ht=Nn(fs),ns=Nn(fs),is=Nn(fs);function Jn(t){if(t===fs)throw Error(I(174));return t}function ac(t,e){switch(de(is,e),de(ns,t),de(Ht,fs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rl(e,t)}pe(Ht),de(Ht,e)}function qi(){pe(Ht),pe(ns),pe(is)}function Bp(t){Jn(is.current);var e=Jn(Ht.current),n=Rl(e,t.type);e!==n&&(de(ns,t),de(Ht,n))}function lc(t){ns.current===t&&(pe(Ht),pe(ns))}var ge=Nn(0);function Io(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ll=[];function uc(){for(var t=0;t<ll.length;t++)ll[t]._workInProgressVersionPrimary=null;ll.length=0}var co=ln.ReactCurrentDispatcher,ul=ln.ReactCurrentBatchConfig,ti=0,ve=null,Ae=null,Re=null,No=!1,Dr=!1,rs=0,zy=0;function Fe(){throw Error(I(321))}function cc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nt(t[n],e[n]))return!1;return!0}function hc(t,e,n,r,o,a){if(ti=a,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,co.current=t===null||t.memoizedState===null?Uy:Fy,t=n(r,o),Dr){a=0;do{if(Dr=!1,rs=0,25<=a)throw Error(I(301));a+=1,Re=Ae=null,e.updateQueue=null,co.current=Zy,t=n(r,o)}while(Dr)}if(co.current=Mo,e=Ae!==null&&Ae.next!==null,ti=0,Re=Ae=ve=null,No=!1,e)throw Error(I(300));return t}function dc(){var t=rs!==0;return rs=0,t}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ve.memoizedState=Re=t:Re=Re.next=t,Re}function kt(){if(Ae===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=Re===null?ve.memoizedState:Re.next;if(e!==null)Re=e,Ae=t;else{if(t===null)throw Error(I(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Re===null?ve.memoizedState=Re=t:Re=Re.next=t}return Re}function ss(t,e){return typeof e=="function"?e(t):e}function cl(t){var e=kt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=Ae,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=u=null,d=null,p=a;do{var g=p.lane;if((ti&g)===g)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var _={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=_,u=r):d=d.next=_,ve.lanes|=g,ni|=g}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,Nt(r,e.memoizedState)||(nt=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do a=o.lane,ve.lanes|=a,ni|=a,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hl(t){var e=kt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=t(a,u.action),u=u.next;while(u!==o);Nt(a,e.memoizedState)||(nt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function $p(){}function Up(t,e){var n=ve,r=kt(),o=e(),a=!Nt(r.memoizedState,o);if(a&&(r.memoizedState=o,nt=!0),r=r.queue,fc(Wp.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,os(9,Zp.bind(null,n,r,o,e),void 0,null),ze===null)throw Error(I(349));ti&30||Fp(n,e,o)}return o}function Fp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zp(t,e,n,r){e.value=n,e.getSnapshot=r,Hp(e)&&Vp(t)}function Wp(t,e,n){return n(function(){Hp(e)&&Vp(t)})}function Hp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nt(t,n)}catch{return!0}}function Vp(t){var e=on(t,1);e!==null&&It(e,t,1,-1)}function jd(t){var e=Ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},e.queue=t,t=t.dispatch=$y.bind(null,ve,t),[e.memoizedState,t]}function os(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qp(){return kt().memoizedState}function ho(t,e,n,r){var o=Ut();ve.flags|=t,o.memoizedState=os(1|e,n,void 0,r===void 0?null:r)}function Jo(t,e,n,r){var o=kt();r=r===void 0?null:r;var a=void 0;if(Ae!==null){var u=Ae.memoizedState;if(a=u.destroy,r!==null&&cc(r,u.deps)){o.memoizedState=os(e,n,a,r);return}}ve.flags|=t,o.memoizedState=os(1|e,n,a,r)}function Ad(t,e){return ho(8390656,8,t,e)}function fc(t,e){return Jo(2048,8,t,e)}function Kp(t,e){return Jo(4,2,t,e)}function Gp(t,e){return Jo(4,4,t,e)}function Jp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qp(t,e,n){return n=n!=null?n.concat([t]):null,Jo(4,4,Jp.bind(null,e,t),n)}function pc(){}function Yp(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xp(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function em(t,e,n){return ti&21?(Nt(n,e)||(n=sp(),ve.lanes|=n,ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=n)}function Dy(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=ul.transition;ul.transition={};try{t(!1),e()}finally{le=n,ul.transition=r}}function tm(){return kt().memoizedState}function By(t,e,n){var r=Cn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nm(t))im(e,n);else if(n=zp(t,e,n,r),n!==null){var o=Ge();It(n,t,r,o),rm(n,e,r)}}function $y(t,e,n){var r=Cn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nm(t))im(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,Nt(h,u)){var d=e.interleaved;d===null?(o.next=o,sc(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=zp(t,e,o,r),n!==null&&(o=Ge(),It(n,t,r,o),rm(n,e,r))}}function nm(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function im(t,e){Dr=No=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hu(t,n)}}var Mo={readContext:xt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Uy={readContext:xt,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:Ad,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ho(4194308,4,Jp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ho(4194308,4,t,e)},useInsertionEffect:function(t,e){return ho(4,2,t,e)},useMemo:function(t,e){var n=Ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=By.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:jd,useDebugValue:pc,useDeferredValue:function(t){return Ut().memoizedState=t},useTransition:function(){var t=jd(!1),e=t[0];return t=Dy.bind(null,t[1]),Ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ve,o=Ut();if(me){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),ze===null)throw Error(I(349));ti&30||Fp(r,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,Ad(Wp.bind(null,r,a,t),[t]),r.flags|=2048,os(9,Zp.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ut(),e=ze.identifierPrefix;if(me){var n=tn,r=en;n=(r&~(1<<32-At(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fy={readContext:xt,useCallback:Yp,useContext:xt,useEffect:fc,useImperativeHandle:Qp,useInsertionEffect:Kp,useLayoutEffect:Gp,useMemo:Xp,useReducer:cl,useRef:qp,useState:function(){return cl(ss)},useDebugValue:pc,useDeferredValue:function(t){var e=kt();return em(e,Ae.memoizedState,t)},useTransition:function(){var t=cl(ss)[0],e=kt().memoizedState;return[t,e]},useMutableSource:$p,useSyncExternalStore:Up,useId:tm,unstable_isNewReconciler:!1},Zy={readContext:xt,useCallback:Yp,useContext:xt,useEffect:fc,useImperativeHandle:Qp,useInsertionEffect:Kp,useLayoutEffect:Gp,useMemo:Xp,useReducer:hl,useRef:qp,useState:function(){return hl(ss)},useDebugValue:pc,useDeferredValue:function(t){var e=kt();return Ae===null?e.memoizedState=t:em(e,Ae.memoizedState,t)},useTransition:function(){var t=hl(ss)[0],e=kt().memoizedState;return[t,e]},useMutableSource:$p,useSyncExternalStore:Up,useId:tm,unstable_isNewReconciler:!1};function Ct(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qo={isMounted:function(t){return(t=t._reactInternals)?si(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ge(),o=Cn(t),a=nn(r,o);a.payload=e,n!=null&&(a.callback=n),e=En(t,a,o),e!==null&&(It(e,t,o,r),uo(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ge(),o=Cn(t),a=nn(r,o);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=En(t,a,o),e!==null&&(It(e,t,o,r),uo(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ge(),r=Cn(t),o=nn(n,r);o.tag=2,e!=null&&(o.callback=e),e=En(t,o,r),e!==null&&(It(e,t,r,n),uo(e,t,r))}};function Id(t,e,n,r,o,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!Yr(n,r)||!Yr(o,a):!0}function sm(t,e,n){var r=!1,o=jn,a=e.contextType;return typeof a=="object"&&a!==null?a=xt(a):(o=rt(e)?Xn:He.current,r=e.contextTypes,a=(r=r!=null)?Wi(t,o):jn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function Nd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qo.enqueueReplaceState(e,e.state,null)}function ru(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},oc(t);var a=e.contextType;typeof a=="object"&&a!==null?o.context=xt(a):(a=rt(e)?Xn:He.current,o.context=Wi(t,a)),o.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(iu(t,e,a,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Qo.enqueueReplaceState(o,o.state,null),Ao(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Ki(t,e){try{var n="",r=e;do n+=gv(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:o,digest:null}}function dl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function su(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Wy=typeof WeakMap=="function"?WeakMap:Map;function om(t,e,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zo||(zo=!0,mu=r),su(t,e)},n}function am(t,e,n){n=nn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){su(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){su(t,e),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Md(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Wy;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=r0.bind(null,t,e,n),e.then(t,t))}function Rd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zd(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nn(-1,1),e.tag=2,En(n,e,1))),n.lanes|=1),t)}var Hy=ln.ReactCurrentOwner,nt=!1;function Ke(t,e,n,r){e.child=t===null?Rp(e,null,n,r):Vi(e,t.child,n,r)}function Dd(t,e,n,r,o){n=n.render;var a=e.ref;return Ui(e,o),r=hc(t,e,n,r,a,o),n=dc(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,an(t,e,o)):(me&&n&&Xu(e),e.flags|=1,Ke(t,e,r,o),e.child)}function Bd(t,e,n,r,o){if(t===null){var a=n.type;return typeof a=="function"&&!kc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,lm(t,e,a,r,o)):(t=_o(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(u,r)&&t.ref===e.ref)return an(t,e,o)}return e.flags|=1,t=bn(a,r),t.ref=e.ref,t.return=e,e.child=t}function lm(t,e,n,r,o){if(t!==null){var a=t.memoizedProps;if(Yr(a,r)&&t.ref===e.ref)if(nt=!1,e.pendingProps=r=a,(t.lanes&o)!==0)t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,an(t,e,o)}return ou(t,e,n,r,o)}function um(t,e,n){var r=e.pendingProps,o=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Ri,ot),ot|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(Ri,ot),ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,de(Ri,ot),ot|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,de(Ri,ot),ot|=r;return Ke(t,e,o,n),e.child}function cm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ou(t,e,n,r,o){var a=rt(n)?Xn:He.current;return a=Wi(e,a),Ui(e,o),n=hc(t,e,n,r,a,o),r=dc(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,an(t,e,o)):(me&&r&&Xu(e),e.flags|=1,Ke(t,e,n,o),e.child)}function $d(t,e,n,r,o){if(rt(n)){var a=!0;Lo(e)}else a=!1;if(Ui(e,o),e.stateNode===null)fo(t,e),sm(e,n,r),ru(e,n,r,o),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=xt(p):(p=rt(n)?Xn:He.current,p=Wi(e,p));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";_||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&Nd(e,u,r,p),_n=!1;var v=e.memoizedState;u.state=v,Ao(e,r,u,o),d=e.memoizedState,h!==r||v!==d||it.current||_n?(typeof g=="function"&&(iu(e,n,g,r),d=e.memoizedState),(h=_n||Id(e,n,h,r,v,d,p))?(_||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,Dp(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:Ct(e.type,h),u.props=p,_=e.pendingProps,v=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=xt(d):(d=rt(n)?Xn:He.current,d=Wi(e,d));var P=n.getDerivedStateFromProps;(g=typeof P=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==_||v!==d)&&Nd(e,u,r,d),_n=!1,v=e.memoizedState,u.state=v,Ao(e,r,u,o);var E=e.memoizedState;h!==_||v!==E||it.current||_n?(typeof P=="function"&&(iu(e,n,P,r),E=e.memoizedState),(p=_n||Id(e,n,p,r,v,E,d)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,E,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,E,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),u.props=r,u.state=E,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return au(t,e,n,r,a,o)}function au(t,e,n,r,o,a){cm(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return o&&Td(e,n,!1),an(t,e,a);r=e.stateNode,Hy.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=Vi(e,t.child,null,a),e.child=Vi(e,null,h,a)):Ke(t,e,h,a),e.memoizedState=r.state,o&&Td(e,n,!0),e.child}function hm(t){var e=t.stateNode;e.pendingContext?Pd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pd(t,e.context,!1),ac(t,e.containerInfo)}function Ud(t,e,n,r,o){return Hi(),tc(o),e.flags|=256,Ke(t,e,n,r),e.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function uu(t){return{baseLanes:t,cachePool:null,transitions:null}}function dm(t,e,n){var r=e.pendingProps,o=ge.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(o&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),de(ge,o&1),t===null)return tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=ea(u,r,0,null),t=Yn(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=uu(n),e.memoizedState=lu,t):mc(e,u));if(o=t.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return Vy(t,e,u,r,h,o,n);if(a){a=r.fallback,u=e.mode,o=t.child,h=o.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=bn(o,d),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=bn(h,a):(a=Yn(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?uu(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=lu,r}return a=t.child,t=a.sibling,r=bn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mc(t,e){return e=ea({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ks(t,e,n,r){return r!==null&&tc(r),Vi(e,t.child,null,n),t=mc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vy(t,e,n,r,o,a,u){if(n)return e.flags&256?(e.flags&=-257,r=dl(Error(I(422))),Ks(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,o=e.mode,r=ea({mode:"visible",children:r.children},o,0,null),a=Yn(a,o,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Vi(e,t.child,null,u),e.child.memoizedState=uu(u),e.memoizedState=lu,a);if(!(e.mode&1))return Ks(t,e,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(I(419)),r=dl(a,r,void 0),Ks(t,e,u,r)}if(h=(u&t.childLanes)!==0,nt||h){if(r=ze,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,on(t,o),It(r,t,o,-1))}return xc(),r=dl(Error(I(421))),Ks(t,e,u,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=s0.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,at=Tn(o.nextSibling),ut=e,me=!0,jt=null,t!==null&&(gt[vt++]=en,gt[vt++]=tn,gt[vt++]=ei,en=t.id,tn=t.overflow,ei=e),e=mc(e,r.children),e.flags|=4096,e)}function Fd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nu(t.return,e,n)}function fl(t,e,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function fm(t,e,n){var r=e.pendingProps,o=r.revealOrder,a=r.tail;if(Ke(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fd(t,n,e);else if(t.tag===19)Fd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(ge,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Io(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),fl(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Io(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}fl(e,!0,n,null,a);break;case"together":fl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function an(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qy(t,e,n){switch(e.tag){case 3:hm(e),Hi();break;case 5:Bp(e);break;case 1:rt(e.type)&&Lo(e);break;case 4:ac(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;de(Oo,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?dm(t,e,n):(de(ge,ge.current&1),t=an(t,e,n),t!==null?t.sibling:null);de(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fm(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),de(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,um(t,e,n)}return an(t,e,n)}var pm,cu,mm,_m;pm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cu=function(){};mm=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Jn(Ht.current);var a=null;switch(n){case"input":o=Al(t,o),r=Al(t,r),a=[];break;case"select":o=ye({},o,{value:void 0}),r=ye({},r,{value:void 0}),a=[];break;case"textarea":o=Ml(t,o),r=Ml(t,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=To)}zl(n,r);var u;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Hr.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Hr.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&fe("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};_m=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pr(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ky(t,e,n){var r=e.pendingProps;switch(ec(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return rt(e.type)&&Eo(),Ze(e),null;case 3:return r=e.stateNode,qi(),pe(it),pe(He),uc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(vu(jt),jt=null))),cu(t,e),Ze(e),null;case 5:lc(e);var o=Jn(is.current);if(n=e.type,t!==null&&e.stateNode!=null)mm(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return Ze(e),null}if(t=Jn(Ht.current),Vs(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Zt]=e,r[ts]=a,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<jr.length;o++)fe(jr[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Qh(r,a),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fe("invalid",r);break;case"textarea":Xh(r,a),fe("invalid",r)}zl(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Hs(r.textContent,h,t),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Hs(r.textContent,h,t),o=["children",""+h]):Hr.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&fe("scroll",r)}switch(n){case"input":zs(r),Yh(r,a,!0);break;case"textarea":zs(r),ed(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=To)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Zt]=e,t[ts]=r,pm(t,e,!1,!1),e.stateNode=t;e:{switch(u=Dl(n,r),n){case"dialog":fe("cancel",t),fe("close",t),o=r;break;case"iframe":case"object":case"embed":fe("load",t),o=r;break;case"video":case"audio":for(o=0;o<jr.length;o++)fe(jr[o],t);o=r;break;case"source":fe("error",t),o=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),o=r;break;case"details":fe("toggle",t),o=r;break;case"input":Qh(t,r),o=Al(t,r),fe("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ye({},r,{value:void 0}),fe("invalid",t);break;case"textarea":Xh(t,r),o=Ml(t,r),fe("invalid",t);break;default:o=r}zl(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?qf(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Hf(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Vr(t,d):typeof d=="number"&&Vr(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hr.hasOwnProperty(a)?d!=null&&a==="onScroll"&&fe("scroll",t):d!=null&&Bu(t,a,d,u))}switch(n){case"input":zs(t),Yh(t,r,!1);break;case"textarea":zs(t),ed(t);break;case"option":r.value!=null&&t.setAttribute("value",""+On(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?zi(t,!!r.multiple,a,!1):r.defaultValue!=null&&zi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=To)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)_m(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=Jn(is.current),Jn(Ht.current),Vs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zt]=e,(a=r.nodeValue!==n)&&(t=ut,t!==null))switch(t.tag){case 3:Hs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hs(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=e,e.stateNode=r}return Ze(e),null;case 13:if(pe(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&at!==null&&e.mode&1&&!(e.flags&128))Np(),Hi(),e.flags|=98560,a=!1;else if(a=Vs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(I(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[Zt]=e}else Hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),a=!1}else jt!==null&&(vu(jt),jt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Ie===0&&(Ie=3):xc())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return qi(),cu(t,e),t===null&&Xr(e.stateNode.containerInfo),Ze(e),null;case 10:return rc(e.type._context),Ze(e),null;case 17:return rt(e.type)&&Eo(),Ze(e),null;case 19:if(pe(ge),a=e.memoizedState,a===null)return Ze(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)Pr(a,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=Io(t),u!==null){for(e.flags|=128,Pr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(ge,ge.current&1|2),e.child}t=t.sibling}a.tail!==null&&Se()>Gi&&(e.flags|=128,r=!0,Pr(a,!1),e.lanes=4194304)}else{if(!r)if(t=Io(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!me)return Ze(e),null}else 2*Se()-a.renderingStartTime>Gi&&n!==1073741824&&(e.flags|=128,r=!0,Pr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Se(),e.sibling=null,n=ge.current,de(ge,r?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return wc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ot&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function Gy(t,e){switch(ec(e),e.tag){case 1:return rt(e.type)&&Eo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qi(),pe(it),pe(He),uc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lc(e),null;case 13:if(pe(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));Hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(ge),null;case 4:return qi(),null;case 10:return rc(e.type._context),null;case 22:case 23:return wc(),null;case 24:return null;default:return null}}var Gs=!1,We=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,F=null;function Mi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(t,e,r)}else n.current=null}function hu(t,e,n){try{n()}catch(r){we(t,e,r)}}var Zd=!1;function Qy(t,e){if(Kl=ko,t=xp(),Yu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,g=0,_=t,v=null;t:for(;;){for(var P;_!==n||o!==0&&_.nodeType!==3||(h=u+o),_!==a||r!==0&&_.nodeType!==3||(d=u+r),_.nodeType===3&&(u+=_.nodeValue.length),(P=_.firstChild)!==null;)v=_,_=P;for(;;){if(_===t)break t;if(v===n&&++p===o&&(h=u),v===a&&++g===r&&(d=u),(P=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=P}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gl={focusedElem:t,selectionRange:n},ko=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var b=E.memoizedProps,z=E.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ct(e.type,b),z);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(O){we(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return E=Zd,Zd=!1,E}function Br(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.destroy;o.destroy=void 0,a!==void 0&&hu(e,n,a)}o=o.next}while(o!==r)}}function Yo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gm(t){var e=t.alternate;e!==null&&(t.alternate=null,gm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zt],delete e[ts],delete e[Yl],delete e[Iy],delete e[Ny])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vm(t){return t.tag===5||t.tag===3||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=To));else if(r!==4&&(t=t.child,t!==null))for(fu(t,e,n),t=t.sibling;t!==null;)fu(t,e,n),t=t.sibling}function pu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pu(t,e,n),t=t.sibling;t!==null;)pu(t,e,n),t=t.sibling}var Be=null,bt=!1;function dn(t,e,n){for(n=n.child;n!==null;)ym(t,e,n),n=n.sibling}function ym(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Wo,n)}catch{}switch(n.tag){case 5:We||Mi(n,e);case 6:var r=Be,o=bt;Be=null,dn(t,e,n),Be=r,bt=o,Be!==null&&(bt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(bt?(t=Be,n=n.stateNode,t.nodeType===8?ol(t.parentNode,n):t.nodeType===1&&ol(t,n),Jr(t)):ol(Be,n.stateNode));break;case 4:r=Be,o=bt,Be=n.stateNode.containerInfo,bt=!0,dn(t,e,n),Be=r,bt=o;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&hu(n,e,u),o=o.next}while(o!==r)}dn(t,e,n);break;case 1:if(!We&&(Mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){we(n,e,h)}dn(t,e,n);break;case 21:dn(t,e,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,dn(t,e,n),We=r):dn(t,e,n);break;default:dn(t,e,n)}}function Hd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jy),e.forEach(function(r){var o=o0.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:Be=h.stateNode,bt=!1;break e;case 3:Be=h.stateNode.containerInfo,bt=!0;break e;case 4:Be=h.stateNode.containerInfo,bt=!0;break e}h=h.return}if(Be===null)throw Error(I(160));ym(a,u,o),Be=null,bt=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(p){we(o,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wm(e,t),e=e.sibling}function wm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Et(e,t),$t(t),r&4){try{Br(3,t,t.return),Yo(3,t)}catch(b){we(t,t.return,b)}try{Br(5,t,t.return)}catch(b){we(t,t.return,b)}}break;case 1:Et(e,t),$t(t),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(Et(e,t),$t(t),r&512&&n!==null&&Mi(n,n.return),t.flags&32){var o=t.stateNode;try{Vr(o,"")}catch(b){we(t,t.return,b)}}if(r&4&&(o=t.stateNode,o!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Ff(o,a),Dl(h,u);var p=Dl(h,a);for(u=0;u<d.length;u+=2){var g=d[u],_=d[u+1];g==="style"?qf(o,_):g==="dangerouslySetInnerHTML"?Hf(o,_):g==="children"?Vr(o,_):Bu(o,g,_,p)}switch(h){case"input":Il(o,a);break;case"textarea":Zf(o,a);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var P=a.value;P!=null?zi(o,!!a.multiple,P,!1):v!==!!a.multiple&&(a.defaultValue!=null?zi(o,!!a.multiple,a.defaultValue,!0):zi(o,!!a.multiple,a.multiple?[]:"",!1))}o[ts]=a}catch(b){we(t,t.return,b)}}break;case 6:if(Et(e,t),$t(t),r&4){if(t.stateNode===null)throw Error(I(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(b){we(t,t.return,b)}}break;case 3:if(Et(e,t),$t(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jr(e.containerInfo)}catch(b){we(t,t.return,b)}break;case 4:Et(e,t),$t(t);break;case 13:Et(e,t),$t(t),o=t.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(vc=Se())),r&4&&Hd(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(We=(p=We)||g,Et(e,t),We=p):Et(e,t),$t(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!g&&t.mode&1)for(F=t,g=t.child;g!==null;){for(_=F=g;F!==null;){switch(v=F,P=v.child,v.tag){case 0:case 11:case 14:case 15:Br(4,v,v.return);break;case 1:Mi(v,v.return);var E=v.stateNode;if(typeof E.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(b){we(r,n,b)}}break;case 5:Mi(v,v.return);break;case 22:if(v.memoizedState!==null){qd(_);continue}}P!==null?(P.return=v,F=P):qd(_)}g=g.sibling}e:for(g=null,_=t;;){if(_.tag===5){if(g===null){g=_;try{o=_.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=_.stateNode,d=_.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=Vf("display",u))}catch(b){we(t,t.return,b)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=p?"":_.memoizedProps}catch(b){we(t,t.return,b)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Et(e,t),$t(t),r&4&&Hd(t);break;case 21:break;default:Et(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vm(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Vr(o,""),r.flags&=-33);var a=Wd(t);pu(t,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,h=Wd(t);fu(t,h,u);break;default:throw Error(I(161))}}catch(d){we(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yy(t,e,n){F=t,xm(t)}function xm(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var o=F,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||Gs;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||We;h=Gs;var p=We;if(Gs=u,(We=d)&&!p)for(F=o;F!==null;)u=F,d=u.child,u.tag===22&&u.memoizedState!==null?Kd(o):d!==null?(d.return=u,F=d):Kd(o);for(;a!==null;)F=a,xm(a),a=a.sibling;F=o,Gs=h,We=p}Vd(t)}else o.subtreeFlags&8772&&a!==null?(a.return=o,F=a):Vd(t)}}function Vd(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||Yo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Ct(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Od(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Od(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&Jr(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}We||e.flags&512&&du(e)}catch(v){we(e,e.return,v)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function qd(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Kd(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yo(4,e)}catch(d){we(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){we(e,o,d)}}var a=e.return;try{du(e)}catch(d){we(e,a,d)}break;case 5:var u=e.return;try{du(e)}catch(d){we(e,u,d)}}}catch(d){we(e,e.return,d)}if(e===t){F=null;break}var h=e.sibling;if(h!==null){h.return=e.return,F=h;break}F=e.return}}var Xy=Math.ceil,Ro=ln.ReactCurrentDispatcher,_c=ln.ReactCurrentOwner,wt=ln.ReactCurrentBatchConfig,se=0,ze=null,Le=null,$e=0,ot=0,Ri=Nn(0),Ie=0,as=null,ni=0,Xo=0,gc=0,$r=null,et=null,vc=0,Gi=1/0,Qt=null,zo=!1,mu=null,Ln=null,Js=!1,xn=null,Do=0,Ur=0,_u=null,po=-1,mo=0;function Ge(){return se&6?Se():po!==-1?po:po=Se()}function Cn(t){return t.mode&1?se&2&&$e!==0?$e&-$e:Ry.transition!==null?(mo===0&&(mo=sp()),mo):(t=le,t!==0||(t=window.event,t=t===void 0?16:dp(t.type)),t):1}function It(t,e,n,r){if(50<Ur)throw Ur=0,_u=null,Error(I(185));cs(t,n,r),(!(se&2)||t!==ze)&&(t===ze&&(!(se&2)&&(Xo|=n),Ie===4&&vn(t,$e)),st(t,r),n===1&&se===0&&!(e.mode&1)&&(Gi=Se()+500,Go&&Mn()))}function st(t,e){var n=t.callbackNode;Rv(t,e);var r=xo(t,t===ze?$e:0);if(r===0)n!==null&&id(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&id(n),e===1)t.tag===0?My(Gd.bind(null,t)):jp(Gd.bind(null,t)),jy(function(){!(se&6)&&Mn()}),n=null;else{switch(op(r)){case 1:n=Wu;break;case 4:n=ip;break;case 16:n=wo;break;case 536870912:n=rp;break;default:n=wo}n=bm(n,km.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function km(t,e){if(po=-1,mo=0,se&6)throw Error(I(327));var n=t.callbackNode;if(Fi()&&t.callbackNode!==n)return null;var r=xo(t,t===ze?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bo(t,r);else{e=r;var o=se;se|=2;var a=Pm();(ze!==t||$e!==e)&&(Qt=null,Gi=Se()+500,Qn(t,e));do try{n0();break}catch(h){Sm(t,h)}while(1);ic(),Ro.current=a,se=o,Le!==null?e=0:(ze=null,$e=0,e=Ie)}if(e!==0){if(e===2&&(o=Zl(t),o!==0&&(r=o,e=gu(t,o))),e===1)throw n=as,Qn(t,0),vn(t,r),st(t,Se()),n;if(e===6)vn(t,r);else{if(o=t.current.alternate,!(r&30)&&!e0(o)&&(e=Bo(t,r),e===2&&(a=Zl(t),a!==0&&(r=a,e=gu(t,a))),e===1))throw n=as,Qn(t,0),vn(t,r),st(t,Se()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:Hn(t,et,Qt);break;case 3:if(vn(t,r),(r&130023424)===r&&(e=vc+500-Se(),10<e)){if(xo(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Ge(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Ql(Hn.bind(null,t,et,Qt),e);break}Hn(t,et,Qt);break;case 4:if(vn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var u=31-At(r);a=1<<u,u=e[u],u>o&&(o=u),r&=~a}if(r=o,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xy(r/1960))-r,10<r){t.timeoutHandle=Ql(Hn.bind(null,t,et,Qt),r);break}Hn(t,et,Qt);break;case 5:Hn(t,et,Qt);break;default:throw Error(I(329))}}}return st(t,Se()),t.callbackNode===n?km.bind(null,t):null}function gu(t,e){var n=$r;return t.current.memoizedState.isDehydrated&&(Qn(t,e).flags|=256),t=Bo(t,e),t!==2&&(e=et,et=n,e!==null&&vu(e)),t}function vu(t){et===null?et=t:et.push.apply(et,t)}function e0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Nt(a(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vn(t,e){for(e&=~gc,e&=~Xo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-At(e),r=1<<n;t[n]=-1,e&=~r}}function Gd(t){if(se&6)throw Error(I(327));Fi();var e=xo(t,0);if(!(e&1))return st(t,Se()),null;var n=Bo(t,e);if(t.tag!==0&&n===2){var r=Zl(t);r!==0&&(e=r,n=gu(t,r))}if(n===1)throw n=as,Qn(t,0),vn(t,e),st(t,Se()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hn(t,et,Qt),st(t,Se()),null}function yc(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Gi=Se()+500,Go&&Mn())}}function ii(t){xn!==null&&xn.tag===0&&!(se&6)&&Fi();var e=se;se|=1;var n=wt.transition,r=le;try{if(wt.transition=null,le=1,t)return t()}finally{le=r,wt.transition=n,se=e,!(se&6)&&Mn()}}function wc(){ot=Ri.current,pe(Ri)}function Qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Oy(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(ec(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eo();break;case 3:qi(),pe(it),pe(He),uc();break;case 5:lc(r);break;case 4:qi();break;case 13:pe(ge);break;case 19:pe(ge);break;case 10:rc(r.type._context);break;case 22:case 23:wc()}n=n.return}if(ze=t,Le=t=bn(t.current,null),$e=ot=e,Ie=0,as=null,gc=Xo=ni=0,et=$r=null,Gn!==null){for(e=0;e<Gn.length;e++)if(n=Gn[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}Gn=null}return t}function Sm(t,e){do{var n=Le;try{if(ic(),co.current=Mo,No){for(var r=ve.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}No=!1}if(ti=0,Re=Ae=ve=null,Dr=!1,rs=0,_c.current=null,n===null||n.return===null){Ie=1,as=e,Le=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=$e,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,g=h,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var P=Rd(u);if(P!==null){P.flags&=-257,zd(P,u,h,a,e),P.mode&1&&Md(a,p,e),e=P,d=p;var E=e.updateQueue;if(E===null){var b=new Set;b.add(d),e.updateQueue=b}else E.add(d);break e}else{if(!(e&1)){Md(a,p,e),xc();break e}d=Error(I(426))}}else if(me&&h.mode&1){var z=Rd(u);if(z!==null){!(z.flags&65536)&&(z.flags|=256),zd(z,u,h,a,e),tc(Ki(d,h));break e}}a=d=Ki(d,h),Ie!==4&&(Ie=2),$r===null?$r=[a]:$r.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=om(a,d,e);bd(a,S);break e;case 1:h=d;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ln===null||!Ln.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var O=am(a,h,e);bd(a,O);break e}}a=a.return}while(a!==null)}Em(n)}catch(R){e=R,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function Pm(){var t=Ro.current;return Ro.current=Mo,t===null?Mo:t}function xc(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),ze===null||!(ni&268435455)&&!(Xo&268435455)||vn(ze,$e)}function Bo(t,e){var n=se;se|=2;var r=Pm();(ze!==t||$e!==e)&&(Qt=null,Qn(t,e));do try{t0();break}catch(o){Sm(t,o)}while(1);if(ic(),se=n,Ro.current=r,Le!==null)throw Error(I(261));return ze=null,$e=0,Ie}function t0(){for(;Le!==null;)Tm(Le)}function n0(){for(;Le!==null&&!Lv();)Tm(Le)}function Tm(t){var e=Cm(t.alternate,t,ot);t.memoizedProps=t.pendingProps,e===null?Em(t):Le=e,_c.current=null}function Em(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gy(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,Le=null;return}}else if(n=Ky(n,e,ot),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Ie===0&&(Ie=5)}function Hn(t,e,n){var r=le,o=wt.transition;try{wt.transition=null,le=1,i0(t,e,n,r)}finally{wt.transition=o,le=r}return null}function i0(t,e,n,r){do Fi();while(xn!==null);if(se&6)throw Error(I(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(zv(t,a),t===ze&&(Le=ze=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Js||(Js=!0,bm(wo,function(){return Fi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=wt.transition,wt.transition=null;var u=le;le=1;var h=se;se|=4,_c.current=null,Qy(t,n),wm(n,t),Sy(Gl),ko=!!Kl,Gl=Kl=null,t.current=n,Yy(n),Cv(),se=h,le=u,wt.transition=a}else t.current=n;if(Js&&(Js=!1,xn=t,Do=o),a=t.pendingLanes,a===0&&(Ln=null),jv(n.stateNode),st(t,Se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(zo)throw zo=!1,t=mu,mu=null,t;return Do&1&&t.tag!==0&&Fi(),a=t.pendingLanes,a&1?t===_u?Ur++:(Ur=0,_u=t):Ur=0,Mn(),null}function Fi(){if(xn!==null){var t=op(Do),e=wt.transition,n=le;try{if(wt.transition=null,le=16>t?16:t,xn===null)var r=!1;else{if(t=xn,xn=null,Do=0,se&6)throw Error(I(331));var o=se;for(se|=4,F=t.current;F!==null;){var a=F,u=a.child;if(F.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(F=p;F!==null;){var g=F;switch(g.tag){case 0:case 11:case 15:Br(8,g,a)}var _=g.child;if(_!==null)_.return=g,F=_;else for(;F!==null;){g=F;var v=g.sibling,P=g.return;if(gm(g),g===p){F=null;break}if(v!==null){v.return=P,F=v;break}F=P}}}var E=a.alternate;if(E!==null){var b=E.child;if(b!==null){E.child=null;do{var z=b.sibling;b.sibling=null,b=z}while(b!==null)}}F=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,F=u;else e:for(;F!==null;){if(a=F,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Br(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,F=S;break e}F=a.return}}var y=t.current;for(F=y;F!==null;){u=F;var x=u.child;if(u.subtreeFlags&2064&&x!==null)x.return=u,F=x;else e:for(u=y;F!==null;){if(h=F,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Yo(9,h)}}catch(R){we(h,h.return,R)}if(h===u){F=null;break e}var O=h.sibling;if(O!==null){O.return=h.return,F=O;break e}F=h.return}}if(se=o,Mn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Wo,t)}catch{}r=!0}return r}finally{le=n,wt.transition=e}}return!1}function Jd(t,e,n){e=Ki(n,e),e=om(t,e,1),t=En(t,e,1),e=Ge(),t!==null&&(cs(t,1,e),st(t,e))}function we(t,e,n){if(t.tag===3)Jd(t,t,n);else for(;e!==null;){if(e.tag===3){Jd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){t=Ki(n,t),t=am(e,t,1),e=En(e,t,1),t=Ge(),e!==null&&(cs(e,1,t),st(e,t));break}}e=e.return}}function r0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ge(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&($e&n)===n&&(Ie===4||Ie===3&&($e&130023424)===$e&&500>Se()-vc?Qn(t,0):gc|=n),st(t,e)}function Lm(t,e){e===0&&(t.mode&1?(e=$s,$s<<=1,!($s&130023424)&&($s=4194304)):e=1);var n=Ge();t=on(t,e),t!==null&&(cs(t,e,n),st(t,n))}function s0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lm(t,n)}function o0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),Lm(t,n)}var Cm;Cm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nt=!1,qy(t,e,n);nt=!!(t.flags&131072)}else nt=!1,me&&e.flags&1048576&&Ap(e,bo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fo(t,e),t=e.pendingProps;var o=Wi(e,He.current);Ui(e,n),o=hc(null,e,r,t,o,n);var a=dc();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(a=!0,Lo(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,oc(e),o.updater=Qo,e.stateNode=o,o._reactInternals=e,ru(e,r,t,n),e=au(null,e,r,!0,a,n)):(e.tag=0,me&&a&&Xu(e),Ke(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fo(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=l0(r),t=Ct(r,t),o){case 0:e=ou(null,e,r,t,n);break e;case 1:e=$d(null,e,r,t,n);break e;case 11:e=Dd(null,e,r,t,n);break e;case 14:e=Bd(null,e,r,Ct(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ct(r,o),ou(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ct(r,o),$d(t,e,r,o,n);case 3:e:{if(hm(e),t===null)throw Error(I(387));r=e.pendingProps,a=e.memoizedState,o=a.element,Dp(t,e),Ao(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=Ki(Error(I(423)),e),e=Ud(t,e,r,n,o);break e}else if(r!==o){o=Ki(Error(I(424)),e),e=Ud(t,e,r,n,o);break e}else for(at=Tn(e.stateNode.containerInfo.firstChild),ut=e,me=!0,jt=null,n=Rp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hi(),r===o){e=an(t,e,n);break e}Ke(t,e,r,n)}e=e.child}return e;case 5:return Bp(e),t===null&&tu(e),r=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,u=o.children,Jl(r,o)?u=null:a!==null&&Jl(r,a)&&(e.flags|=32),cm(t,e),Ke(t,e,u,n),e.child;case 6:return t===null&&tu(e),null;case 13:return dm(t,e,n);case 4:return ac(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vi(e,null,r,n):Ke(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ct(r,o),Dd(t,e,r,o,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,de(Oo,r._currentValue),r._currentValue=u,a!==null)if(Nt(a.value,u)){if(a.children===o.children&&!it.current){e=an(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=nn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?d.next=d:(d.next=g.next,g.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),nu(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(I(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),nu(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Ke(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Ui(e,n),o=xt(o),r=r(o),e.flags|=1,Ke(t,e,r,n),e.child;case 14:return r=e.type,o=Ct(r,e.pendingProps),o=Ct(r.type,o),Bd(t,e,r,o,n);case 15:return lm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ct(r,o),fo(t,e),e.tag=1,rt(r)?(t=!0,Lo(e)):t=!1,Ui(e,n),sm(e,r,o),ru(e,r,o,n),au(null,e,r,!0,t,n);case 19:return fm(t,e,n);case 22:return um(t,e,n)}throw Error(I(156,e.tag))};function bm(t,e){return np(t,e)}function a0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,e,n,r){return new a0(t,e,n,r)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l0(t){if(typeof t=="function")return kc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Uu)return 11;if(t===Fu)return 14}return 2}function bn(t,e){var n=t.alternate;return n===null?(n=yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _o(t,e,n,r,o,a){var u=2;if(r=t,typeof t=="function")kc(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Ei:return Yn(n.children,o,a,e);case $u:u=8,o|=8;break;case Cl:return t=yt(12,n,e,o|2),t.elementType=Cl,t.lanes=a,t;case bl:return t=yt(13,n,e,o),t.elementType=bl,t.lanes=a,t;case Ol:return t=yt(19,n,e,o),t.elementType=Ol,t.lanes=a,t;case Bf:return ea(n,o,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zf:u=10;break e;case Df:u=9;break e;case Uu:u=11;break e;case Fu:u=14;break e;case mn:u=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=yt(u,n,e,o),e.elementType=t,e.type=r,e.lanes=a,e}function Yn(t,e,n,r){return t=yt(7,t,r,e),t.lanes=n,t}function ea(t,e,n,r){return t=yt(22,t,r,e),t.elementType=Bf,t.lanes=n,t.stateNode={isHidden:!1},t}function pl(t,e,n){return t=yt(6,t,null,e),t.lanes=n,t}function ml(t,e,n){return e=yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u0(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Sc(t,e,n,r,o,a,u,h,d){return t=new u0(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=yt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(a),t}function c0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Om(t){if(!t)return jn;t=t._reactInternals;e:{if(si(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(rt(n))return Op(t,n,e)}return e}function jm(t,e,n,r,o,a,u,h,d){return t=Sc(n,r,!0,t,o,a,u,h,d),t.context=Om(null),n=t.current,r=Ge(),o=Cn(n),a=nn(r,o),a.callback=e??null,En(n,a,o),t.current.lanes=o,cs(t,o,r),st(t,r),t}function ta(t,e,n,r){var o=e.current,a=Ge(),u=Cn(o);return n=Om(n),e.context===null?e.context=n:e.pendingContext=n,e=nn(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=En(o,e,u),t!==null&&(It(t,o,u,a),uo(t,o,u)),u}function $o(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pc(t,e){Qd(t,e),(t=t.alternate)&&Qd(t,e)}function h0(){return null}var Am=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tc(t){this._internalRoot=t}na.prototype.render=Tc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));ta(t,e,null,null)};na.prototype.unmount=Tc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){ta(null,t,null,null)}),e[sn]=null}};function na(t){this._internalRoot=t}na.prototype.unstable_scheduleHydration=function(t){if(t){var e=up();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gn.length&&e!==0&&e<gn[n].priority;n++);gn.splice(n,0,t),n===0&&hp(t)}};function Ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yd(){}function d0(t,e,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=$o(u);a.call(p)}}var u=jm(e,r,t,0,null,!1,!1,"",Yd);return t._reactRootContainer=u,t[sn]=u.current,Xr(t.nodeType===8?t.parentNode:t),ii(),u}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=$o(d);h.call(p)}}var d=Sc(t,0,!1,null,null,!1,!1,"",Yd);return t._reactRootContainer=d,t[sn]=d.current,Xr(t.nodeType===8?t.parentNode:t),ii(function(){ta(e,d,n,r)}),d}function ra(t,e,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=$o(u);h.call(d)}}ta(e,u,t,o)}else u=d0(n,e,t,o,r);return $o(u)}ap=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Or(e.pendingLanes);n!==0&&(Hu(e,n|1),st(e,Se()),!(se&6)&&(Gi=Se()+500,Mn()))}break;case 13:ii(function(){var r=on(t,1);if(r!==null){var o=Ge();It(r,t,1,o)}}),Pc(t,1)}};Vu=function(t){if(t.tag===13){var e=on(t,134217728);if(e!==null){var n=Ge();It(e,t,134217728,n)}Pc(t,134217728)}};lp=function(t){if(t.tag===13){var e=Cn(t),n=on(t,e);if(n!==null){var r=Ge();It(n,t,e,r)}Pc(t,e)}};up=function(){return le};cp=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};$l=function(t,e,n){switch(e){case"input":if(Il(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Ko(r);if(!o)throw Error(I(90));Uf(r),Il(r,o)}}}break;case"textarea":Zf(t,n);break;case"select":e=n.value,e!=null&&zi(t,!!n.multiple,e,!1)}};Jf=yc;Qf=ii;var f0={usingClientEntryPoint:!1,Events:[ds,Oi,Ko,Kf,Gf,yc]},Tr={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p0={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ep(t),t===null?null:t.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||h0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Wo=Qs.inject(p0),Wt=Qs}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f0;dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ec(e))throw Error(I(200));return c0(t,e,null,n)};dt.createRoot=function(t,e){if(!Ec(t))throw Error(I(299));var n=!1,r="",o=Am;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Sc(t,1,!1,null,null,n,!1,r,o),t[sn]=e.current,Xr(t.nodeType===8?t.parentNode:t),new Tc(e)};dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=ep(e),t=t===null?null:t.stateNode,t};dt.flushSync=function(t){return ii(t)};dt.hydrate=function(t,e,n){if(!ia(e))throw Error(I(200));return ra(null,t,e,!0,n)};dt.hydrateRoot=function(t,e,n){if(!Ec(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=Am;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=jm(e,null,t,1,n??null,o,!1,a,u),t[sn]=e.current,Xr(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new na(e)};dt.render=function(t,e,n){if(!ia(e))throw Error(I(200));return ra(null,t,e,!1,n)};dt.unmountComponentAtNode=function(t){if(!ia(t))throw Error(I(40));return t._reactRootContainer?(ii(function(){ra(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1};dt.unstable_batchedUpdates=yc;dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ia(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return ra(t,e,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function Im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Im)}catch(t){console.error(t)}}Im(),If.exports=dt;var Nm=If.exports,Xd=Nm;El.createRoot=Xd.createRoot,El.hydrateRoot=Xd.hydrateRoot;const m0="modulepreload",_0=function(t){return"/itinerary-killer/"+t},ef={},oi=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=_0(a),a in ef)return;ef[a]=!0;const u=a.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!r)for(let g=o.length-1;g>=0;g--){const _=o[g];if(_.href===a&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":m0,u||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),u)return new Promise((g,_)=>{p.addEventListener("load",g),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a})};function Mm(t,e){const n=Z.useRef(e);Z.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const g0=1;function v0(t){return Object.freeze({__version:g0,map:t})}function y0(t,e){return Object.freeze({...t,...e})}const Rm=Z.createContext(null),zm=Rm.Provider;function Dm(){const t=Z.useContext(Rm);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function w0(t){function e(n,r){const{instance:o,context:a}=t(n).current;return Z.useImperativeHandle(r,()=>o),n.children==null?null:Tl.createElement(zm,{value:a},n.children)}return Z.forwardRef(e)}function x0(t){function e(n,r){const[o,a]=Z.useState(!1),{instance:u}=t(n,a).current;Z.useImperativeHandle(r,()=>u),Z.useEffect(function(){o&&u.update()},[u,o,n.children]);const h=u._contentNode;return h?Nm.createPortal(n.children,h):null}return Z.forwardRef(e)}function k0(t){function e(n,r){const{instance:o}=t(n).current;return Z.useImperativeHandle(r,()=>o),null}return Z.forwardRef(e)}function Bm(t,e){const n=Z.useRef();Z.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Lc(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function S0(t,e){return function(r,o){const a=Dm(),u=t(Lc(r,a),a);return Mm(a.map,r.attribution),Bm(u.current,r.eventHandlers),e(u.current,a,r,o),u}}var yu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(ct,function(n){var r="1.9.4";function o(i){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)i[s]=f[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function u(i,s){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,s,l){var c,f,m,w;return w=function(){c=!1,f&&(m.apply(l,f),f=!1)},m=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(w,s),c=!0)},m}function g(i,s,l){var c=s[1],f=s[0],m=c-f;return i===c&&l?i:((i-f)%m+m)%m+f}function _(){return!1}function v(i,s){if(s===!1)return i;var l=Math.pow(10,s===void 0?6:s);return Math.round(i*l)/l}function P(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function E(i){return P(i).split(/\s+/)}function b(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in s)i.options[l]=s[l];return i.options}function z(i,s,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function y(i,s){return i.replace(S,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var x=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function O(i,s){for(var l=0;l<i.length;l++)if(i[l]===s)return l;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var D=0;function $(i){var s=+new Date,l=Math.max(0,16-(s-D));return D=s+l,window.setTimeout(i,l)}var ue=window.requestAnimationFrame||N("RequestAnimationFrame")||$,Y=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function ae(i,s,l){if(l&&ue===$)i.call(s);else return ue.call(window,u(i,s))}function Pe(i){i&&Y.call(window,i)}var Mt={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:g,falseFn:_,formatNum:v,trim:P,splitWords:E,setOptions:b,getParamString:z,template:y,isArray:x,indexOf:O,emptyImageUrl:R,requestFn:ue,cancelFn:Y,requestAnimFrame:ae,cancelAnimFrame:Pe};function Ye(){}Ye.extend=function(i){var s=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return i.statics&&o(s,i.statics),i.includes&&(ir(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,w=c._initHooks.length;m<w;m++)c._initHooks[m].call(this)}},s},Ye.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},Ye.mergeOptions=function(i){return o(this.prototype.options,i),this},Ye.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function ir(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=x(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var be={on:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s);else{i=E(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l)}return this},off:function(i,s,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],s);else{i=E(i);for(var f=arguments.length===1,m=0,w=i.length;m<w;m++)f?this._off(i[m]):this._off(i[m],s,l)}return this},_on:function(i,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,s,l){var c,f,m;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,m=c.length;f<m;f++)c[f].fn=_;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var w=this._listens(i,s,l);if(w!==!1){var T=c[w];this._firingCount&&(T.fn=_,this._events[i]=c=c.slice()),c.splice(w,1)}}},fire:function(i,s,l){if(!this.listens(i,l))return this;var c=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,w=f.length;m<w;m++){var T=f[m],C=T.fn;T.once&&this.off(i,C,T.ctx),C.call(T.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,s,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var w in this._eventParents)if(this._eventParents[w].listens(i,s,l,c))return!0}return!1},_listens:function(i,s,l){if(!this._events)return!1;var c=this._events[i]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,m=c.length;f<m;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s,!0);else{i=E(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};be.addEventListener=be.on,be.removeEventListener=be.clearAllEventListeners=be.off,be.addOneTimeEventListener=be.once,be.fireEvent=be.fire,be.hasEventListeners=be.listens;var St=Ye.extend(be);function j(i,s,l){this.x=l?Math.round(i):i,this.y=l?Math.round(s):s}var q=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(i){return this.clone()._add(M(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(M(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new j(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new j(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(i){i=M(i);var s=i.x-this.x,l=i.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(i){return i=M(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=M(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function M(i,s,l){return i instanceof j?i:x(i)?new j(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new j(i.x,i.y):new j(i,s,l)}function V(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}V.prototype={extend:function(i){var s,l;if(!i)return this;if(i instanceof j||typeof i[0]=="number"||"x"in i)s=l=M(i);else if(i=ie(i),s=i.min,l=i.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,l;return typeof i[0]=="number"||i instanceof j?i=M(i):i=ie(i),i instanceof V?(s=i.min,l=i.max):s=l=i,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=ie(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>=s.x&&c.x<=l.x,w=f.y>=s.y&&c.y<=l.y;return m&&w},overlaps:function(i){i=ie(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>s.x&&c.x<l.x,w=f.y>s.y&&c.y<l.y;return m&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*i,f=Math.abs(s.y-l.y)*i;return ie(M(s.x-c,s.y-f),M(l.x+c,l.y+f))},equals:function(i){return i?(i=ie(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ie(i,s){return!i||i instanceof V?i:new V(i,s)}function xe(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}xe.prototype={extend:function(i){var s=this._southWest,l=this._northEast,c,f;if(i instanceof G)c=i,f=i;else if(i instanceof xe){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(K(i)||B(i)):this;return!s&&!l?(this._southWest=new G(c.lat,c.lng),this._northEast=new G(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*i,f=Math.abs(s.lng-l.lng)*i;return new xe(new G(s.lat-c,s.lng-f),new G(l.lat+c,l.lng+f))},getCenter:function(){return new G((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new G(this.getNorth(),this.getWest())},getSouthEast:function(){return new G(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof G||"lat"in i?i=K(i):i=B(i);var s=this._southWest,l=this._northEast,c,f;return i instanceof xe?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(i){i=B(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>=s.lat&&c.lat<=l.lat,w=f.lng>=s.lng&&c.lng<=l.lng;return m&&w},overlaps:function(i){i=B(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>s.lat&&c.lat<l.lat,w=f.lng>s.lng&&c.lng<l.lng;return m&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=B(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function B(i,s){return i instanceof xe?i:new xe(i,s)}function G(i,s,l){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,l!==void 0&&(this.alt=+l)}G.prototype={equals:function(i,s){if(!i)return!1;i=K(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return un.distance(this,K(i))},wrap:function(){return un.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,l=s/Math.cos(Math.PI/180*this.lat);return B([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new G(this.lat,this.lng,this.alt)}};function K(i,s,l){return i instanceof G?i:x(i)&&typeof i[0]!="object"?i.length===3?new G(i[0],i[1],i[2]):i.length===2?new G(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new G(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new G(i,s,l)}var Ne={latLngToPoint:function(i,s){var l=this.projection.project(i),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(i,s){var l=this.scale(s),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new V(c,f)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new G(l,s,c)},wrapLatLngBounds:function(i){var s=i.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return i;var m=i.getSouthWest(),w=i.getNorthEast(),T=new G(m.lat-c,m.lng-f),C=new G(w.lat-c,w.lng-f);return new xe(T,C)}},un=o({},Ne,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var l=Math.PI/180,c=i.lat*l,f=s.lat*l,m=Math.sin((s.lat-i.lat)*l/2),w=Math.sin((s.lng-i.lng)*l/2),T=m*m+Math.cos(c)*Math.cos(f)*w*w,C=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*C}}),Mc=6378137,ca={R:Mc,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*s);return new j(this.R*i.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var s=180/Math.PI;return new G((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=Mc*Math.PI;return new V([-i,-i],[i,i])}()};function ha(i,s,l,c){if(x(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=l,this._d=c}ha.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new j((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function rr(i,s,l,c){return new ha(i,s,l,c)}var da=o({},un,{code:"EPSG:3857",projection:ca,transformation:function(){var i=.5/(Math.PI*ca.R);return rr(i,.5,-i,.5)}()}),v_=o({},da,{code:"EPSG:900913"});function Rc(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function zc(i,s){var l="",c,f,m,w,T,C;for(c=0,m=i.length;c<m;c++){for(T=i[c],f=0,w=T.length;f<w;f++)C=T[f],l+=(f?"L":"M")+C.x+" "+C.y;l+=s?W.svg?"z":"x":""}return l||"M0 0"}var fa=document.documentElement.style,_s="ActiveXObject"in window,y_=_s&&!document.addEventListener,Dc="msLaunchUri"in navigator&&!("documentMode"in document),pa=Rt("webkit"),Bc=Rt("android"),$c=Rt("android 2")||Rt("android 3"),w_=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),x_=Bc&&Rt("Google")&&w_<537&&!("AudioNode"in window),ma=!!window.opera,Uc=!Dc&&Rt("chrome"),Fc=Rt("gecko")&&!pa&&!ma&&!_s,k_=!Uc&&Rt("safari"),Zc=Rt("phantom"),Wc="OTransition"in fa,S_=navigator.platform.indexOf("Win")===0,Hc=_s&&"transition"in fa,_a="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$c,Vc="MozPerspective"in fa,P_=!window.L_DISABLE_3D&&(Hc||_a||Vc)&&!Wc&&!Zc,sr=typeof orientation<"u"||Rt("mobile"),T_=sr&&pa,E_=sr&&_a,qc=!window.PointerEvent&&window.MSPointerEvent,Kc=!!(window.PointerEvent||qc),Gc="ontouchstart"in window||!!window.TouchEvent,L_=!window.L_NO_TOUCH&&(Gc||Kc),C_=sr&&ma,b_=sr&&Fc,O_=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,j_=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",_,s),window.removeEventListener("testPassiveEventSupport",_,s)}catch{}return i}(),A_=function(){return!!document.createElement("canvas").getContext}(),ga=!!(document.createElementNS&&Rc("svg").createSVGRect),I_=!!ga&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),N_=!ga&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),M_=navigator.platform.indexOf("Mac")===0,R_=navigator.platform.indexOf("Linux")===0;function Rt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var W={ie:_s,ielt9:y_,edge:Dc,webkit:pa,android:Bc,android23:$c,androidStock:x_,opera:ma,chrome:Uc,gecko:Fc,safari:k_,phantom:Zc,opera12:Wc,win:S_,ie3d:Hc,webkit3d:_a,gecko3d:Vc,any3d:P_,mobile:sr,mobileWebkit:T_,mobileWebkit3d:E_,msPointer:qc,pointer:Kc,touch:L_,touchNative:Gc,mobileOpera:C_,mobileGecko:b_,retina:O_,passiveEvents:j_,canvas:A_,svg:ga,vml:N_,inlineSvg:I_,mac:M_,linux:R_},Jc=W.msPointer?"MSPointerDown":"pointerdown",Qc=W.msPointer?"MSPointerMove":"pointermove",Yc=W.msPointer?"MSPointerUp":"pointerup",Xc=W.msPointer?"MSPointerCancel":"pointercancel",va={touchstart:Jc,touchmove:Qc,touchend:Yc,touchcancel:Xc},eh={touchstart:F_,touchmove:gs,touchend:gs,touchcancel:gs},li={},th=!1;function z_(i,s,l){return s==="touchstart"&&U_(),eh[s]?(l=eh[s].bind(this,l),i.addEventListener(va[s],l,!1),l):(console.warn("wrong event specified:",s),_)}function D_(i,s,l){if(!va[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(va[s],l,!1)}function B_(i){li[i.pointerId]=i}function $_(i){li[i.pointerId]&&(li[i.pointerId]=i)}function nh(i){delete li[i.pointerId]}function U_(){th||(document.addEventListener(Jc,B_,!0),document.addEventListener(Qc,$_,!0),document.addEventListener(Yc,nh,!0),document.addEventListener(Xc,nh,!0),th=!0)}function gs(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in li)s.touches.push(li[l]);s.changedTouches=[s],i(s)}}function F_(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&De(s),gs(i,s)}function Z_(i){var s={},l,c;for(c in i)l=i[c],s[c]=l&&l.bind?l.bind(i):l;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var W_=200;function H_(i,s){i.addEventListener("dblclick",s);var l=0,c;function f(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var w=ah(m);if(!(w.some(function(C){return C instanceof HTMLLabelElement&&C.attributes.for})&&!w.some(function(C){return C instanceof HTMLInputElement||C instanceof HTMLSelectElement}))){var T=Date.now();T-l<=W_?(c++,c===2&&s(Z_(m))):c=1,l=T}}}return i.addEventListener("click",f),{dblclick:s,simDblclick:f}}function V_(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var ya=ws(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),or=ws(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ih=or==="webkitTransition"||or==="OTransition"?or+"End":"transitionend";function rh(i){return typeof i=="string"?document.getElementById(i):i}function ar(i,s){var l=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[s]:null}return l==="auto"?null:l}function oe(i,s,l){var c=document.createElement(i);return c.className=s||"",l&&l.appendChild(c),c}function _e(i){var s=i.parentNode;s&&s.removeChild(i)}function vs(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ui(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function ci(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function wa(i,s){if(i.classList!==void 0)return i.classList.contains(s);var l=ys(i);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function X(i,s){if(i.classList!==void 0)for(var l=E(s),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!wa(i,s)){var m=ys(i);xa(i,(m?m+" ":"")+s)}}function ke(i,s){i.classList!==void 0?i.classList.remove(s):xa(i,P((" "+ys(i)+" ").replace(" "+s+" "," ")))}function xa(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function ys(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function pt(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&q_(i,s)}function q_(i,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):i.style.filter+=" progid:"+c+"(opacity="+s+")"}function ws(i){for(var s=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in s)return i[l];return!1}function zn(i,s,l){var c=s||new j(0,0);i.style[ya]=(W.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Te(i,s){i._leaflet_pos=s,W.any3d?zn(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function Dn(i){return i._leaflet_pos||new j(0,0)}var lr,ur,ka;if("onselectstart"in document)lr=function(){J(window,"selectstart",De)},ur=function(){ce(window,"selectstart",De)};else{var cr=ws(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);lr=function(){if(cr){var i=document.documentElement.style;ka=i[cr],i[cr]="none"}},ur=function(){cr&&(document.documentElement.style[cr]=ka,ka=void 0)}}function Sa(){J(window,"dragstart",De)}function Pa(){ce(window,"dragstart",De)}var xs,Ta;function Ea(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ks(),xs=i,Ta=i.style.outlineStyle,i.style.outlineStyle="none",J(window,"keydown",ks))}function ks(){xs&&(xs.style.outlineStyle=Ta,xs=void 0,Ta=void 0,ce(window,"keydown",ks))}function sh(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function La(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var K_={__proto__:null,TRANSFORM:ya,TRANSITION:or,TRANSITION_END:ih,get:rh,getStyle:ar,create:oe,remove:_e,empty:vs,toFront:ui,toBack:ci,hasClass:wa,addClass:X,removeClass:ke,setClass:xa,getClass:ys,setOpacity:pt,testProp:ws,setTransform:zn,setPosition:Te,getPosition:Dn,get disableTextSelection(){return lr},get enableTextSelection(){return ur},disableImageDrag:Sa,enableImageDrag:Pa,preventOutline:Ea,restoreOutline:ks,getSizedParentNode:sh,getScale:La};function J(i,s,l,c){if(s&&typeof s=="object")for(var f in s)ba(i,f,s[f],l);else{s=E(s);for(var m=0,w=s.length;m<w;m++)ba(i,s[m],l,c)}return this}var zt="_leaflet_events";function ce(i,s,l,c){if(arguments.length===1)oh(i),delete i[zt];else if(s&&typeof s=="object")for(var f in s)Oa(i,f,s[f],l);else if(s=E(s),arguments.length===2)oh(i,function(T){return O(s,T)!==-1});else for(var m=0,w=s.length;m<w;m++)Oa(i,s[m],l,c);return this}function oh(i,s){for(var l in i[zt]){var c=l.split(/\d/)[0];(!s||s(c))&&Oa(i,c,null,null,l)}}var Ca={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ba(i,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(i[zt]&&i[zt][f])return this;var m=function(T){return l.call(c||i,T||window.event)},w=m;!W.touchNative&&W.pointer&&s.indexOf("touch")===0?m=z_(i,s,m):W.touch&&s==="dblclick"?m=H_(i,m):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Ca[s]||s,m,W.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(m=function(T){T=T||window.event,Aa(i,T)&&w(T)},i.addEventListener(Ca[s],m,!1)):i.addEventListener(s,w,!1):i.attachEvent("on"+s,m),i[zt]=i[zt]||{},i[zt][f]=m}function Oa(i,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var m=i[zt]&&i[zt][f];if(!m)return this;!W.touchNative&&W.pointer&&s.indexOf("touch")===0?D_(i,s,m):W.touch&&s==="dblclick"?V_(i,m):"removeEventListener"in i?i.removeEventListener(Ca[s]||s,m,!1):i.detachEvent("on"+s,m),i[zt][f]=null}function Bn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function ja(i){return ba(i,"wheel",Bn),this}function hr(i){return J(i,"mousedown touchstart dblclick contextmenu",Bn),i._leaflet_disable_click=!0,this}function De(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function $n(i){return De(i),Bn(i),this}function ah(i){if(i.composedPath)return i.composedPath();for(var s=[],l=i.target;l;)s.push(l),l=l.parentNode;return s}function lh(i,s){if(!s)return new j(i.clientX,i.clientY);var l=La(s),c=l.boundingClientRect;return new j((i.clientX-c.left)/l.x-s.clientLeft,(i.clientY-c.top)/l.y-s.clientTop)}var G_=W.linux&&W.chrome?window.devicePixelRatio:W.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function uh(i){return W.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/G_:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Aa(i,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var J_={__proto__:null,on:J,off:ce,stopPropagation:Bn,disableScrollPropagation:ja,disableClickPropagation:hr,preventDefault:De,stop:$n,getPropagationPath:ah,getMousePosition:lh,getWheelDelta:uh,isExternalTarget:Aa,addListener:J,removeListener:ce},ch=St.extend({run:function(i,s,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Dn(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var l=this._startPos.add(this._offset.multiplyBy(i));s&&l._round(),Te(this._el,l),this.fire("step")},_complete:function(){Pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),re=St.extend({options:{crs:da,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=b(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(K(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=or&&W.any3d&&!W.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),J(this._proxy,ih,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(K(i),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),m=i instanceof j?i:this.latLngToContainerPoint(i),w=m.subtract(f).multiplyBy(1-1/c),T=this.containerPointToLatLng(f.add(w));return this.setView(T,s,{zoom:l})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():B(i);var l=M(s.paddingTopLeft||s.padding||[0,0]),c=M(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var m=c.subtract(l).divideBy(2),w=this.project(i.getSouthWest(),f),T=this.project(i.getNorthEast(),f),C=this.unproject(w.add(T).divideBy(2).add(m),f);return{center:C,zoom:f}},fitBounds:function(i,s){if(i=B(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=M(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ch,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){X(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,l){if(l=l||{},l.animate===!1||!W.any3d)return this.setView(i,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),m=this.getSize(),w=this._zoom;i=K(i),s=s===void 0?w:s;var T=Math.max(m.x,m.y),C=T*this.getZoomScale(w,s),A=f.distanceTo(c)||1,U=1.42,H=U*U;function ee(Ee){var Ns=Ee?-1:1,Dg=Ee?C:T,Bg=C*C-T*T+Ns*H*H*A*A,$g=2*Dg*H*A,Za=Bg/$g,Wh=Math.sqrt(Za*Za+1)-Za,Ug=Wh<1e-9?-18:Math.log(Wh);return Ug}function Ve(Ee){return(Math.exp(Ee)-Math.exp(-Ee))/2}function Me(Ee){return(Math.exp(Ee)+Math.exp(-Ee))/2}function _t(Ee){return Ve(Ee)/Me(Ee)}var Xe=ee(0);function _i(Ee){return T*(Me(Xe)/Me(Xe+U*Ee))}function Ng(Ee){return T*(Me(Xe)*_t(Xe+U*Ee)-Ve(Xe))/H}function Mg(Ee){return 1-Math.pow(1-Ee,1.5)}var Rg=Date.now(),Fh=(ee(1)-Xe)/U,zg=l.duration?1e3*l.duration:1e3*Fh*.8;function Zh(){var Ee=(Date.now()-Rg)/zg,Ns=Mg(Ee)*Fh;Ee<=1?(this._flyToFrame=ae(Zh,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(Ng(Ns)/A)),w),this.getScaleZoom(T/_i(Ns),w),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Zh.call(this),this},flyToBounds:function(i,s){var l=this._getBoundsCenterZoom(i,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(i){return i=B(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,B(i));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var l=M(s.paddingTopLeft||s.padding||[0,0]),c=M(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(i),w=this.getPixelBounds(),T=ie([w.min.add(l),w.max.subtract(c)]),C=T.getSize();if(!T.contains(m)){this._enforcingBounds=!0;var A=m.subtract(T.getCenter()),U=T.extend(m).getSize().subtract(C);f.x+=A.x<0?-U.x:U.x,f.y+=A.y<0?-U.y:U.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),m=c.subtract(f);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,i):navigator.geolocation.getCurrentPosition(s,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,l=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,l=i.coords.longitude,c=new G(s,l),f=c.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var w=this.getBoundsZoom(f);this.setView(c,m.maxZoom?Math.min(w,m.maxZoom):w)}var T={latlng:c,bounds:f,timestamp:i.timestamp};for(var C in i.coords)typeof i.coords[C]=="number"&&(T[C]=i.coords[C]);this.fire("locationfound",T)}},addHandler:function(i,s){if(!s)return this;var l=this[i]=new s(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)_e(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=oe("div",l,s||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new xe(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,l){i=B(i),l=M(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),w=i.getNorthWest(),T=i.getSouthEast(),C=this.getSize().subtract(l),A=ie(this.project(T,c),this.project(w,c)).getSize(),U=W.any3d?this.options.zoomSnap:1,H=C.x/A.x,ee=C.y/A.y,Ve=s?Math.max(H,ee):Math.min(H,ee);return c=this.getScaleZoom(Ve,c),U&&(c=Math.round(c/(U/100))*(U/100),c=s?Math.ceil(c/U)*U:Math.floor(c/U)*U),Math.max(f,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var l=this._getTopLeftPoint(i,s);return new V(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(i)/l.scale(s)},getScaleZoom:function(i,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(i*l.scale(s));return isNaN(c)?1/0:c},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(K(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(M(i),s)},layerPointToLatLng:function(i){var s=M(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(K(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(K(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(B(i))},distance:function(i,s){return this.options.crs.distance(K(i),K(s))},containerPointToLayerPoint:function(i){return M(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return M(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(M(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(i)))},mouseEventToContainerPoint:function(i){return lh(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=rh(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");J(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&W.any3d,X(i,"leaflet-container"+(W.touch?" leaflet-touch":"")+(W.retina?" leaflet-retina":"")+(W.ielt9?" leaflet-oldie":"")+(W.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ar(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Te(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(X(i.markerPane,"leaflet-zoom-hide"),X(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,l){Te(this._mapPane,new j(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(i,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Te(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var s=i?ce:J;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),W.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Pe(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",m=i.target||i.srcElement,w=!1;m;){if(c=this._targets[d(m)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){w=!0;break}if(c&&c.listens(s,!0)&&(f&&!Aa(m,i)||(l.push(c),f))||m===this._container)break;m=m.parentNode}return!l.length&&!w&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var l=i.type;l==="mousedown"&&Ea(s),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,l){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,s);if(l){for(var m=[],w=0;w<l.length;w++)l[w].listens(s,!0)&&m.push(l[w]);f=m.concat(f)}if(f.length){s==="contextmenu"&&De(i);var T=f[0],C={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var A=T.getLatLng&&(!T._radius||T._radius<=10);C.containerPoint=A?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(i),C.layerPoint=this.containerPointToLayerPoint(C.containerPoint),C.latlng=A?T.getLatLng():this.layerPointToLatLng(C.layerPoint)}for(w=0;w<f.length;w++)if(f[w].fire(s,C,!0),C.originalEvent._stopped||f[w].options.bubblingMouseEvents===!1&&O(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return Dn(this._mapPane)||new j(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var l=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var l=this.getSize()._divideBy(2);return this.project(i,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(i,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return ie([this.project(i.getSouthWest(),s)._subtract(c),this.project(i.getNorthWest(),s)._subtract(c),this.project(i.getSouthEast(),s)._subtract(c),this.project(i.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,l){if(!l)return i;var c=this.project(i,s),f=this.getSize().divideBy(2),m=new V(c.subtract(f),c.add(f)),w=this._getBoundsOffset(m,l,s);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?i:this.unproject(c.add(w),s)},_limitOffset:function(i,s){if(!s)return i;var l=this.getPixelBounds(),c=new V(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(i,s,l){var c=ie(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(i.min),m=c.max.subtract(i.max),w=this._rebound(f.x,-m.x),T=this._rebound(f.y,-m.y);return new j(w,T)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),l=this.getMaxZoom(),c=W.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(s,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var l=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var i=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var l=ya,c=this._proxy.style[l];zn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();zn(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(ae(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,X(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Q_(i,s){return new re(i,s)}var Pt=Ye.extend({options:{position:"topright"},initialize:function(i){b(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return X(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),dr=function(i){return new Pt(i)};re.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",l=this._controlContainer=oe("div",s+"control-container",this._container);function c(f,m){var w=s+f+" "+s+m;i[f+m]=oe("div",w,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)_e(this._controlCorners[i]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hh=Pt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,s,l){b(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Pt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){X(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(X(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=oe("div",i),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),hr(s),ja(s);var c=this._section=oe("section",i+"-list");l&&(this._map.on("click",this.collapse,this),J(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=oe("a",i+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),J(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){De(m),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=oe("div",i+"-base",c),this._separator=oe("div",i+"-separator",c),this._overlaysList=oe("div",i+"-overlays",c),s.appendChild(c)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vs(this._baseLayersList),vs(this._overlaysList),this._layerControlInputs=[];var i,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(d(i.target)),l=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(i,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var s=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),J(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var m=document.createElement("span");s.appendChild(m),m.appendChild(c),m.appendChild(f);var w=i.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)s=i[m],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)s=i[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,J(i,"click",De),this.expand();var s=this;setTimeout(function(){ce(i,"click",De),s._preventClick=!1})}}),Y_=function(i,s,l){return new hh(i,s,l)},Ia=Pt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",l=oe("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,l,c,f){var m=oe("a",l,c);return m.innerHTML=i,m.href="#",m.title=s,m.setAttribute("role","button"),m.setAttribute("aria-label",s),hr(m),J(m,"click",$n),J(m,"click",f,this),J(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";ke(this._zoomInButton,s),ke(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(X(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(X(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ia,this.addControl(this.zoomControl))});var X_=function(i){return new Ia(i)},dh=Pt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",l=oe("div",s),c=this.options;return this._addScales(c,s+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,l){i.metric&&(this._mScale=oe("div",s,l)),i.imperial&&(this._iScale=oe("div",s,l))},_update:function(){var i=this._map,s=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/i)},_updateImperial:function(i){var s=i*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(i,s,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),l=i/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),eg=function(i){return new dh(i)},tg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Na=Pt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(W.inlineSvg?tg+" ":"")+"Leaflet</a>"},initialize:function(i){b(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),hr(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new Na().addTo(this)});var ng=function(i){return new Na(i)};Pt.Layers=hh,Pt.Zoom=Ia,Pt.Scale=dh,Pt.Attribution=Na,dr.layers=Y_,dr.zoom=X_,dr.scale=eg,dr.attribution=ng;var Dt=Ye.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dt.addTo=function(i,s){return i.addHandler(s,this),this};var ig={Events:be},fh=W.touch?"touchstart mousedown":"mousedown",cn=St.extend({options:{clickTolerance:3},initialize:function(i,s,l,c){b(this,c),this._element=i,this._dragStartTarget=s||i,this._preventOutline=l},enable:function(){this._enabled||(J(this._dragStartTarget,fh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),ce(this._dragStartTarget,fh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!wa(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(cn._dragging=this,this._preventOutline&&Ea(this._element),Sa(),lr(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,l=sh(this._element);this._startPoint=new j(s.clientX,s.clientY),this._startPos=Dn(this._element),this._parentScale=La(l);var c=i.type==="mousedown";J(document,c?"mousemove":"touchmove",this._onMove,this),J(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,l=new j(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,De(i),this._moved||(this.fire("dragstart"),this._moved=!0,X(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),X(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Te(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ce(document,"mousemove touchmove",this._onMove,this),ce(document,"mouseup touchend touchcancel",this._onUp,this),Pa(),ur();var s=this._moved&&this._moving;this._moving=!1,cn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function ph(i,s,l){var c,f=[1,4,2,8],m,w,T,C,A,U,H,ee;for(m=0,U=i.length;m<U;m++)i[m]._code=Un(i[m],s);for(T=0;T<4;T++){for(H=f[T],c=[],m=0,U=i.length,w=U-1;m<U;w=m++)C=i[m],A=i[w],C._code&H?A._code&H||(ee=Ss(A,C,H,s,l),ee._code=Un(ee,s),c.push(ee)):(A._code&H&&(ee=Ss(A,C,H,s,l),ee._code=Un(ee,s),c.push(ee)),c.push(C));i=c}return i}function mh(i,s){var l,c,f,m,w,T,C,A,U;if(!i||i.length===0)throw new Error("latlngs not passed");mt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var H=K([0,0]),ee=B(i),Ve=ee.getNorthWest().distanceTo(ee.getSouthWest())*ee.getNorthEast().distanceTo(ee.getNorthWest());Ve<1700&&(H=Ma(i));var Me=i.length,_t=[];for(l=0;l<Me;l++){var Xe=K(i[l]);_t.push(s.project(K([Xe.lat-H.lat,Xe.lng-H.lng])))}for(T=C=A=0,l=0,c=Me-1;l<Me;c=l++)f=_t[l],m=_t[c],w=f.y*m.x-m.y*f.x,C+=(f.x+m.x)*w,A+=(f.y+m.y)*w,T+=w*3;T===0?U=_t[0]:U=[C/T,A/T];var _i=s.unproject(M(U));return K([_i.lat+H.lat,_i.lng+H.lng])}function Ma(i){for(var s=0,l=0,c=0,f=0;f<i.length;f++){var m=K(i[f]);s+=m.lat,l+=m.lng,c++}return K([s/c,l/c])}var rg={__proto__:null,clipPolygon:ph,polygonCenter:mh,centroid:Ma};function _h(i,s){if(!s||!i.length)return i.slice();var l=s*s;return i=ag(i,l),i=og(i,l),i}function gh(i,s,l){return Math.sqrt(fr(i,s,l,!0))}function sg(i,s,l){return fr(i,s,l)}function og(i,s){var l=i.length,c=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,Ra(i,f,s,0,l-1);var m,w=[];for(m=0;m<l;m++)f[m]&&w.push(i[m]);return w}function Ra(i,s,l,c,f){var m=0,w,T,C;for(T=c+1;T<=f-1;T++)C=fr(i[T],i[c],i[f],!0),C>m&&(w=T,m=C);m>l&&(s[w]=1,Ra(i,s,l,c,w),Ra(i,s,l,w,f))}function ag(i,s){for(var l=[i[0]],c=1,f=0,m=i.length;c<m;c++)lg(i[c],i[f])>s&&(l.push(i[c]),f=c);return f<m-1&&l.push(i[m-1]),l}var vh;function yh(i,s,l,c,f){var m=c?vh:Un(i,l),w=Un(s,l),T,C,A;for(vh=w;;){if(!(m|w))return[i,s];if(m&w)return!1;T=m||w,C=Ss(i,s,T,l,f),A=Un(C,l),T===m?(i=C,m=A):(s=C,w=A)}}function Ss(i,s,l,c,f){var m=s.x-i.x,w=s.y-i.y,T=c.min,C=c.max,A,U;return l&8?(A=i.x+m*(C.y-i.y)/w,U=C.y):l&4?(A=i.x+m*(T.y-i.y)/w,U=T.y):l&2?(A=C.x,U=i.y+w*(C.x-i.x)/m):l&1&&(A=T.x,U=i.y+w*(T.x-i.x)/m),new j(A,U,f)}function Un(i,s){var l=0;return i.x<s.min.x?l|=1:i.x>s.max.x&&(l|=2),i.y<s.min.y?l|=4:i.y>s.max.y&&(l|=8),l}function lg(i,s){var l=s.x-i.x,c=s.y-i.y;return l*l+c*c}function fr(i,s,l,c){var f=s.x,m=s.y,w=l.x-f,T=l.y-m,C=w*w+T*T,A;return C>0&&(A=((i.x-f)*w+(i.y-m)*T)/C,A>1?(f=l.x,m=l.y):A>0&&(f+=w*A,m+=T*A)),w=i.x-f,T=i.y-m,c?w*w+T*T:new j(f,m)}function mt(i){return!x(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function wh(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mt(i)}function xh(i,s){var l,c,f,m,w,T,C,A;if(!i||i.length===0)throw new Error("latlngs not passed");mt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var U=K([0,0]),H=B(i),ee=H.getNorthWest().distanceTo(H.getSouthWest())*H.getNorthEast().distanceTo(H.getNorthWest());ee<1700&&(U=Ma(i));var Ve=i.length,Me=[];for(l=0;l<Ve;l++){var _t=K(i[l]);Me.push(s.project(K([_t.lat-U.lat,_t.lng-U.lng])))}for(l=0,c=0;l<Ve-1;l++)c+=Me[l].distanceTo(Me[l+1])/2;if(c===0)A=Me[0];else for(l=0,m=0;l<Ve-1;l++)if(w=Me[l],T=Me[l+1],f=w.distanceTo(T),m+=f,m>c){C=(m-c)/f,A=[T.x-C*(T.x-w.x),T.y-C*(T.y-w.y)];break}var Xe=s.unproject(M(A));return K([Xe.lat+U.lat,Xe.lng+U.lng])}var ug={__proto__:null,simplify:_h,pointToSegmentDistance:gh,closestPointOnSegment:sg,clipSegment:yh,_getEdgeIntersection:Ss,_getBitCode:Un,_sqClosestPointOnSegment:fr,isFlat:mt,_flat:wh,polylineCenter:xh},za={project:function(i){return new j(i.lng,i.lat)},unproject:function(i){return new G(i.y,i.x)},bounds:new V([-180,-90],[180,90])},Da={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,l=this.R,c=i.lat*s,f=this.R_MINOR/l,m=Math.sqrt(1-f*f),w=m*Math.sin(c),T=Math.tan(Math.PI/4-c/2)/Math.pow((1-w)/(1+w),m/2);return c=-l*Math.log(Math.max(T,1e-10)),new j(i.lng*s*l,c)},unproject:function(i){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),m=Math.exp(-i.y/l),w=Math.PI/2-2*Math.atan(m),T=0,C=.1,A;T<15&&Math.abs(C)>1e-7;T++)A=f*Math.sin(w),A=Math.pow((1-A)/(1+A),f/2),C=Math.PI/2-2*Math.atan(m*A)-w,w+=C;return new G(w*s,i.x*s/l)}},cg={__proto__:null,LonLat:za,Mercator:Da,SphericalMercator:ca},hg=o({},un,{code:"EPSG:3395",projection:Da,transformation:function(){var i=.5/(Math.PI*Da.R);return rr(i,.5,-i,.5)}()}),kh=o({},un,{code:"EPSG:4326",projection:za,transformation:rr(1/180,1,-1/180,.5)}),dg=o({},Ne,{projection:za,transformation:rr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var l=s.lng-i.lng,c=s.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Ne.Earth=un,Ne.EPSG3395=hg,Ne.EPSG3857=da,Ne.EPSG900913=v_,Ne.EPSG4326=kh,Ne.Simple=dg;var Tt=St.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});re.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=d(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},_addLayers:function(i){i=i?x(i)?i:[i]:[];for(var s=0,l=i.length;s<l;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=d(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hi=Tt.extend({initialize:function(i,s){b(this,s),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),fg=function(i,s){return new hi(i,s)},Vt=hi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),hi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),hi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new xe;for(var s in this._layers){var l=this._layers[s];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),pg=function(i,s){return new Vt(i,s)},di=Ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){b(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=M(c),m=M(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(l.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return W.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function mg(i){return new di(i)}var pr=di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof pr.imagePath!="string"&&(pr.imagePath=this._detectIconPath()),(this.options.imagePath||pr.imagePath)+di.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(l,c,f){var m=c.exec(l);return m&&m[f]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=oe("div","leaflet-default-icon-path",document.body),s=ar(i,"background-image")||ar(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Sh=Dt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new cn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),X(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=Dn(s._icon),w=l.getPixelBounds(),T=l.getPixelOrigin(),C=ie(w.min._subtract(T).add(f),w.max._subtract(T).subtract(f));if(!C.contains(m)){var A=M((Math.max(C.max.x,m.x)-C.max.x)/(w.max.x-C.max.x)-(Math.min(C.min.x,m.x)-C.min.x)/(w.min.x-C.min.x),(Math.max(C.max.y,m.y)-C.max.y)/(w.max.y-C.max.y)-(Math.min(C.min.y,m.y)-C.min.y)/(w.min.y-C.min.y)).multiplyBy(c);l.panBy(A,{animate:!1}),this._draggable._newPos._add(A),this._draggable._startPos._add(A),Te(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=ae(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Pe(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,l=s._shadow,c=Dn(s._icon),f=s._map.layerPointToLatLng(c);l&&Te(l,c),s._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Ps=Tt.extend({options:{icon:new pr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){b(this,s),this._latlng=K(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=K(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),X(l,s),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&J(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(X(f,s),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ce(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Te(this._icon,i),this._shadow&&Te(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(X(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Sh)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Sh(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&pt(this._icon,i),this._shadow&&pt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,l=s.iconSize?M(s.iconSize):M(0,0),c=s.iconAnchor?M(s.iconAnchor):M(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _g(i,s){return new Ps(i,s)}var hn=Tt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return b(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ts=hn.extend({options:{fill:!0,radius:10},initialize:function(i,s){b(this,s),this._latlng=K(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=K(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return hn.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,l=this._clickTolerance(),c=[i+l,s+l];this._pxBounds=new V(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gg(i,s){return new Ts(i,s)}var Ba=Ts.extend({initialize:function(i,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),b(this,s),this._latlng=K(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:hn.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===un.distance){var f=Math.PI/180,m=this._mRadius/un.R/f,w=l.project([s+m,i]),T=l.project([s-m,i]),C=w.add(T).divideBy(2),A=l.unproject(C).lat,U=Math.acos((Math.cos(m*f)-Math.sin(s*f)*Math.sin(A*f))/(Math.cos(s*f)*Math.cos(A*f)))/f;(isNaN(U)||U===0)&&(U=m/Math.cos(Math.PI/180*s)),this._point=C.subtract(l.getPixelOrigin()),this._radius=isNaN(U)?0:C.x-l.project([A,i-U]).x,this._radiusY=C.y-w.y}else{var H=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(H).x}this._updateBounds()}});function vg(i,s,l){return new Ba(i,s,l)}var qt=hn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){b(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,l=null,c=fr,f,m,w=0,T=this._parts.length;w<T;w++)for(var C=this._parts[w],A=1,U=C.length;A<U;A++){f=C[A-1],m=C[A];var H=c(i,f,m,!0);H<s&&(s=H,l=c(i,f,m))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=K(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new xe,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return mt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],l=mt(i),c=0,f=i.length;c<f;c++)l?(s[c]=K(i[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(i[c]);return s},_project:function(){var i=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new j(i,i);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,l){var c=i[0]instanceof G,f=i.length,m,w;if(c){for(w=[],m=0;m<f;m++)w[m]=this._map.latLngToLayerPoint(i[m]),l.extend(w[m]);s.push(w)}else for(m=0;m<f;m++)this._projectLatlngs(i[m],s,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,m,w,T,C;for(l=0,f=0,m=this._rings.length;l<m;l++)for(C=this._rings[l],c=0,w=C.length;c<w-1;c++)T=yh(C[c],C[c+1],i,c,!0),T&&(s[f]=s[f]||[],s[f].push(T[0]),(T[1]!==C[c+1]||c===w-2)&&(s[f].push(T[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=_h(i[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var l,c,f,m,w,T,C=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,m=this._parts.length;l<m;l++)for(T=this._parts[l],c=0,w=T.length,f=w-1;c<w;f=c++)if(!(!s&&c===0)&&gh(i,T[f],T[c])<=C)return!0;return!1}});function yg(i,s){return new qt(i,s)}qt._flat=wh;var fi=qt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=qt.prototype._convertLatLngs.call(this,i),l=s.length;return l>=2&&s[0]instanceof G&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(i){qt.prototype._setLatLngs.call(this,i),mt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,l=new j(s,s);if(i=new V(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,m;c<f;c++)m=ph(this._rings[c],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,l,c,f,m,w,T,C,A;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,C=this._parts.length;m<C;m++)for(l=this._parts[m],w=0,A=l.length,T=A-1;w<A;T=w++)c=l[w],f=l[T],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||qt.prototype._containsPoint.call(this,i,!0)}});function wg(i,s){return new fi(i,s)}var Kt=Vt.extend({initialize:function(i,s){b(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=x(i)?i:i.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var w=Es(i,m);return w?(w.feature=bs(i),w.defaultOptions=w.options,this.resetStyle(w),m.onEachFeature&&m.onEachFeature(i,w),this.addLayer(w)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function Es(i,s){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],m=s&&s.pointToLayer,w=s&&s.coordsToLatLng||$a,T,C,A,U;if(!c&&!l)return null;switch(l.type){case"Point":return T=w(c),Ph(m,i,T,s);case"MultiPoint":for(A=0,U=c.length;A<U;A++)T=w(c[A]),f.push(Ph(m,i,T,s));return new Vt(f);case"LineString":case"MultiLineString":return C=Ls(c,l.type==="LineString"?0:1,w),new qt(C,s);case"Polygon":case"MultiPolygon":return C=Ls(c,l.type==="Polygon"?1:2,w),new fi(C,s);case"GeometryCollection":for(A=0,U=l.geometries.length;A<U;A++){var H=Es({geometry:l.geometries[A],type:"Feature",properties:i.properties},s);H&&f.push(H)}return new Vt(f);case"FeatureCollection":for(A=0,U=l.features.length;A<U;A++){var ee=Es(l.features[A],s);ee&&f.push(ee)}return new Vt(f);default:throw new Error("Invalid GeoJSON object.")}}function Ph(i,s,l,c){return i?i(s,l):new Ps(l,c&&c.markersInheritOptions&&c)}function $a(i){return new G(i[1],i[0],i[2])}function Ls(i,s,l){for(var c=[],f=0,m=i.length,w;f<m;f++)w=s?Ls(i[f],s-1,l):(l||$a)(i[f]),c.push(w);return c}function Ua(i,s){return i=K(i),i.alt!==void 0?[v(i.lng,s),v(i.lat,s),v(i.alt,s)]:[v(i.lng,s),v(i.lat,s)]}function Cs(i,s,l,c){for(var f=[],m=0,w=i.length;m<w;m++)f.push(s?Cs(i[m],mt(i[m])?0:s-1,l,c):Ua(i[m],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function pi(i,s){return i.feature?o({},i.feature,{geometry:s}):bs(s)}function bs(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Fa={toGeoJSON:function(i){return pi(this,{type:"Point",coordinates:Ua(this.getLatLng(),i)})}};Ps.include(Fa),Ba.include(Fa),Ts.include(Fa),qt.include({toGeoJSON:function(i){var s=!mt(this._latlngs),l=Cs(this._latlngs,s?1:0,!1,i);return pi(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),fi.include({toGeoJSON:function(i){var s=!mt(this._latlngs),l=s&&!mt(this._latlngs[0]),c=Cs(this._latlngs,l?2:s?1:0,!0,i);return s||(c=[c]),pi(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),hi.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(i).geometry.coordinates)}),pi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(i);if(l)c.push(m.geometry);else{var w=bs(m);w.type==="FeatureCollection"?c.push.apply(c,w.features):c.push(w)}}}),l?pi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Th(i,s){return new Kt(i,s)}var xg=Th,Os=Tt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,l){this._url=i,this._bounds=B(s),b(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(X(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ui(this._image),this},bringToBack:function(){return this._map&&ci(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=B(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:oe("img");if(X(s,"leaflet-image-layer"),this._zoomAnimated&&X(s,"leaflet-zoom-animated"),this.options.className&&X(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;zn(this._image,l,s)},_reset:function(){var i=this._image,s=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();Te(i,s.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),kg=function(i,s,l){return new Os(i,s,l)},Eh=Os.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:oe("video");if(X(s,"leaflet-image-layer"),this._zoomAnimated&&X(s,"leaflet-zoom-animated"),this.options.className&&X(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onloadeddata=u(this.fire,this,"load"),i){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var w=oe("source");w.src=this._url[m],s.appendChild(w)}}});function Sg(i,s,l){return new Eh(i,s,l)}var Lh=Os.extend({_initImage:function(){var i=this._image=this._url;X(i,"leaflet-image-layer"),this._zoomAnimated&&X(i,"leaflet-zoom-animated"),this.options.className&&X(i,this.options.className),i.onselectstart=_,i.onmousemove=_}});function Pg(i,s,l){return new Lh(i,s,l)}var Bt=Tt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof G||x(i))?(this._latlng=K(i),b(this,s)):(b(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&pt(this._container,1),this.bringToFront(),this.options.interactive&&(X(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(pt(this._container,0),this._removeTimeout=setTimeout(u(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=K(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ui(this._container),this},bringToBack:function(){return this._map&&ci(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof Vt){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=M(this.options.offset),l=this._getAnchor();this._zoomAnimated?Te(this._container,i.add(l)):s=s.add(i).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(i,s,l,c){var f=s;return f instanceof i||(f=new i(c).setContent(s)),l&&f.setLatLng(l),f}}),Tt.include({_initOverlay:function(i,s,l,c){var f=l;return f instanceof i?(b(f,c),f._source=this):(f=s&&!c?s:new i(c,this),f.setContent(l)),f}});var js=Bt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Bt.prototype.openOn.call(this,i)},onAdd:function(i){Bt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hn||this._source.on("preclick",Bn))},onRemove:function(i){Bt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hn||this._source.off("preclick",Bn))},getEvents:function(){var i=Bt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=oe("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=oe("div",i+"-content-wrapper",s);if(this._contentNode=oe("div",i+"-content",l),hr(s),ja(this._contentNode),J(s,"contextmenu",Bn),this._tipContainer=oe("div",i+"-tip-container",s),this._tip=oe("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=oe("a",i+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',J(c,"click",function(f){De(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=i.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",X(i,m)):ke(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();Te(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(ar(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new j(this._containerLeft,-l-this._containerBottom);f._add(Dn(this._container));var m=i.layerPointToContainerPoint(f),w=M(this.options.autoPanPadding),T=M(this.options.autoPanPaddingTopLeft||w),C=M(this.options.autoPanPaddingBottomRight||w),A=i.getSize(),U=0,H=0;m.x+c+C.x>A.x&&(U=m.x+c-A.x+C.x),m.x-U-T.x<0&&(U=m.x-T.x),m.y+l+C.y>A.y&&(H=m.y+l-A.y+C.y),m.y-H-T.y<0&&(H=m.y-T.y),(U||H)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([U,H]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tg=function(i,s){return new js(i,s)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(i,s,l){return this._initOverlay(js,i,s,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Tt.include({bindPopup:function(i,s){return this._popup=this._initOverlay(js,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Vt||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){$n(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof hn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var As=Bt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Bt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Bt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Bt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,l,c=this._map,f=this._container,m=c.latLngToContainerPoint(c.getCenter()),w=c.layerPointToContainerPoint(i),T=this.options.direction,C=f.offsetWidth,A=f.offsetHeight,U=M(this.options.offset),H=this._getAnchor();T==="top"?(s=C/2,l=A):T==="bottom"?(s=C/2,l=0):T==="center"?(s=C/2,l=A/2):T==="right"?(s=0,l=A/2):T==="left"?(s=C,l=A/2):w.x<m.x?(T="right",s=0,l=A/2):(T="left",s=C+(U.x+H.x)*2,l=A/2),i=i.subtract(M(s,l,!0)).add(U).add(H),ke(f,"leaflet-tooltip-right"),ke(f,"leaflet-tooltip-left"),ke(f,"leaflet-tooltip-top"),ke(f,"leaflet-tooltip-bottom"),X(f,"leaflet-tooltip-"+T),Te(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&pt(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Eg=function(i,s){return new As(i,s)};re.include({openTooltip:function(i,s,l){return this._initOverlay(As,i,s,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Tt.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(As,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Vt||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(J(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),J(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var Ch=di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(vs(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=M(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Lg(i){return new Ch(i)}di.Default=pr;var mr=Tt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:W.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){b(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),_e(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ui(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ci(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof j?i:new j(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,l=-i(-1/0,1/0),c=0,f=s.length,m;c<f;c++)m=s[c].style.zIndex,s[c]!==this._container&&m&&(l=i(l,+m));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!W.ielt9){pt(this._container,this.options.opacity);var i=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var m=Math.min(1,(i-f.loaded)/200);pt(f.el,m),m<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(Pe(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=s-Math.abs(i-l),this._onUpdateLevel(l)):(_e(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),_(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var i,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)_e(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,l,c){var f=Math.floor(i/2),m=Math.floor(s/2),w=l-1,T=new j(+f,+m);T.z=+w;var C=this._tileCoordsToKey(T),A=this._tiles[C];return A&&A.active?(A.retain=!0,!0):(A&&A.loaded&&(A.retain=!0),w>c?this._retainParent(f,m,w,c):!1)},_retainChildren:function(i,s,l,c){for(var f=2*i;f<2*i+2;f++)for(var m=2*s;m<2*s+2;m++){var w=new j(f,m);w.z=l+1;var T=this._tileCoordsToKey(w),C=this._tiles[T];if(C&&C.active){C.retain=!0;continue}else C&&C.loaded&&(C.retain=!0);l+1<c&&this._retainChildren(f,m,l+1,c)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,s)},_setZoomTransform:function(i,s,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();W.any3d?zn(i.el,f,c):Te(i.el,f)},_resetGrid:function(){var i=this._map,s=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(i,this._tileZoom).floor(),m=s.getSize().divideBy(c*2);return new V(f.subtract(m),f.add(m))},_update:function(i){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),m=f.getCenter(),w=[],T=this.options.keepBuffer,C=new V(f.getBottomLeft().subtract([T,-T]),f.getTopRight().add([T,-T]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var A in this._tiles){var U=this._tiles[A].coords;(U.z!==this._tileZoom||!C.contains(new j(U.x,U.y)))&&(this._tiles[A].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var H=f.min.y;H<=f.max.y;H++)for(var ee=f.min.x;ee<=f.max.x;ee++){var Ve=new j(ee,H);if(Ve.z=this._tileZoom,!!this._isValidTile(Ve)){var Me=this._tiles[this._tileCoordsToKey(Ve)];Me?Me.current=!0:w.push(Ve)}}if(w.sort(function(Xe,_i){return Xe.distanceTo(m)-_i.distanceTo(m)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _t=document.createDocumentFragment();for(ee=0;ee<w.length;ee++)this._addTile(w[ee],_t);this._level.el.appendChild(_t)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!s.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return B(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),m=s.unproject(c,i.z),w=s.unproject(f,i.z);return[m,w]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),l=new xe(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),l=new j(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(i){var s=this._tiles[i];s&&(_e(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){X(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=_,i.onmousemove=_,W.ielt9&&this.options.opacity<1&&pt(i,this.options.opacity)},_addTile:function(i,s){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&ae(u(this._tileReady,this,i,null,f)),Te(f,l),this._tiles[c]={el:f,coords:i,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(pt(l.el,0),Pe(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(X(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),W.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new j(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new V(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Cg(i){return new mr(i)}var mi=mr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=b(this,s),s.detectRetina&&W.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var l=document.createElement("img");return J(l,"load",u(this._tileOnLoad,this,s,l)),J(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var s={r:W.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=l),s["-y"]=l}return y(this._url,o(s,this.options))},_tileOnLoad:function(i,s){W.ielt9?setTimeout(u(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),i(l,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=s-i),i+c},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=_,s.onerror=_,!s.complete)){s.src=R;var l=this._tiles[i].coords;_e(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",R),mr.prototype._removeTile.call(this,i)},_tileReady:function(i,s,l){if(!(!this._map||l&&l.getAttribute("src")===R))return mr.prototype._tileReady.call(this,i,s,l)}});function bh(i,s){return new mi(i,s)}var Oh=mi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=b(this,s);var f=s.detectRetina&&W.retina?2:1,m=this.getTileSize();l.width=m.x*f,l.height=m.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,mi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),l=this._crs,c=ie(l.project(s[0]),l.project(s[1])),f=c.min,m=c.max,w=(this._wmsVersion>=1.3&&this._crs===kh?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),T=mi.prototype.getTileUrl.call(this,i);return T+z(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function bg(i,s){return new Oh(i,s)}mi.WMS=Oh,bh.wms=bg;var Gt=Tt.extend({options:{padding:.1},initialize:function(i){b(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),X(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),m=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,s));W.any3d?zn(this._container,m,l):Te(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new V(l,l.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jh=Gt.extend({options:{tolerance:0},getEvents:function(){var i=Gt.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");J(i,"mousemove",this._onMouseMove,this),J(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),J(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Pe(this._redrawRequest),delete this._ctx,_e(this._container),ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gt.prototype._update.call(this);var i=this._bounds,s=this._container,l=i.getSize(),c=W.retina?2:1;Te(s,i.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",W.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Gt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var l,c,f,m,w=i._parts,T=w.length,C=this._ctx;if(T){for(C.beginPath(),l=0;l<T;l++){for(c=0,f=w[l].length;c<f;c++)m=w[l][c],C[c?"lineTo":"moveTo"](m.x,m.y);s&&C.closePath()}this._fillStroke(C,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,s){var l=s.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(ke(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(X(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,l){this._map._fireDOMEvent(s,l||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function Ah(i){return W.canvas?new jh(i):null}var _r=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Og={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gt.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=_r("shape");X(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=_r("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;_e(s),i.removeInteractiveTarget(s),delete this._layers[d(i)]},_updateStyle:function(i){var s=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=i._stroke=_r("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=x(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),i._stroke=null),c.fill?(l||(l=i._fill=_r("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){ui(i._container)},_bringToBack:function(i){ci(i._container)}},Is=W.vml?_r:Rc,gr=Gt.extend({_initContainer:function(){this._container=Is("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Is("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gt.prototype._update.call(this);var i=this._bounds,s=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),Te(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=Is("path");i.options.className&&X(s,i.options.className),i.options.interactive&&X(s,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){_e(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,l=i.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,zc(i._parts,s))},_updateCircle:function(i){var s=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,m)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){ui(i._path)},_bringToBack:function(i){ci(i._path)}});W.vml&&gr.include(Og);function Ih(i){return W.svg||W.vml?new gr(i):null}re.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&Ah(i)||Ih(i)}});var Nh=fi.extend({initialize:function(i,s){fi.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=B(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function jg(i,s){return new Nh(i,s)}gr.create=Is,gr.pointsToPath=zc,Kt.geometryToLayer=Es,Kt.coordsToLatLng=$a,Kt.coordsToLatLngs=Ls,Kt.latLngToCoords=Ua,Kt.latLngsToCoords=Cs,Kt.getFeature=pi,Kt.asFeature=bs,re.mergeOptions({boxZoom:!0});var Mh=Dt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){J(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),lr(),Sa(),this._startPoint=this._map.mouseEventToContainerPoint(i),J(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),X(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new V(this._point,this._startPoint),l=s.getSize();Te(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(_e(this._box),ke(this._container,"leaflet-crosshair")),ur(),Pa(),ce(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",Mh),re.mergeOptions({doubleClickZoom:!0});var Rh=Dt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(i.containerPoint,f)}});re.addInitHook("addHandler","doubleClickZoom",Rh),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zh=Dt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new cn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}X(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=B(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%i+s-l,m=(c+s+l)%i-s-l,w=Math.abs(f+l)<Math.abs(m+l)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(i){var s=this._map,l=s.options,c=!l.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,w=l.easeLinearity,T=f.multiplyBy(w/m),C=T.distanceTo([0,0]),A=Math.min(l.inertiaMaxSpeed,C),U=T.multiplyBy(A/C),H=A/(l.inertiaDeceleration*w),ee=U.multiplyBy(-H/2).round();!ee.x&&!ee.y?s.fire("moveend"):(ee=s._limitOffset(ee,s.options.maxBounds),ae(function(){s.panBy(ee,{duration:H,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",zh),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dh=Dt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),J(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,l=i.scrollTop||s.scrollTop,c=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-i},_addHooks:function(){J(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],i.shiftKey&&(c=M(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(M(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;$n(i)}}});re.addInitHook("addHandler","keyboard",Dh),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bh=Dt.extend({addHooks:function(){J(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=uh(i),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),$n(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=l?Math.ceil(f/l)*l:f,w=i._limitZoom(s+(this._delta>0?m:-m))-s;this._delta=0,this._startTime=null,w&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+w):i.setZoomAround(this._lastMousePos,s+w))}});re.addInitHook("addHandler","scrollWheelZoom",Bh);var Ag=600;re.mergeOptions({tapHold:W.touchNative&&W.safari&&W.mobile,tapTolerance:15});var $h=Dt.extend({addHooks:function(){J(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new j(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(J(document,"touchend",De),J(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Ag),J(document,"touchend touchcancel contextmenu",this._cancel,this),J(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ce(document,"touchend",De),ce(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ce(document,"touchend touchcancel contextmenu",this._cancel,this),ce(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new j(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});re.addInitHook("addHandler","tapHold",$h),re.mergeOptions({touchZoom:W.touch,bounceAtZoomLimits:!0});var Uh=Dt.extend({addHooks:function(){X(this._map._container,"leaflet-touch-zoom"),J(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),J(document,"touchmove",this._onTouchMove,this),J(document,"touchend touchcancel",this._onTouchEnd,this),De(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Pe(this._animRequest);var w=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(w,this,!0),De(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Pe(this._animRequest),ce(document,"touchmove",this._onTouchMove,this),ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",Uh),re.BoxZoom=Mh,re.DoubleClickZoom=Rh,re.Drag=zh,re.Keyboard=Dh,re.ScrollWheelZoom=Bh,re.TapHold=$h,re.TouchZoom=Uh,n.Bounds=V,n.Browser=W,n.CRS=Ne,n.Canvas=jh,n.Circle=Ba,n.CircleMarker=Ts,n.Class=Ye,n.Control=Pt,n.DivIcon=Ch,n.DivOverlay=Bt,n.DomEvent=J_,n.DomUtil=K_,n.Draggable=cn,n.Evented=St,n.FeatureGroup=Vt,n.GeoJSON=Kt,n.GridLayer=mr,n.Handler=Dt,n.Icon=di,n.ImageOverlay=Os,n.LatLng=G,n.LatLngBounds=xe,n.Layer=Tt,n.LayerGroup=hi,n.LineUtil=ug,n.Map=re,n.Marker=Ps,n.Mixin=ig,n.Path=hn,n.Point=j,n.PolyUtil=rg,n.Polygon=fi,n.Polyline=qt,n.Popup=js,n.PosAnimation=ch,n.Projection=cg,n.Rectangle=Nh,n.Renderer=Gt,n.SVG=gr,n.SVGOverlay=Lh,n.TileLayer=mi,n.Tooltip=As,n.Transformation=ha,n.Util=Mt,n.VideoOverlay=Eh,n.bind=u,n.bounds=ie,n.canvas=Ah,n.circle=vg,n.circleMarker=gg,n.control=dr,n.divIcon=Lg,n.extend=o,n.featureGroup=pg,n.geoJSON=Th,n.geoJson=xg,n.gridLayer=Cg,n.icon=mg,n.imageOverlay=kg,n.latLng=K,n.latLngBounds=B,n.layerGroup=fg,n.map=Q_,n.marker=_g,n.point=M,n.polygon=wg,n.polyline=yg,n.popup=Tg,n.rectangle=jg,n.setOptions=b,n.stamp=d,n.svg=Ih,n.svgOverlay=Pg,n.tileLayer=bh,n.tooltip=Eg,n.transformation=rr,n.version=r,n.videoOverlay=Sg;var Ig=window.L;n.noConflict=function(){return window.L=Ig,this},window.L=n})})(yu,yu.exports);var er=yu.exports;function Cc(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function bc(t,e){return e==null?function(r,o){const a=Z.useRef();return a.current||(a.current=t(r,o)),a}:function(r,o){const a=Z.useRef();a.current||(a.current=t(r,o));const u=Z.useRef(r),{instance:h}=a.current;return Z.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,o]),a}}function P0(t,e){Z.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function $m(t){return function(n){const r=Dm(),o=t(Lc(n,r),r);return Mm(r.map,n.attribution),Bm(o.current,n.eventHandlers),P0(o.current,r),o}}function T0(t,e){const n=bc(t,e),r=$m(n);return w0(r)}function E0(t,e){const n=bc(t),r=S0(n,e);return x0(r)}function L0(t,e){const n=bc(t,e),r=$m(n);return k0(r)}function C0(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function wu(){return wu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wu.apply(this,arguments)}function b0({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...g},_){const[v]=Z.useState({className:o,id:a,style:h}),[P,E]=Z.useState(null);Z.useImperativeHandle(_,()=>(P==null?void 0:P.map)??null,[P]);const b=Z.useCallback(S=>{if(S!==null&&P===null){const y=new er.Map(S,g);n!=null&&p!=null?y.setView(n,p):t!=null&&y.fitBounds(t,e),d!=null&&y.whenReady(d),E(v0(y))}},[]);Z.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const z=P?Tl.createElement(zm,{value:P},r):u??null;return Tl.createElement("div",wu({},v,{ref:b}),z)}const O0=Z.forwardRef(b0),tf=T0(function({position:e,...n},r){const o=new er.Marker(e,n);return Cc(o,y0(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),nf=E0(function(e,n){const r=new er.Popup(e,n.overlayContainer);return Cc(r,n)},function(e,n,{position:r},o){Z.useEffect(function(){const{instance:u}=e;function h(p){p.popup===u&&(u.update(),o(!0))}function d(p){p.popup===u&&o(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var g;n.map.off({popupopen:h,popupclose:d}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(u)}},[e,n,o,r])}),j0=L0(function({url:e,...n},r){const o=new er.TileLayer(e,Lc(n,r));return Cc(o,r)},function(e,n,r){C0(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(t,e)=>{const n=Z.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:d,...p},g)=>Z.createElement("svg",{ref:g,...A0,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${I0(t)}`,h].join(" "),...p},[...e.map(([_,v])=>Z.createElement(_,v)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Ce("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Ce("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ce("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function lt({variant:t="primary",size:e="md",icon:n,iconPosition:r="left",loading:o=!1,fullWidth:a=!1,className:u="",children:h,disabled:d,...p}){const g="btn focus-visible",_={primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",danger:"bg-error hover:bg-error-600 text-white"},v={sm:"btn-sm",md:"",lg:"btn-lg"},P=[g,_[t],v[e],a?"w-full":"",u].filter(Boolean).join(" ");return k.jsx("button",{className:P,disabled:d||o,...p,children:o?k.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):k.jsxs(k.Fragment,{children:[n&&r==="left"&&k.jsx(n,{size:16}),h,n&&r==="right"&&k.jsx(n,{size:16})]})})}function Vm({children:t,className:e="",hover:n=!1,padding:r="md"}){const a=["card",n?"hover:shadow-lg hover:-translate-y-1":"",{sm:"p-4",md:"p-6",lg:"p-8"}[r],e].filter(Boolean).join(" ");return k.jsx("div",{className:a,children:t})}function q0({label:t,error:e,icon:n,iconPosition:r="left",fullWidth:o=!0,className:a="",id:u,...h}){const d=u||`input-${Math.random().toString(36).substr(2,9)}`,p=["input",e?"border-error focus:border-error focus:ring-error":"",n?r==="left"?"pl-10":"pr-10":"",o?"w-full":"",a].filter(Boolean).join(" ");return k.jsxs("div",{className:o?"w-full":"",children:[t&&k.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-secondary mb-2",children:t}),k.jsxs("div",{className:"relative",children:[n&&k.jsx("div",{className:`absolute inset-y-0 ${r==="left"?"left-0 pl-3":"right-0 pr-3"} flex items-center pointer-events-none`,children:k.jsx(n,{size:18,className:"text-tertiary"})}),k.jsx("input",{id:d,className:p,...h})]}),e&&k.jsx("p",{className:"mt-2 text-sm text-error",children:e})]})}function xu({children:t,variant:e="neutral",size:n="md",icon:r,className:o=""}){const a="badge",u={primary:"badge-primary",success:"badge-success",warning:"badge-warning",error:"badge-error",neutral:"bg-gray-100 text-gray-700"},h={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1"},d=[a,u[e],h[n],o].filter(Boolean).join(" ");return k.jsxs("span",{className:d,children:[r&&k.jsx(r,{size:12,className:"mr-1"}),t]})}function K0({expectedPassword:t,onAuthenticated:e}){const[n,r]=Z.useState(""),[o,a]=Z.useState(!1),[u,h]=Z.useState(""),[d,p]=Z.useState(!1),g=async _=>{_.preventDefault(),h(""),p(!0),await new Promise(v=>setTimeout(v,500)),n===t?e():(h("Incorrect password. Please try again."),r("")),p(!1)};return k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:k.jsxs("div",{className:"w-full max-w-md",children:[k.jsxs("div",{className:"text-center mb-8",children:[k.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl mb-4 shadow-lg",children:k.jsx(An,{size:32,className:"text-white"})}),k.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Itinerary Killer"}),k.jsx("p",{className:"text-secondary",children:"Enter password to access your Orlando adventure planner"})]}),k.jsx(Vm,{className:"p-8",children:k.jsxs("form",{onSubmit:g,className:"space-y-6",children:[k.jsxs("div",{className:"text-center mb-6",children:[k.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gray-100 rounded-full mb-3",children:k.jsx(U0,{size:20,className:"text-gray-600"})}),k.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Protected Site"}),k.jsx("p",{className:"text-sm text-secondary mt-1",children:"This site is password protected"})]}),k.jsxs("div",{className:"relative",children:[k.jsx(q0,{type:o?"text":"password",value:n,onChange:_=>r(_.target.value),placeholder:"Enter password",error:u,className:"pr-12",autoFocus:!0,required:!0}),k.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":o?"Hide password":"Show password",children:o?k.jsx(B0,{size:20}):k.jsx($0,{size:20})})]}),k.jsx(lt,{type:"submit",variant:"primary",fullWidth:!0,loading:d,disabled:!n.trim(),children:d?"Verifying...":"Unlock"})]})}),k.jsx("div",{className:"text-center mt-6",children:k.jsx("p",{className:"text-xs text-secondary",children:" Your data is secure and private"})})]})})}function G0({onMenuToggle:t,onAddActivity:e,onShare:n,isMenuOpen:r,totalActivities:o}){return k.jsx("header",{className:"sticky top-0 z-fixed bg-white border-b border-gray-200 safe-top",children:k.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx(lt,{variant:"ghost",size:"sm",onClick:t,className:"p-2 rounded-full lg:hidden","aria-label":r?"Close menu":"Open menu",children:k.jsx(F0,{size:24})}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:k.jsx(An,{size:18,className:"text-white"})}),k.jsxs("div",{className:"hidden sm:block",children:[k.jsx("h1",{className:"text-lg font-bold text-primary",children:"Itinerary Killer"}),k.jsx("p",{className:"text-xs text-secondary",children:"Orlando Adventures"})]})]})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[o>0&&k.jsx("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-full",children:k.jsxs("span",{className:"text-sm text-secondary",children:[o," activities"]})}),k.jsx(lt,{variant:"ghost",size:"sm",onClick:n,className:"p-2 rounded-full","aria-label":"Share itinerary",children:k.jsx(Hm,{size:20})}),k.jsx(lt,{variant:"primary",size:"sm",onClick:e,className:"rounded-full px-4",icon:Zm,children:k.jsx("span",{className:"hidden sm:inline",children:"Add"})})]})]})})}function J0({isOpen:t,onClose:e,currentView:n,onViewChange:r,onFilterToggle:o,showFilters:a}){return t?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"fixed inset-0 bg-overlay z-modal-backdrop lg:hidden",onClick:e}),k.jsxs("div",{className:"fixed inset-y-0 left-0 w-80 max-w-[85vw] bg-white shadow-xl z-modal lg:hidden transform transition-transform duration-300",children:[k.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 safe-top",children:[k.jsx("h2",{className:"text-lg font-semibold text-primary",children:"Navigation"}),k.jsx(lt,{variant:"ghost",size:"sm",onClick:e,className:"p-2 rounded-full",children:k.jsx(V0,{size:20})})]}),k.jsxs("div",{className:"p-4 space-y-2",children:[k.jsxs("button",{onClick:()=>r("map"),className:`
              w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors
              ${n==="map"?"bg-primary text-white":"hover:bg-gray-100 text-gray-700"}
            `,children:[k.jsx(An,{size:20}),k.jsx("span",{className:"font-medium",children:"Map View"})]}),k.jsxs("button",{onClick:()=>r("list"),className:`
              w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors
              ${n==="list"?"bg-primary text-white":"hover:bg-gray-100 text-gray-700"}
            `,children:[k.jsx(Fm,{size:20}),k.jsx("span",{className:"font-medium",children:"List View"})]}),k.jsxs("button",{onClick:o,className:`
              w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors
              ${a?"bg-primary text-white":"hover:bg-gray-100 text-gray-700"}
            `,children:[k.jsx(Um,{size:20}),k.jsx("span",{className:"font-medium",children:"Filters"})]}),k.jsx("div",{className:"border-t border-gray-200 my-4"}),k.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg text-left hover:bg-gray-100 text-gray-700 transition-colors",children:[k.jsx(Wm,{size:20}),k.jsx("span",{className:"font-medium",children:"Settings"})]})]}),k.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-gray-50 safe-bottom",children:k.jsx("p",{className:"text-xs text-secondary text-center",children:"Plan your perfect Orlando adventure"})})]})]}):null}function Q0({currentView:t,onViewChange:e,onFilterToggle:n,onAddActivity:r,onShare:o,showFilters:a,totalActivities:u,children:h}){return k.jsxs("div",{className:"hidden lg:flex lg:w-96 xl:w-[28rem] 2xl:w-[32rem] bg-white border-r border-gray-200 flex-col",children:[k.jsxs("div",{className:"p-6 border-b border-gray-200",children:[k.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[k.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:k.jsx(An,{size:22,className:"text-white"})}),k.jsxs("div",{children:[k.jsx("h1",{className:"text-xl font-bold text-primary",children:"Itinerary Killer"}),k.jsx("p",{className:"text-sm text-secondary",children:"Plan your perfect Orlando adventure"})]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx(lt,{variant:"primary",onClick:r,icon:Zm,className:"flex-1",children:"Add Activity"}),k.jsx(lt,{variant:"secondary",onClick:o,icon:Hm,size:"sm",className:"px-3"})]})]}),k.jsxs("div",{className:"p-4 border-b border-gray-200",children:[k.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[k.jsxs("button",{onClick:()=>e("map"),className:`
              flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-md text-sm font-medium transition-colors
              ${t==="map"?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-800"}
            `,children:[k.jsx(An,{size:16}),"Map"]}),k.jsxs("button",{onClick:()=>e("list"),className:`
              flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-md text-sm font-medium transition-colors
              ${t==="list"?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-800"}
            `,children:[k.jsx(Fm,{size:16}),"List"]})]}),k.jsxs(lt,{variant:"ghost",onClick:n,icon:Um,className:"w-full mt-2 justify-start",children:["Filters ",a&&"(Active)"]})]}),u>0&&k.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:k.jsxs("p",{className:"text-sm text-secondary",children:[u," ",u===1?"activity":"activities"," planned"]})}),k.jsx("div",{className:"flex-1 overflow-hidden",children:h}),k.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:k.jsx(lt,{variant:"ghost",icon:Wm,className:"w-full justify-start text-sm",children:"Settings"})})]})}const rf={"Theme Parks":"",Restaurants:"",Shopping:"",Entertainment:"",Outdoor:"",Museums:"",Hotels:"",Transportation:"",Other:""},Y0={high:"error",medium:"warning",low:"success"};function X0({activity:t,onToggleComplete:e,onShowOnMap:n,onDelete:r,distance:o,isCompact:a=!1}){const u=rf[t.category]||rf.Other;return k.jsxs(Vm,{hover:!0,className:`
        relative transition-all duration-200
        ${t.completed?"opacity-75":""}
        ${a?"p-4":"p-6"}
      `,children:[k.jsxs("div",{className:"flex items-start justify-between mb-3",children:[k.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[k.jsx("div",{className:"text-2xl flex-shrink-0",children:u}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsx("h3",{className:`font-semibold text-primary mb-1 ${a?"text-base":"text-lg"} ${t.completed?"line-through":""}`,children:t.title}),k.jsx("p",{className:`text-secondary ${a?"text-sm":"text-base"} line-clamp-2`,children:t.description})]})]}),k.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:k.jsx(lt,{variant:"ghost",size:"sm",onClick:()=>e(t.id,!t.completed),className:"p-2 rounded-full","aria-label":t.completed?"Mark as incomplete":"Mark as complete",children:t.completed?k.jsx(M0,{size:20,className:"text-success-600"}):k.jsx(R0,{size:20,className:"text-gray-400"})})})]}),k.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[k.jsxs(xu,{variant:Y0[t.priority],children:[t.priority," priority"]}),k.jsx(xu,{variant:"neutral",children:t.category})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 text-sm",children:[k.jsxs("div",{className:"flex items-center gap-2 text-secondary",children:[k.jsx(z0,{size:16}),k.jsxs("span",{children:[t.estimatedDuration," min"]})]}),k.jsxs("div",{className:"flex items-center gap-2 text-secondary",children:[k.jsx(D0,{size:16}),k.jsxs("span",{children:["$",t.cost]})]}),o&&k.jsxs("div",{className:"flex items-center gap-2 text-secondary",children:[k.jsx(Z0,{size:16}),k.jsx("span",{children:o})]}),t.rating&&k.jsxs("div",{className:"flex items-center gap-2 text-secondary",children:[k.jsx(W0,{size:16}),k.jsxs("span",{children:[t.rating,"/5"]})]})]}),k.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[k.jsx(lt,{variant:"secondary",size:"sm",onClick:()=>n(t),icon:An,className:"flex-1",children:"Show on Map"}),k.jsx(lt,{variant:"ghost",size:"sm",onClick:()=>r(t.id),className:"p-2 text-error hover:bg-error hover:text-white","aria-label":"Delete activity",children:k.jsx(H0,{size:16})})]})]})}function qm(t,e,n,r){const a=(n-t)*Math.PI/180,u=(r-e)*Math.PI/180,h=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2);return 3959*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))}async function ew(t){try{const n=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&limit=1`)).json();return n&&n.length>0?{lat:parseFloat(n[0].lat),lng:parseFloat(n[0].lon)}:null}catch(e){return console.error("Error getting coordinates:",e),null}}const tw=ew;function nw(t){return t<.1?`${Math.round(t*5280)} ft`:t<1?`${Math.round(t*5280/100)*100} ft`:`${t.toFixed(1)} mi`}async function Tx(t,e){var v;const n={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_BASE||"",o=`${n}?endpoint=${encodeURIComponent("/maps/api/place/findplacefromtext/json")}&input=${encodeURIComponent(t+" "+e)}&inputtype=textquery&fields=place_id`,u=await(await fetch(o)).json();if(!u.candidates||!((v=u.candidates[0])!=null&&v.place_id))throw new Error("No place found");const h=u.candidates[0].place_id,p=`${n}?endpoint=${encodeURIComponent("/maps/api/place/details/json")}&place_id=${encodeURIComponent(h)}&fields=${encodeURIComponent("name,opening_hours,formatted_address,geometry/location,types,editorial_summary,rating,user_ratings_total,price_level,business_status")}`,_=await(await fetch(p)).json();if(_.status!=="OK")throw new Error("Failed to fetch place details");return _.result}async function Ex(t){const r=`${{BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_BASE||""}?endpoint=${encodeURIComponent("/maps/api/place/autocomplete/json")}&input=${encodeURIComponent(t)}`,a=await(await fetch(r)).json();if(a.status!=="OK"&&a.status!=="ZERO_RESULTS")throw new Error("Autocomplete failed");return(a.predictions||[]).map(u=>({description:u.description,place_id:u.place_id}))}async function Lx(t){const e={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_BASE||"",n="/maps/api/place/details/json",r=["name","formatted_address","geometry/location","opening_hours","types","editorial_summary","rating","user_ratings_total","price_level","website","formatted_phone_number","international_phone_number","url","photos","reviews","business_status","wheelchair_accessible_entrance","delivery","dine_in","takeout","reservable","serves_beer","serves_wine","outdoor_seating"].join(","),o=`${e}?endpoint=${encodeURIComponent(n)}&place_id=${encodeURIComponent(t)}&fields=${encodeURIComponent(r)}`,u=await(await fetch(o)).json();if(u.status!=="OK")throw new Error("Failed to fetch place details");return u.result}function sf({activities:t,onToggleComplete:e,onShowOnMap:n,onDelete:r,userLocation:o,loading:a=!1,isCompact:u=!1}){const h=d=>{if(!o)return;const p=qm(o.lat,o.lng,d.location.lat,d.location.lng);return nw(p)};return a?k.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 2xl:grid-cols-3",children:[...Array(6)].map((d,p)=>k.jsx("div",{className:"animate-pulse",children:k.jsx("div",{className:"bg-gray-200 rounded-xl h-48"})},p))}):t.length===0?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"text-6xl mb-4",children:""}),k.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:"No activities yet"}),k.jsx("p",{className:"text-secondary mb-6",children:"Start planning your Orlando adventure by adding your first activity."})]}):k.jsx("div",{className:`
      grid gap-4 
      ${u?"md:grid-cols-2 lg:grid-cols-3":"md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 2xl:grid-cols-3"}
    `,children:t.map(d=>k.jsx(X0,{activity:d,onToggleComplete:e,onShowOnMap:n,onDelete:r,distance:h(d),isCompact:u},d.id))})}function iw({onRefreshLocation:t,onRefreshAllActivities:e,hasLocation:n,isLoading:r=!1}){const[o,a]=Z.useState(null),[u,h]=Z.useState(!1),d=async()=>{a("location");try{await t()}finally{a(null),h(!1)}},p=async()=>{a("activities");try{await e()}finally{a(null),h(!1)}};return k.jsxs("div",{className:"relative",children:[k.jsxs(lt,{variant:n?"secondary":"primary",size:"sm",onClick:()=>h(!u),icon:n?Ys:An,loading:r,className:"relative",children:[n?"Refresh":"Get Location",!n&&k.jsx(xu,{variant:"error",className:"absolute -top-1 -right-1 w-3 h-3 p-0 text-xs",children:"!"})]}),u&&n&&k.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-dropdown",children:[k.jsxs("div",{className:"p-2",children:[k.jsxs("button",{onClick:d,disabled:o==="location",className:"w-full flex items-center gap-3 p-3 text-left rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[k.jsx(An,{size:18,className:"text-primary flex-shrink-0"}),k.jsxs("div",{children:[k.jsx("div",{className:"font-medium text-sm",children:"Refresh My Location"}),k.jsx("div",{className:"text-xs text-secondary",children:"Update your current position"})]}),o==="location"&&k.jsx(Ys,{size:16,className:"animate-spin text-primary ml-auto"})]}),k.jsxs("button",{onClick:p,disabled:o==="activities",className:"w-full flex items-center gap-3 p-3 text-left rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[k.jsx(Ys,{size:18,className:"text-primary flex-shrink-0"}),k.jsxs("div",{children:[k.jsx("div",{className:"font-medium text-sm",children:"Refresh All Activities"}),k.jsx("div",{className:"text-xs text-secondary",children:"Update location data for all activities"})]}),o==="activities"&&k.jsx(Ys,{size:16,className:"animate-spin text-primary ml-auto"})]})]}),k.jsx("div",{className:"border-t border-gray-100 p-3 bg-gray-50 rounded-b-lg",children:k.jsxs("div",{className:"flex items-start gap-2",children:[k.jsx(N0,{size:14,className:"text-warning-500 flex-shrink-0 mt-0.5"}),k.jsx("p",{className:"text-xs text-secondary",children:"Refreshing activities will update their coordinates and may affect distances and map positions."})]})})]}),u&&k.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)})]})}const rw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>oi(()=>Promise.resolve().then(()=>tr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Oc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class sw extends Oc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class of extends Oc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class af extends Oc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ku;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ku||(ku={}));var ow=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class aw{constructor(e,{headers:n={},customFetch:r,region:o=ku.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=rw(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return ow(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:u}=n;let h={},{region:d}=n;d||(d=this.region);const p=new URL(`${this.url}/${e}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const _=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:g}).catch(b=>{throw new sw(b)}),v=_.headers.get("x-relay-error");if(v&&v==="true")throw new of(_);if(!_.ok)throw new af(_);let P=((r=_.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return P==="application/json"?E=yield _.json():P==="application/octet-stream"?E=yield _.blob():P==="text/event-stream"?E=_:P==="multipart/form-data"?E=yield _.formData():E=yield _.text(),{data:E,error:null,response:_}}catch(o){return{data:null,error:o,response:o instanceof af||o instanceof of?o.context:void 0}}})}}var tt={},jc={},sa={},ps={},oa={},aa={},lw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ji=lw();const uw=Ji.fetch,Km=Ji.fetch.bind(Ji),Gm=Ji.Headers,cw=Ji.Request,hw=Ji.Response,tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gm,Request:cw,Response:hw,default:Km,fetch:uw},Symbol.toStringTag,{value:"Module"})),dw=Zg(tr);var la={};Object.defineProperty(la,"__esModule",{value:!0});let fw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};la.default=fw;var Jm=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(aa,"__esModule",{value:!0});const pw=Jm(dw),mw=Jm(la);let _w=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,h,d,p;let g=null,_=null,v=null,P=a.status,E=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?_=y:_=JSON.parse(y))}const z=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=a.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");z&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(g={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,v=null,P=406,E="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const z=await a.text();try{g=JSON.parse(z),Array.isArray(g)&&a.status===404&&(_=[],g=null,P=200,E="OK")}catch{a.status===404&&z===""?(P=204,E="No Content"):g={message:z}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,P=200,E="OK"),g&&this.shouldThrowOnError)throw new mw.default(g)}return{error:g,data:_,count:v,status:P,statusText:E}});return this.shouldThrowOnError||(o=o.catch(a=>{var u,h,d;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};aa.default=_w;var gw=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oa,"__esModule",{value:!0});const vw=gw(aa);let yw=class extends vw.default{select(e){let n=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:u="text"}={}){var h;const d=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};oa.default=yw;var ww=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});const xw=ww(oa);let kw=class extends xw.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ps.default=kw;var Sw=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sa,"__esModule",{value:!0});const Er=Sw(ps);let Pw=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),r&&this.headers.append("Prefer",`count=${r}`),new Er.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new Er.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Er.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:n}={}){var r;const o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Er.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Er.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};sa.default=Pw;var Qm=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jc,"__esModule",{value:!0});const Tw=Qm(sa),Ew=Qm(ps);let Lw=class Ym{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){const n=new URL(`${this.url}/${e}`);return new Tw.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ym(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:a}={}){var u;let h;const d=new URL(`${this.url}/rpc/${e}`);let p;r||o?(h=r?"HEAD":"GET",Object.entries(n).filter(([_,v])=>v!==void 0).map(([_,v])=>[_,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([_,v])=>{d.searchParams.append(_,v)})):(h="POST",p=n);const g=new Headers(this.headers);return a&&g.set("Prefer",`count=${a}`),new Ew.default({method:h,url:d,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};jc.default=Lw;var nr=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tt,"__esModule",{value:!0});tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const Xm=nr(jc);tt.PostgrestClient=Xm.default;const e_=nr(sa);tt.PostgrestQueryBuilder=e_.default;const t_=nr(ps);tt.PostgrestFilterBuilder=t_.default;const n_=nr(oa);tt.PostgrestTransformBuilder=n_.default;const i_=nr(aa);tt.PostgrestBuilder=i_.default;const r_=nr(la);tt.PostgrestError=r_.default;var Cw=tt.default={PostgrestClient:Xm.default,PostgrestQueryBuilder:e_.default,PostgrestFilterBuilder:t_.default,PostgrestTransformBuilder:n_.default,PostgrestBuilder:i_.default,PostgrestError:r_.default};const{PostgrestClient:bw,PostgrestQueryBuilder:Ix,PostgrestFilterBuilder:Nx,PostgrestTransformBuilder:Mx,PostgrestBuilder:Rx,PostgrestError:zx}=Cw;class Ow{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jw="2.15.4",Aw=`realtime-js/${jw}`,Iw="1.0.0",Su=1e4,Nw=1e3,Mw=100;var Fr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fr||(Fr={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var Ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ot||(Ot={}));var Pu;(function(t){t.websocket="websocket"})(Pu||(Pu={}));var qn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qn||(qn={}));class Rw{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+o));u=u+o;const d=r.decode(e.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:d,payload:p}}}class s_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const lf=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,u)=>(a[u]=zw(u,t,e,o),a),{})},zw=(t,e,n,r)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!r.includes(a)?o_(a,u):Tu(u)},o_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Uw(e,n)}switch(t){case he.bool:return Dw(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return Bw(e);case he.json:case he.jsonb:return $w(e);case he.timestamp:return Fw(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Tu(e);default:return Tu(e)}},Tu=t=>t,Dw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Bw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$w=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Uw=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>o_(e,h))}return t},Fw=t=>typeof t=="string"?t.replace(" ","T"):t,a_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class _l{constructor(e,n,r={},o=Su){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(uf||(uf={}));class Zr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zr.syncState(this.state,o,a,u),this.pendingDiffs.forEach(d=>{this.state=Zr.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Zr.syncDiff(this.state,o,a,u),h())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const a=this.cloneDeep(e),u=this.transformState(n),h={},d={};return this.map(a,(p,g)=>{u[p]||(d[p]=g)}),this.map(u,(p,g)=>{const _=a[p];if(_){const v=g.map(z=>z.presence_ref),P=_.map(z=>z.presence_ref),E=g.filter(z=>P.indexOf(z.presence_ref)<0),b=_.filter(z=>v.indexOf(z.presence_ref)<0);E.length>0&&(h[p]=E),b.length>0&&(d[p]=b)}else h[p]=g}),this.syncDiff(a,{joins:h,leaves:d},r,o)}static syncDiff(e,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(h,d)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(d),g.length>0){const _=e[h].map(P=>P.presence_ref),v=g.filter(P=>_.indexOf(P.presence_ref)<0);e[h].unshift(...v)}r(h,g,d)}),this.map(u,(h,d)=>{let p=e[h];if(!p)return;const g=d.map(_=>_.presence_ref);p=p.filter(_=>g.indexOf(_.presence_ref)<0),e[h]=p,o(h,p,d),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cf||(cf={}));var Wr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wr||(Wr={}));var Yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class Ac{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _l(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new s_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Zr(this),this.broadcastEndpointURL=a_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(P=>P.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Wr.PRESENCE]&&this.bindings[Wr.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,_={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(P=>e==null?void 0:e(Yt.CHANNEL_ERROR,P)),this._onClose(()=>e==null?void 0:e(Yt.CLOSED)),this.updateJoinPayload(Object.assign({config:v},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:P})=>{var E;if(this.socket.setAuth(),P===void 0){e==null||e(Yt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,z=(E=b==null?void 0:b.length)!==null&&E!==void 0?E:0,S=[];for(let y=0;y<z;y++){const x=b[y],{filter:{event:O,schema:R,table:N,filter:D}}=x,$=P&&P[y];if($&&$.event===O&&$.schema===R&&$.table===N&&$.filter===D)S.push(Object.assign(Object.assign({},x),{id:$.id}));else{this.unsubscribe(),this.state=Oe.errored,e==null||e(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Yt.SUBSCRIBED);return}}).receive("error",P=>{this.state=Oe.errored,e==null||e(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Oe.joined&&e===Wr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,d;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new _l(this,Ot.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new _l(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Mw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,a;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:p,join:g}=Ot;if(r&&[h,d,p,g].indexOf(u)>=0&&r!==this._joinRef())return;let v=this._onMessage(u,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(P=>{var E,b,z;return((E=P.filter)===null||E===void 0?void 0:E.event)==="*"||((z=(b=P.filter)===null||b===void 0?void 0:b.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===u}).map(P=>P.callback(v,r)):(a=this.bindings[u])===null||a===void 0||a.filter(P=>{var E,b,z,S,y,x;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in P){const O=P.id,R=(E=P.filter)===null||E===void 0?void 0:E.event;return O&&((b=n.ids)===null||b===void 0?void 0:b.includes(O))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((z=n.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const O=(y=(S=P==null?void 0:P.filter)===null||S===void 0?void 0:S.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return O==="*"||O===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===u}).map(P=>{if(typeof v=="object"&&"ids"in v){const E=v.data,{schema:b,table:z,commit_timestamp:S,type:y,errors:x}=E;v=Object.assign(Object.assign({},{schema:b,table:z,commit_timestamp:S,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(E))}P.callback(v,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ac.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ot.close,{},e)}_onError(e){this._on(Ot.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=lf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=lf(e.columns,e.old_record)),n}}const gl=()=>{},Xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zw=[1e3,2e3,5e3,1e4],Ww=1e4,Hw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vw{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Su,this.transport=null,this.heartbeatIntervalMs=Xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gl,this.ref=0,this.reconnectTimer=null,this.logger=gl,this.conn=null,this.sendBuffer=[],this.serializer=new Rw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...u)=>oi(()=>Promise.resolve().then(()=>tr),void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Pu.websocket}`,this.httpEndpoint=a_(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ow.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Iw}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return qn.Connecting;case Fr.open:return qn.Open;case Fr.closing:return qn.Closing;default:return qn.Closed}}isConnected(){return this.connectionState()===qn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new Ac(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:o,ref:a}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Nw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:u}=n,h=u?`(${u})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${o} ${h}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ot.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Hw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:Aw};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Ot.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new s_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,a,u,h,d,p,g;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Su,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Xs.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:gl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:_=>Zw[_-1]||Ww,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(_,v)=>v(JSON.stringify(_)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ic extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qw extends Ic{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eu extends Ic{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Kw=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const l_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>oi(()=>Promise.resolve().then(()=>tr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Gw=()=>Kw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oi(()=>Promise.resolve().then(()=>tr),void 0)).Response:Response}),Lu=t=>{if(Array.isArray(t))return t.map(n=>Lu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Lu(r)}),e},Jw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ai=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const vl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qw=(t,e,n)=>ai(void 0,void 0,void 0,function*(){const r=yield Gw();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new qw(vl(o),a,u))}).catch(o=>{e(new Eu(vl(o),o))}):e(new Eu(vl(t),t))}),Yw=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(Jw(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function ms(t,e,n,r,o,a){return ai(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,Yw(e,r,o,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>Qw(d,h,r))})})}function Uo(t,e,n,r){return ai(this,void 0,void 0,function*(){return ms(t,"GET",e,n,r)})}function Ft(t,e,n,r,o){return ai(this,void 0,void 0,function*(){return ms(t,"POST",e,r,o,n)})}function Cu(t,e,n,r,o){return ai(this,void 0,void 0,function*(){return ms(t,"PUT",e,r,o,n)})}function Xw(t,e,n,r){return ai(this,void 0,void 0,function*(){return ms(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function u_(t,e,n,r,o){return ai(this,void 0,void 0,function*(){return ms(t,"DELETE",e,r,o,n)})}var qe=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const e1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class t1{constructor(e,n={},r,o){this.url=e,this.headers=n,this.bucketId=r,this.fetch=l_(o)}uploadOrUpdate(e,n,r,o){return qe(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},hf),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),_=yield(e=="PUT"?Cu:Ft)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(a){if(je(a))return{data:null,error:a};throw a}})}upload(e,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return qe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let d;const p=Object.assign({upsert:hf.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const _=yield Cu(this.fetch,h.toString(),d,{headers:g});return{data:{path:a,fullPath:_.Key},error:null}}catch(d){if(je(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Ft(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new Ic("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}update(e,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return qe(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}copy(e,n,r){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return qe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Ft(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return qe(this,void 0,void 0,function*(){try{const o=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}download(e,n){return qe(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Uo(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(je(h))return{data:null,error:h};throw h}})}info(e){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Uo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lu(r),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}exists(e){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Xw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(je(r)&&r instanceof Eu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return qe(this,void 0,void 0,function*(){try{return{data:yield u_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}list(e,n,r){return qe(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},e1),n),{prefix:e||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}listV2(e,n){return qe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ft(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const n1="2.11.0",i1={"X-Client-Info":`storage-js/${n1}`};var vi=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class r1{constructor(e,n={},r,o){const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},i1),n),this.fetch=l_(r)}listBuckets(){return vi(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(je(e))return{data:null,error:e};throw e}})}getBucket(e){return vi(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return vi(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return vi(this,void 0,void 0,function*(){try{return{data:yield Cu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}emptyBucket(e){return vi(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return vi(this,void 0,void 0,function*(){try{return{data:yield u_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}}class s1 extends r1{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new t1(this.url,this.headers,e,this.fetch)}}const o1="2.56.1";let Ar="";typeof Deno<"u"?Ar="deno":typeof document<"u"?Ar="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ar="react-native":Ar="node";const a1={"X-Client-Info":`supabase-js-${Ar}/${o1}`},l1={headers:a1},u1={schema:"public"},c1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h1={};var d1=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const f1=t=>{let e;return t?e=t:typeof fetch>"u"?e=Km:e=fetch,(...n)=>e(...n)},p1=()=>typeof Headers>"u"?Gm:Headers,m1=(t,e,n)=>{const r=f1(n),o=p1();return(a,u)=>d1(void 0,void 0,void 0,function*(){var h;const d=(h=yield e())!==null&&h!==void 0?h:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var _1=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};function g1(t){return t.endsWith("/")?t:t+"/"}function v1(t,e){var n,r;const{db:o,auth:a,realtime:u,global:h}=t,{db:d,auth:p,realtime:g,global:_}=e,v={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>_1(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const c_="2.71.1",Si=30*1e3,bu=3,yl=bu*Si,y1="http://localhost:9999",w1="supabase.auth.token",x1={"X-Client-Info":`gotrue-js/${c_}`},Ou="X-Supabase-Api-Version",h_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S1=10*60*1e3;class Nc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class P1 extends Nc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function T1(t){return Q(t)&&t.name==="AuthApiError"}class d_ extends Nc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Rn extends Nc{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class pn extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E1(t){return Q(t)&&t.name==="AuthSessionMissingError"}class eo extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class to extends Rn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class no extends Rn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L1(t){return Q(t)&&t.name==="AuthImplicitGrantRedirectError"}class df extends Rn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ju extends Rn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function wl(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class ff extends Rn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Au extends Rn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pf=` 	
\r=`.split(""),C1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<pf.length;e+=1)t[pf[e].charCodeAt(0)]=-2;for(let e=0;e<Fo.length;e+=1)t[Fo[e].charCodeAt(0)]=e;return t})();function mf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Fo[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Fo[r]),e.queuedBits-=6}}function f_(t,e,n){const r=C1[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _f(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{j1(u,r,n)};for(let u=0;u<t.length;u+=1)f_(t.charCodeAt(u),o,a);return e.join("")}function b1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function O1(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}b1(r,e)}}function j1(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function A1(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)f_(t.charCodeAt(o),n,r);return new Uint8Array(e)}function I1(t){const e=[];return O1(t,n=>e.push(n)),new Uint8Array(e)}function N1(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>mf(o,n,r)),mf(null,n,r),e.join("")}function M1(t){return Math.round(Date.now()/1e3)+t}function R1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},p_=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function z1(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const m_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>oi(()=>Promise.resolve().then(()=>tr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},D1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fn=async(t,e)=>{await t.removeItem(e)};class ua{constructor(){this.promise=new ua.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ua.promiseConstructor=Promise;function xl(t){const e=t.split(".");if(e.length!==3)throw new Au("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!k1.test(e[r]))throw new Au("JWT not in base64url format");return{header:JSON.parse(_f(e[0])),payload:JSON.parse(_f(e[1])),signature:A1(e[2]),raw:{header:e[0],payload:e[1]}}}async function B1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $1(t,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function U1(t){return("0"+t.toString(16)).substr(-2)}function F1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,U1).join("")}async function Z1(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function W1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Z1(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yi(t,e,n=!1){const r=F1();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Pi(t,`${e}-code-verifier`,o);const a=await W1(r);return[a,r===a?"plain":"s256"]}const H1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V1(t){const e=t.headers.get(Ou);if(!e||!e.match(H1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function q1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function K1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const G1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wi(t){if(!G1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gf(t){return JSON.parse(JSON.stringify(t))}var J1=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Vn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Q1=[502,503,504];async function vf(t){var e;if(!D1(t))throw new ju(Vn(t),0);if(Q1.includes(t.status))throw new ju(Vn(t),t.status);let n;try{n=await t.json()}catch(a){throw new d_(Vn(a),a)}let r;const o=V1(t);if(o&&o.getTime()>=h_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ff(Vn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new ff(Vn(n),t.status,n.weak_password.reasons);throw new P1(Vn(n),t.status||500,r)}const Y1=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function te(t,e,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[Ou]||(a[Ou]=h_["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await X1(t,e,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function X1(t,e,n,r,o,a){const u=Y1(e,r,o,a);let h;try{h=await t(n,Object.assign({},u))}catch(d){throw console.error(d),new ju(Vn(d),0)}if(h.ok||await vf(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(d){await vf(d)}}function Jt(t){var e;let n=null;ix(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=M1(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function yf(t){const e=Jt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ex(t){return{data:t,error:null}}function tx(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=t,u=J1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function nx(t){return t}function ix(t){return t.access_token&&t.refresh_token&&t.expires_in}const Sl=["global","local","others"];var rx=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};class sx{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=m_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Sl[0]){if(Sl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sl.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=rx(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:tx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,a,u,h,d;try{const p={nextPage:null,lastPage:0,total:0},g=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:nx});if(g.error)throw g.error;const _=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,P=(d=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return P.length>0&&(P.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(E.split(";")[1].split("=")[1]);p[`${z}Page`]=b}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Q(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){wi(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){wi(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){wi(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){wi(e.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(e){wi(e.userId),wi(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function wf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ox(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xi={debug:!!(globalThis&&p_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class __ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ax extends __{}async function lx(t,e,n){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ax(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ox();const ux={url:y1,storageKey:w1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xf(t,e,n){return await n()}const ki={};class ls{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ls.nextInstanceID,ls.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},ux),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new sx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=m_(o.fetch),this.lock=o.lock||xf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Lt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lx:this.lock=xf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:p_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=wf(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=ki[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ki[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${c_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=z1(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Lt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),L1(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new d_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Jt}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,o;try{let a;if("email"in e){const{email:g,password:_,options:v}=e;let P=null,E=null;this.flowType==="pkce"&&([P,E]=await yi(this.storage,this.storageKey)),a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:_,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:P,code_challenge_method:E},xform:Jt})}else if("phone"in e){const{phone:g,password:_,options:v}=e;a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Jt})}else throw new to("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:h}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yf})}else if("phone"in e){const{phone:a,password:u,options:h}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yf})}else throw new to("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new eo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,o,a,u,h,d,p,g,_,v,P;let E,b;if("message"in e)E=e.message,b=e.signature;else{const{chain:z,wallet:S,statement:y,options:x}=e;let O;if(Lt())if(typeof S=="object")O=S;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))O=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const R=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const N=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),y?{statement:y}:null));let D;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")D=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)D=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)E=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),b=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${R.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(o=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((h=x==null?void 0:x.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((p=x==null?void 0:x.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((_=(g=x==null?void 0:x.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...x.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const N=await O.signMessage(new TextEncoder().encode(E),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=N}}try{const{data:z,error:S}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:N1(b)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(P=e.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:Jt});if(S)throw S;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new eo}:(z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:S})}catch(z){if(Q(z))return{data:{user:null,session:null},error:z};throw z}}async _exchangeCodeForSession(e){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Jt});if(await fn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new eo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(Q(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=e,h=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jt}),{data:d,error:p}=h;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new eo}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,o,a,u;try{if("email"in e){const{email:h,options:d}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await yi(this.storage,this.storageKey));const{error:_}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:d}=e,{data:p,error:g}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new to("You must provide either an email or phone number.")}catch(h){if(Q(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Jt});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,p=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,r,o;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await yi(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:ex})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new pn;const{error:o}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:u}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:u,error:h}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new to("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<yl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await Zn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=kl()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,g))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yn}):await this._useSession(async n=>{var r,o,a;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:yn})})}catch(n){if(Q(n))return E1(n)&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new pn;const u=o.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await yi(this.storage,this.storageKey));const{data:p,error:g}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:yn});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pn;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:u}=xl(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{session:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new pn;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Lt())throw new no("No browser detected.");if(e.error||e.error_description||e.error_code)throw new no(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new df("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new no("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new df("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:h,expires_at:d,token_type:p}=e;if(!a||!h||!u||!p)throw new no("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(h);let v=g+_;d&&(v=parseInt(d));const P=v-g;P*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${_}s`);const E=v-_;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,v,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,v,g);const{data:b,error:z}=await this._getUser(a);if(z)throw z;const S={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:_,expires_at:v,refresh_token:u,token_type:p,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(Q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(T1(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=R1(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await yi(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,h,d,p,g;const{data:_,error:v}=a;if(v)throw v;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",P,{headers:this.headers,jwt:(g=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return Lt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $1(async o=>(o>0&&await B1(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jt})),(o,a)=>{const u=200*Math.pow(2,o);return a&&wl(a)&&Date.now()+u-r<Si})}catch(r){if(this._debug(n,"error",r),Q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Lt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Zn(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Pi(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:kl()}else if(o&&!o.user&&!o.user){const u=await Zn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await fn(this.storage,this.storageKey+"-user"),await Pi(this.storage,this.storageKey,o)):o.user=kl()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yl;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${yl}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),wl(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ua;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new pn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),Q(a)){const u={session:null,error:a};return wl(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){a.push(d)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pi(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=gf(o);await Pi(this.storage,this.storageKey,a)}else{const o=gf(n);await Pi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await fn(this.storage,this.storageKey),await fn(this.storage,this.storageKey+"-code-verifier"),await fn(this.storage,this.storageKey+"-user"),this.userStorage&&await fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Si}ms, refresh threshold is ${bu} ticks`),o<=bu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof __)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await yi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:p}=await te(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:h}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=xl(o.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+S1>o)return r;const{data:a,error:u}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:P,error:E}=await this.getSession();if(E||!P.session)return{data:null,error:E};r=P.session.access_token}const{header:o,payload:a,signature:u,raw:{header:h,payload:d}}=xl(r);n!=null&&n.allowExpired||q1(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:P}=await this.getUser(r);if(P)throw P;return{data:{claims:a,header:o,signature:u},error:null}}const g=K1(o.alg),_=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,_,u,I1(`${h}.${d}`)))throw new Au("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}ls.nextInstanceID=0;const cx=ls;class hx extends cx{constructor(e){super(e)}}var dx=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class fx{constructor(e,n,r){var o,a,u;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=g1(e),d=new URL(h);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:u1,realtime:h1,auth:Object.assign(Object.assign({},c1),{storageKey:p}),global:l1},_=v1(r??{},g);this.storageKey=(o=_.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=_.global.headers)!==null&&a!==void 0?a:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(v,P)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(P)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=_.auth)!==null&&u!==void 0?u:{},this.headers,_.global.fetch),this.fetch=m1(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new bw(new URL("rest/v1",d).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new s1(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new aw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return dx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:a,flowType:u,lock:h,debug:d},p,g){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hx({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,flowType:u,lock:h,debug:d,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Vw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const px=(t,e,n)=>new fx(t,e,n);function mx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let io=null;async function g_(){try{const e=await fetch("/itinerary-killer/"+"runtime-config.json",{cache:"no-store"});return e.ok?await e.json():null}catch{return null}}async function _x(){try{let t={}.VITE_GOOGLE_PROXY_URL;if(!t){const o=await g_();o!=null&&o.VITE_GOOGLE_PROXY_URL&&(t=o.VITE_GOOGLE_PROXY_URL)}if(!t)return null;const e=new URL(t);e.pathname="/keys";const n=await fetch(e.toString(),{method:"GET",mode:"cors"});if(!n.ok)return null;const r=await n.json().catch(()=>({}));return{url:r==null?void 0:r.SUPABASE_URL,key:r==null?void 0:r.SUPABASE_ANON_KEY}}catch{return null}}async function Lr(){if(io)return io;let t={}.VITE_SUPABASE_URL,e={}.VITE_SUPABASE_ANON_KEY;if(!t||!e){const n=await g_();n&&(t=t||n.VITE_SUPABASE_URL,e=e||n.VITE_SUPABASE_ANON_KEY)}if(!t||!e){const n=await _x();n&&(t=t||n.url,e=e||n.key)}if(!t||!e)throw new Error("Supabase credentials not configured");return io=px(t,e),io}const gx=t=>({id:t.id,title:t.title,description:t.description||"",category:t.category||"Other",priority:t.priority||"low",cost:Number(t.cost||0),estimatedDuration:Number(t.estimated_duration||0),address:t.address||"",location:{lat:Number(t.location_lat||0),lng:Number(t.location_lng||0)},notes:"",isOpen:!!t.is_open,createdAt:t.created_at?new Date(t.created_at):new Date,completed:!!t.completed}),Pl=t=>{if(!t.id||!t.title||!t.description)throw new Error(`Invalid item data: missing required fields - id: ${!!t.id}, title: ${!!t.title}, description: ${!!t.description}`);if(!t.location||typeof t.location.lat!="number"||typeof t.location.lng!="number")throw new Error(`Invalid item data: invalid location - ${JSON.stringify(t.location)}`);return{id:t.id,title:t.title,description:t.description,category:t.category,priority:t.priority,cost:t.cost,estimated_duration:t.estimatedDuration,address:t.address,location_lat:t.location.lat,location_lng:t.location.lng,created_at:t.createdAt.toISOString(),completed:t.completed,is_open:t.isOpen}};function vx(){const[t,e]=Z.useState([]),[n,r]=Z.useState(!1);return Z.useEffect(()=>{(async()=>{r(!0);try{const v=await Lr(),{data:P,error:E}=await v.from("items").select("*").order("created_at",{ascending:!1});if(E)throw E;e((P||[]).map(gx))}catch(v){console.error("Supabase fetch failed:",v)}finally{r(!1)}})()},[]),{items:t,loading:n,addItem:async _=>{r(!0);try{const v=await Lr(),{error:P}=await v.from("items").insert([Pl(_)]);if(P)throw P;e(E=>[_,...E])}catch(v){throw console.error("Supabase insert failed:",v),v}finally{r(!1)}},addItems:async _=>{r(!0);try{const v=await Lr(),P=_.map(Pl);console.log("Attempting to insert items:",P.map(b=>({id:b.id,title:b.title,category:b.category,priority:b.priority})));const{error:E}=await v.from("items").insert(P);if(E)throw console.error("Supabase bulk insert error details:",E),E;console.log(`Successfully inserted ${_.length} items`),e(b=>[..._,...b])}catch(v){throw console.error("Supabase bulk insert failed:",v),v}finally{r(!1)}},updateItem:async(_,v)=>{r(!0);try{const P=t.find(S=>S.id===_);if(!P)return;const E={...P,...v},b=await Lr(),{error:z}=await b.from("items").update(Pl(E)).eq("id",_);if(z)throw z;e(S=>S.map(y=>y.id===_?E:y))}catch(P){throw console.error("Supabase update failed:",P),P}finally{r(!1)}},deleteItem:async _=>{r(!0);try{const v=await Lr(),{error:P}=await v.from("items").delete().eq("id",_);if(P)throw P;e(E=>E.filter(b=>b.id!==_))}catch(v){throw console.error("Supabase delete failed:",v),v}finally{r(!1)}},getItemsByCategory:_=>t.filter(v=>v.category===_),getItemsByPriority:_=>t.filter(v=>v.priority===_),getNearbyItems:(_,v,P=10)=>t.filter(E=>Math.sqrt(Math.pow(E.location.lat-_,2)+Math.pow(E.location.lng-v,2))*69<=P)}}function yx(){const[t,e]=Z.useState(!1),n=async a=>{try{const u=`${a.title}, ${a.address||"Orlando, FL"}`,h=await tw(u);return h?{...a,location:h,lastLocationUpdate:new Date().toISOString()}:null}catch(u){return console.error(`Failed to refresh location for ${a.title}:`,u),null}};return{refreshing:t,refreshAllActivities:async(a,u)=>{e(!0);let h=0,d=0;try{const g=[];for(let _=0;_<a.length;_+=3)g.push(a.slice(_,_+3));for(const _ of g){const v=_.map(async P=>{try{const E=await n(P);E?(u(E),h++):d++}catch(E){console.error(`Failed to refresh ${P.title}:`,E),d++}});await Promise.all(v),g.indexOf(_)<g.length-1&&await new Promise(P=>setTimeout(P,1e3))}return{success:h,failed:d}}finally{e(!1)}},refreshSingleActivity:async a=>{e(!0);try{return await n(a)}finally{e(!1)}},refreshActivityLocation:n}}const wx=Z.lazy(()=>oi(()=>import("./AddItemModal-4f47bc6f.js"),["assets/AddItemModal-4f47bc6f.js","assets/SafeAreaFooter-f8cf4bc3.js"])),xx=Z.lazy(()=>oi(()=>import("./ImportJsonModal-1a2bfaf0.js"),["assets/ImportJsonModal-1a2bfaf0.js","assets/SafeAreaFooter-f8cf4bc3.js"])),kx=new er.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Sx=new er.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function Px(){const[t,e]=Z.useState(()=>{try{return localStorage.getItem("site-authed")==="true"}catch{return!1}}),[n]=Z.useState(()=>{const B={}.VITE_SITE_PASSWORD;return B&&B.length>0?B:void 0}),[r,o]=Z.useState("map"),[a,u]=Z.useState(!1),[h,d]=Z.useState(!1),[p,g]=Z.useState(!1),[_,v]=Z.useState(!1),[P,E]=Z.useState(null),[b,z]=Z.useState(!1),[S,y]=Z.useState(null),x=[28.5383,-81.3792],[O,R]=Z.useState(x),[N,D]=Z.useState(null),{items:$,addItem:ue,addItems:Y,updateItem:ae,deleteItem:Pe,loading:Mt}=vx(),{refreshAllActivities:Ye,refreshing:ir}=yx(),be=()=>{e(!0);try{localStorage.setItem("site-authed","true")}catch(B){console.warn("Could not save auth state to localStorage:",B)}},St=async()=>{if(!navigator.geolocation){y("Geolocation is not supported by this browser.");return}z(!0),y(null);try{const B=await new Promise((K,Ne)=>{navigator.geolocation.getCurrentPosition(K,Ne,{enableHighAccuracy:!0,timeout:15e3,maximumAge:3e5})}),G={lat:B.coords.latitude,lng:B.coords.longitude,accuracy:B.coords.accuracy};E(G),R([G.lat,G.lng])}catch(B){const G=B.code===1?"Location access denied. Please enable location permissions.":B.code===2?"Location unavailable. Please check your GPS settings.":"Location request timed out. Please try again.";y(G)}finally{z(!1)}},j=B=>{ue(B),g(!1)},q=(B,G)=>{const K=$.find(Ne=>Ne.id===B);K&&ae({...K,completed:G})},M=B=>{R([B.location.lat,B.location.lng]),D(B),o("map"),u(!1)},V=B=>{confirm("Are you sure you want to delete this activity?")&&Pe(B)},ie=async()=>{const B=await Ye($,ae);B.success>0?alert(`Successfully updated ${B.success} activities. ${B.failed} failed to update.`):alert("Failed to update activity locations. Please try again.")},xe=B=>{if(!P)return"";const G=qm(P.lat,P.lng,B.location.lat,B.location.lng);return G<1?`${(G*5280).toFixed(0)} ft`:`${G.toFixed(1)} mi`};return n&&!t?k.jsx(K0,{expectedPassword:n,onAuthenticated:be}):k.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[k.jsx(Q0,{currentView:r,onViewChange:o,onFilterToggle:()=>d(!h),onAddActivity:()=>g(!0),onShare:()=>{},showFilters:h,totalActivities:$.length,children:k.jsxs("div",{className:"flex flex-col h-full",children:[k.jsxs("div",{className:"p-4 border-b border-gray-200",children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsx("span",{className:"text-sm font-medium text-secondary",children:"Location"}),k.jsx(iw,{onRefreshLocation:St,onRefreshAllActivities:ie,hasLocation:!!P,isLoading:b||ir})]}),S?k.jsx("div",{className:"text-sm text-error bg-error-50 p-2 rounded-lg",children:S}):P?k.jsxs("div",{className:"text-sm text-success-600 bg-success-50 p-2 rounded-lg",children:[" Location found (",Math.round(P.accuracy),"m)"]}):k.jsx("div",{className:"text-sm text-secondary bg-gray-100 p-2 rounded-lg",children:"Location not available"})]}),k.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:k.jsx(sf,{activities:$,onToggleComplete:q,onShowOnMap:M,onDelete:V,userLocation:P,loading:Mt})})]})}),k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsx("div",{className:"lg:hidden",children:k.jsx(G0,{onMenuToggle:()=>u(!0),onAddActivity:()=>g(!0),onShare:()=>{},isMenuOpen:a,totalActivities:$.length})}),k.jsx("div",{className:"flex-1 relative",children:r==="map"?k.jsxs(O0,{center:O,zoom:13,className:"h-full w-full z-0",children:[k.jsx(j0,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),P&&k.jsx(tf,{position:[P.lat,P.lng],icon:Sx,children:k.jsx(nf,{children:k.jsxs("div",{className:"text-center",children:[k.jsx("h3",{className:"font-semibold",children:" You are here"}),k.jsxs("p",{className:"text-sm text-secondary",children:["Accuracy: ",Math.round(P.accuracy),"m"]})]})})}),$.map(B=>k.jsx(tf,{position:[B.location.lat,B.location.lng],icon:kx,children:k.jsx(nf,{children:k.jsxs("div",{className:"max-w-xs",children:[k.jsx("h3",{className:"font-semibold mb-2",children:B.title}),k.jsx("p",{className:"text-sm text-secondary mb-2",children:B.description}),k.jsxs("div",{className:"space-y-1 text-sm",children:[k.jsxs("div",{children:[k.jsx("strong",{children:"Category:"})," ",B.category]}),k.jsxs("div",{children:[k.jsx("strong",{children:"Priority:"})," ",B.priority]}),k.jsxs("div",{children:[k.jsx("strong",{children:"Duration:"})," ",B.estimatedDuration," min"]}),k.jsxs("div",{children:[k.jsx("strong",{children:"Cost:"})," $",B.cost]}),P&&k.jsxs("div",{children:[k.jsx("strong",{children:"Distance:"})," ",xe(B)]})]})]})})},B.id))]}):k.jsx("div",{className:"h-full overflow-y-auto lg:hidden",children:k.jsx("div",{className:"p-4",children:k.jsx(sf,{activities:$,onToggleComplete:q,onShowOnMap:M,onDelete:V,userLocation:P,loading:Mt,isCompact:!0})})})})]}),k.jsx(J0,{isOpen:a,onClose:()=>u(!1),currentView:r,onViewChange:B=>{o(B),u(!1)},onFilterToggle:()=>d(!h),showFilters:h}),p&&k.jsx(Z.Suspense,{fallback:k.jsx("div",{children:"Loading..."}),children:k.jsx(wx,{onClose:()=>g(!1),onAdd:j,userLocation:P})}),_&&k.jsx(Z.Suspense,{fallback:k.jsx("div",{children:"Loading..."}),children:k.jsx(xx,{onClose:()=>v(!1),onImport:async B=>{await Y(B),v(!1)}})})]})}El.createRoot(document.getElementById("root")).render(k.jsx(Px,{}));export{z0 as C,D0 as D,An as M,W0 as S,V0 as X,Lx as a,Tx as b,Ce as c,Ex as f,k as j,Z as r};
