import{c as b,r as u,j as t,M as j,I as l,a as f,T as D,A as C,C as N,D as k,B as p,g as A}from"./index-bbe3cff6.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=b("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),I=["Theme Parks","Restaurants","Shopping","Entertainment","Outdoor","Museums","Hotels","Transportation","Other"],S=[{value:"high",label:"High Priority",color:"error"},{value:"medium",label:"Medium Priority",color:"warning"},{value:"low",label:"Low Priority",color:"success"}];function T({onClose:m,onAdd:y,userLocation:w,defaultDuration:g=60}){const[a,x]=u.useState({title:"",description:"",address:"",category:"Other",priority:"medium",estimatedDuration:g,cost:0}),[i,o]=u.useState({}),[c,d]=u.useState(!1),s=(e,r)=>{x(n=>({...n,[e]:r})),i[e]&&o(n=>({...n,[e]:""}))},h=()=>{const e={};return a.title.trim()||(e.title="Activity title is required"),a.address.trim()||(e.address="Location address is required"),a.estimatedDuration<1&&(e.estimatedDuration="Duration must be at least 1 minute"),a.cost<0&&(e.cost="Cost cannot be negative"),o(e),Object.keys(e).length===0},v=async e=>{if(e.preventDefault(),!!h()){d(!0);try{const r=await A(a.address);if(!r){o({address:"Could not find location. Please check the address."}),d(!1);return}const n={id:Date.now().toString(),title:a.title.trim(),description:a.description.trim(),address:a.address.trim(),location:r,category:a.category,priority:a.priority,estimatedDuration:a.estimatedDuration,cost:a.cost,completed:!1,done:!1,notes:"",isOpen:!1,createdAt:new Date};y(n)}catch(r){console.error("Error creating activity:",r),o({address:"Failed to create activity. Please try again."})}finally{d(!1)}}};return t.jsx(j,{isOpen:!0,onClose:m,size:"lg",title:"Add New Activity",children:t.jsxs("form",{onSubmit:v,className:"space-y-6",children:[t.jsx(l,{label:"Activity Title",value:a.title,onChange:e=>s("title",e.target.value),placeholder:"Enter activity name...",error:i.title,icon:E,required:!0}),t.jsx(l,{label:"Location Address",value:a.address,onChange:e=>s("address",e.target.value),placeholder:"Enter address or location...",error:i.address,icon:f,required:!0}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Description"}),t.jsx("textarea",{value:a.description,onChange:e=>s("description",e.target.value),placeholder:"Describe the activity...",rows:3,className:"input resize-none"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-secondary mb-2",children:[t.jsx(D,{size:16,className:"inline mr-1"}),"Category"]}),t.jsx("select",{value:a.category,onChange:e=>s("category",e.target.value),className:"input",children:I.map(e=>t.jsx("option",{value:e,children:e},e))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-secondary mb-2",children:[t.jsx(C,{size:16,className:"inline mr-1"}),"Priority"]}),t.jsx("select",{value:a.priority,onChange:e=>s("priority",e.target.value),className:"input",children:S.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(l,{label:"Duration (minutes)",type:"number",value:a.estimatedDuration,onChange:e=>s("estimatedDuration",parseInt(e.target.value)||0),min:"1",error:i.estimatedDuration,icon:N,required:!0}),t.jsx(l,{label:"Estimated Cost ($)",type:"number",value:a.cost,onChange:e=>s("cost",parseFloat(e.target.value)||0),min:"0",step:"0.01",error:i.cost,icon:k})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[t.jsx(p,{type:"button",variant:"secondary",onClick:m,className:"flex-1",disabled:c,children:"Cancel"}),t.jsx(p,{type:"submit",variant:"primary",loading:c,className:"flex-1",children:c?"Adding...":"Add Activity"})]})]})})}export{T as ModernAddItemModal,T as default};
