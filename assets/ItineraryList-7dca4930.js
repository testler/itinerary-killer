import{c as E,d as se,g as re,r as O,j as s,M as ee}from"./index-df56ed99.js";import{S as ne,X as ae,C as ie,D as ce}from"./x-0a16152c.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=E("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=E("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=E("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=E("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=E("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=E("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var te={exports:{}};(function(U,K){(function(P,k){U.exports=k()})(se,function(){var P=1e3,k=6e4,L=36e5,A="millisecond",S="second",j="minute",N="hour",x="day",Y="week",f="month",B="quarter",y="year",M="date",F="Invalid Date",Q=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(c){var e=["th","st","nd","rd"],t=c%100;return"["+c+(e[(t-20)%10]||e[t]||e[0])+"]"}},w=function(c,e,t){var n=String(c);return!n||n.length>=e?c:""+Array(e+1-n.length).join(t)+c},G={s:w,z:function(c){var e=-c.utcOffset(),t=Math.abs(e),n=Math.floor(t/60),r=t%60;return(e<=0?"+":"-")+w(n,2,"0")+":"+w(r,2,"0")},m:function c(e,t){if(e.date()<t.date())return-c(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,f),a=t-r<0,i=e.clone().add(n+(a?-1:1),f);return+(-(n+(t-r)/(a?r-i:i-r))||0)},a:function(c){return c<0?Math.ceil(c)||0:Math.floor(c)},p:function(c){return{M:f,y,w:Y,d:x,D:M,h:N,m:j,s:S,ms:A,Q:B}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(c){return c===void 0}},$="en",b={};b[$]=R;var J="$isDayjsObject",z=function(c){return c instanceof I||!(!c||!c[J])},C=function c(e,t,n){var r;if(!e)return $;if(typeof e=="string"){var a=e.toLowerCase();b[a]&&(r=a),t&&(b[a]=t,r=a);var i=e.split("-");if(!r&&i.length>1)return c(i[0])}else{var o=e.name;b[o]=e,r=o}return!n&&r&&($=r),r||!n&&$},d=function(c,e){if(z(c))return c.clone();var t=typeof e=="object"?e:{};return t.date=c,t.args=arguments,new I(t)},l=G;l.l=C,l.i=z,l.w=function(c,e){return d(c,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var I=function(){function c(t){this.$L=C(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[J]=!0}var e=c.prototype;return e.parse=function(t){this.$d=function(n){var r=n.date,a=n.utc;if(r===null)return new Date(NaN);if(l.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var i=r.match(Q);if(i){var o=i[2]-1||0,u=(i[7]||"0").substring(0,3);return a?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,u)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,u)}}return new Date(r)}(t),this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return l},e.isValid=function(){return this.$d.toString()!==F},e.isSame=function(t,n){var r=d(t);return this.startOf(n)<=r&&r<=this.endOf(n)},e.isAfter=function(t,n){return d(t)<this.startOf(n)},e.isBefore=function(t,n){return this.endOf(n)<d(t)},e.$g=function(t,n,r){return l.u(t)?this[n]:this.set(r,t)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,n){var r=this,a=!!l.u(n)||n,i=l.p(t),o=function(_,m){var D=l.w(r.$u?Date.UTC(r.$y,m,_):new Date(r.$y,m,_),r);return a?D:D.endOf(x)},u=function(_,m){return l.w(r.toDate()[_].apply(r.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(m)),r)},h=this.$W,p=this.$M,v=this.$D,H="set"+(this.$u?"UTC":"");switch(i){case y:return a?o(1,0):o(31,11);case f:return a?o(1,p):o(0,p+1);case Y:var T=this.$locale().weekStart||0,V=(h<T?h+7:h)-T;return o(a?v-V:v+(6-V),p);case x:case M:return u(H+"Hours",0);case N:return u(H+"Minutes",1);case j:return u(H+"Seconds",2);case S:return u(H+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,n){var r,a=l.p(t),i="set"+(this.$u?"UTC":""),o=(r={},r[x]=i+"Date",r[M]=i+"Date",r[f]=i+"Month",r[y]=i+"FullYear",r[N]=i+"Hours",r[j]=i+"Minutes",r[S]=i+"Seconds",r[A]=i+"Milliseconds",r)[a],u=a===x?this.$D+(n-this.$W):n;if(a===f||a===y){var h=this.clone().set(M,1);h.$d[o](u),h.init(),this.$d=h.set(M,Math.min(this.$D,h.daysInMonth())).$d}else o&&this.$d[o](u);return this.init(),this},e.set=function(t,n){return this.clone().$set(t,n)},e.get=function(t){return this[l.p(t)]()},e.add=function(t,n){var r,a=this;t=Number(t);var i=l.p(n),o=function(p){var v=d(a);return l.w(v.date(v.date()+Math.round(p*t)),a)};if(i===f)return this.set(f,this.$M+t);if(i===y)return this.set(y,this.$y+t);if(i===x)return o(1);if(i===Y)return o(7);var u=(r={},r[j]=k,r[N]=L,r[S]=P,r)[i]||1,h=this.$d.getTime()+t*u;return l.w(h,this)},e.subtract=function(t,n){return this.add(-1*t,n)},e.format=function(t){var n=this,r=this.$locale();if(!this.isValid())return r.invalidDate||F;var a=t||"YYYY-MM-DDTHH:mm:ssZ",i=l.z(this),o=this.$H,u=this.$m,h=this.$M,p=r.weekdays,v=r.months,H=r.meridiem,T=function(m,D,W,q){return m&&(m[D]||m(n,a))||W[D].slice(0,q)},V=function(m){return l.s(o%12||12,m,"0")},_=H||function(m,D,W){var q=m<12?"AM":"PM";return W?q.toLowerCase():q};return a.replace(g,function(m,D){return D||function(W){switch(W){case"YY":return String(n.$y).slice(-2);case"YYYY":return l.s(n.$y,4,"0");case"M":return h+1;case"MM":return l.s(h+1,2,"0");case"MMM":return T(r.monthsShort,h,v,3);case"MMMM":return T(v,h);case"D":return n.$D;case"DD":return l.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return T(r.weekdaysMin,n.$W,p,2);case"ddd":return T(r.weekdaysShort,n.$W,p,3);case"dddd":return p[n.$W];case"H":return String(o);case"HH":return l.s(o,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return _(o,u,!0);case"A":return _(o,u,!1);case"m":return String(u);case"mm":return l.s(u,2,"0");case"s":return String(n.$s);case"ss":return l.s(n.$s,2,"0");case"SSS":return l.s(n.$ms,3,"0");case"Z":return i}return null}(m)||i.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,n,r){var a,i=this,o=l.p(n),u=d(t),h=(u.utcOffset()-this.utcOffset())*k,p=this-u,v=function(){return l.m(i,u)};switch(o){case y:a=v()/12;break;case f:a=v();break;case B:a=v()/3;break;case Y:a=(p-h)/6048e5;break;case x:a=(p-h)/864e5;break;case N:a=p/L;break;case j:a=p/k;break;case S:a=p/P;break;default:a=p}return r?a:l.a(a)},e.daysInMonth=function(){return this.endOf(f).$D},e.$locale=function(){return b[this.$L]},e.locale=function(t,n){if(!t)return this.$L;var r=this.clone(),a=C(t,n,!0);return a&&(r.$L=a),r},e.clone=function(){return l.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},c}(),Z=I.prototype;return d.prototype=Z,[["$ms",A],["$s",S],["$m",j],["$H",N],["$W",x],["$M",f],["$y",y],["$D",M]].forEach(function(c){Z[c[1]]=function(e){return this.$g(e,c[0],c[1])}}),d.extend=function(c,e){return c.$i||(c(e,I,d),c.$i=!0),d},d.locale=C,d.isDayjs=z,d.unix=function(c){return d(1e3*c)},d.en=b[$],d.Ls=b,d.p={},d})})(te);var pe=te.exports;const X=re(pe),me=["All","Theme Parks","Restaurants","Shopping","Entertainment","Outdoor Activities","Museums","Sports","Nightlife","Other"],xe=["All","low","medium","high"],ve=[{value:"all",label:"All Places",icon:"🏪"},{value:"open",label:"Open Now",icon:"🟢"},{value:"closed",label:"Closed",icon:"🔴"}];function je({items:U,onItemSelect:K,onItemUpdate:P,onItemDelete:k,userLocation:L,getDistanceFromUser:A,loading:S}){const[j,N]=O.useState("All"),[x,Y]=O.useState("All"),[f,B]=O.useState("all"),[y,M]=O.useState("createdAt"),[F,Q]=O.useState(!1),[g,R]=O.useState(""),[w,G]=O.useState({}),[$,b]=O.useState(!1),J=e=>{e&&G(t=>({...t,[e]:!t[e]}))},z=e=>{if(e.openingHours){const t=X(),n=t.day(),r=e.openingHours[n];if(!r||!r.open||!r.close)return!1;try{const a=X(t.format("YYYY-MM-DD")+"T"+r.open),i=X(t.format("YYYY-MM-DD")+"T"+r.close);return!a.isValid()||!i.isValid()?!1:i.isBefore(a)?t.isAfter(a)||t.isBefore(i):t.isAfter(a)&&t.isBefore(i)}catch{return e.isOpen}}return e.isOpen},C=U.filter(e=>{if(!e)return!1;const t=j==="All"||e.category&&e.category===j,n=x==="All"||e.priority&&e.priority===x,r=F?!0:!e.completed,a=f==="all"||f==="open"&&z(e)||f==="closed"&&!z(e),i=g===""||e.title&&e.title.toLowerCase().indexOf(g.toLowerCase())!==-1||e.description&&e.description.toLowerCase().indexOf(g.toLowerCase())!==-1||e.category&&e.category.toLowerCase().indexOf(g.toLowerCase())!==-1||e.address&&e.address.toLowerCase().indexOf(g.toLowerCase())!==-1;return t&&n&&r&&a&&i}),d=[...C].sort((e,t)=>{switch(y){case"priority":const n={high:3,medium:2,low:1};return n[t.priority]-n[e.priority];case"distance":if(!L)return 0;const r=A(e),a=A(t);return!r||!a?0:parseFloat(r)-parseFloat(a);default:return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}}),l=e=>{switch(e){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}},I=e=>({"Theme Parks":"🎢",Restaurants:"🍽️",Shopping:"🛍️",Entertainment:"🎭","Outdoor Activities":"🏃‍♂️",Museums:"🏛️",Sports:"⚽",Nightlife:"🌙",Other:"📍"})[e]||"📍",Z=(e,t)=>{P(e,{completed:t})},c=e=>{confirm("Are you sure you want to delete this activity?")&&k(e)};return S?s.jsxs("div",{className:"mobile-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading activities..."})]}):U.length===0?s.jsxs("div",{className:"mobile-empty-state",children:[s.jsx("div",{className:"empty-icon",children:"🗺️"}),s.jsx("h3",{children:"No activities yet!"}),s.jsx("p",{children:"Start building your Orlando adventure by adding some activities."}),s.jsx("p",{className:"empty-hint",children:"Click the + button on the map to get started!"})]}):s.jsxs("div",{className:"mobile-itinerary-list",children:[s.jsxs("div",{className:"mobile-search-header",children:[s.jsxs("div",{className:"search-container",children:[s.jsx(ne,{size:18,className:"search-icon"}),s.jsx("input",{type:"text",placeholder:"Search activities...",value:g,onChange:e=>{const n=e.target.value.replace(/[<>]/g,"");R(n)},maxLength:100,className:"mobile-search-input"}),g&&s.jsx("button",{onClick:()=>R(""),className:"clear-search-btn","aria-label":"Clear search",children:s.jsx(ae,{size:16})})]}),s.jsxs("button",{onClick:()=>b(!$),className:`filter-toggle-btn ${$?"active":""}`,"aria-label":"Toggle filters",children:[s.jsx(he,{size:18}),s.jsx("span",{children:"Filters"})]})]}),$&&s.jsxs("div",{className:"mobile-filters-panel",children:[s.jsxs("div",{className:"filter-row",children:[s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Category"}),s.jsx("select",{value:j,onChange:e=>N(e.target.value),className:"mobile-filter-select",children:me.map(e=>s.jsx("option",{value:e,children:e},e))})]}),s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Priority"}),s.jsx("select",{value:x,onChange:e=>Y(e.target.value),className:"mobile-filter-select",children:xe.map(e=>s.jsx("option",{value:e,children:e==="All"?"All":e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),s.jsxs("div",{className:"filter-row",children:[s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Status"}),s.jsx("select",{value:f,onChange:e=>B(e.target.value),className:"mobile-filter-select",children:ve.map(e=>s.jsxs("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Sort by"}),s.jsxs("select",{value:y,onChange:e=>M(e.target.value),className:"mobile-filter-select",children:[s.jsx("option",{value:"createdAt",children:"Date Added"}),s.jsx("option",{value:"priority",children:"Priority"}),s.jsx("option",{value:"distance",children:"Distance"})]})]})]}),s.jsx("div",{className:"filter-options",children:s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",checked:F,onChange:e=>Q(e.target.checked),"aria-label":"Show completed activities"}),s.jsx("span",{children:"Show completed"})]})}),g&&s.jsxs("div",{className:"search-results-info",children:["Found ",C.length," result",C.length!==1?"s":"",' for "',g,'"']})]}),s.jsx("div",{className:"mobile-items-container",children:d.length===0?s.jsxs("div",{className:"mobile-no-results",children:[s.jsx("div",{className:"no-results-icon",children:"🔎"}),s.jsx("p",{children:"No activities match your filters."}),s.jsx("p",{className:"no-results-hint",children:"Try clearing search or adjusting filters."})]}):d.map(e=>!e||!e.id?null:s.jsxs("div",{className:`mobile-item-card ${e.completed?"completed":""}`,style:{borderLeftColor:l(e.priority)},children:[s.jsxs("div",{className:"item-header",children:[s.jsxs("div",{className:"item-title-section",children:[s.jsx("div",{className:"item-category-icon",children:I(e.category)}),s.jsxs("div",{className:"item-title-content",children:[s.jsx("h3",{className:`item-title ${e.completed?"completed":""}`,children:e.title}),s.jsxs("div",{className:"item-meta",children:[s.jsx("span",{className:"item-priority",style:{color:l(e.priority)},children:e.priority.toUpperCase()}),s.jsx("span",{className:"item-category",children:e.category})]})]})]}),s.jsxs("div",{className:"item-actions",children:[s.jsx("button",{onClick:()=>Z(e.id,!e.completed),className:`action-btn complete-btn ${e.completed?"completed":""}`,"aria-label":e.completed?"Mark as incomplete":"Mark as complete",children:e.completed?s.jsx(le,{size:20}):s.jsx(ue,{size:20})}),s.jsx("button",{onClick:()=>K(e),className:"action-btn map-btn","aria-label":"Show activity on map",children:s.jsx(ee,{size:18})}),s.jsx("button",{onClick:()=>c(e.id),className:"action-btn delete-btn","aria-label":"Delete activity",children:s.jsx(fe,{size:18})})]})]}),s.jsxs("div",{className:"item-description",children:[s.jsx("p",{className:`description-text ${w[e.id]?"":"truncated"}`,children:e.description}),e.description&&e.description.length>100&&s.jsxs("button",{onClick:()=>J(e.id),className:"expand-btn","aria-label":w[e.id]?"Show less":"Show more",children:[w[e.id]?"Show less":"Show more",w[e.id]?s.jsx(de,{size:14}):s.jsx(oe,{size:14})]})]}),s.jsxs("div",{className:"item-details",children:[s.jsxs("div",{className:"detail-row",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx(ie,{size:16}),s.jsxs("span",{children:[e.estimatedDuration," min"]})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx(ce,{size:16}),s.jsxs("span",{children:["$",e.cost]})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:`status-indicator ${e.isOpen?"open":"closed"}`,children:e.isOpen?"🟢":"🔴"}),s.jsx("span",{children:e.isOpen?"Open":"Closed"})]})]}),L&&s.jsxs("div",{className:"distance-info",children:[s.jsx(ee,{size:14}),s.jsx("span",{children:A(e)})]})]}),e.notes&&s.jsxs("div",{className:"item-notes",children:[s.jsx("strong",{children:"Notes:"})," ",e.notes]})]},e.id))}),d.length>0&&s.jsx("div",{className:"mobile-summary",children:s.jsxs("div",{className:"summary-content",children:[s.jsxs("span",{className:"summary-count",children:[d.length," activity",d.length!==1?"ies":""]}),L&&s.jsxs("span",{className:"summary-cost",children:["Total: $",d.reduce((e,t)=>{const n=typeof t.cost=="number"&&!isNaN(t.cost)?t.cost:0;return e+n},0).toFixed(2)]})]})})]})}export{je as default};
