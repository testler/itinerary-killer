import{c as g,r as y,j as t,B as v,X as f,I as x,M as j,A as w,C as N,D as k,g as D}from"./index-f2a5f656.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=g("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=g("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);function A({isOpen:i,onClose:n,title:u,children:a,size:h="md",showCloseButton:s=!0}){if(y.useEffect(()=>{const o=c=>{c.key==="Escape"&&n()};return i&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[i,n]),!i)return null;const l={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};return t.jsxs("div",{className:"fixed inset-0 z-modal-backdrop",children:[t.jsx("div",{className:"absolute inset-0 bg-overlay",onClick:n}),t.jsx("div",{className:"relative z-modal flex items-center justify-center min-h-screen p-4",children:t.jsxs("div",{className:`
          w-full ${l[h]} 
          bg-white rounded-2xl shadow-xl
          transform transition-all duration-300
          animate-in slide-in-from-bottom-4 fade-in
        `,children:[(u||s)&&t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u&&t.jsx("h2",{className:"text-xl font-semibold text-primary",children:u}),s&&t.jsx(v,{variant:"ghost",size:"sm",onClick:n,className:"rounded-full p-2 hover:bg-gray-100",children:t.jsx(f,{size:20})})]}),t.jsx("div",{className:"p-6",children:a})]})})]})}const S=["Theme Parks","Restaurants","Shopping","Entertainment","Outdoor","Museums","Hotels","Transportation","Other"],I=[{value:"high",label:"High Priority",color:"error"},{value:"medium",label:"Medium Priority",color:"warning"},{value:"low",label:"Low Priority",color:"success"}];function M({onClose:i,onAdd:n,userLocation:u}){const[a,h]=y.useState({title:"",description:"",address:"",category:"Other",priority:"medium",estimatedDuration:60,cost:0}),[s,l]=y.useState({}),[o,c]=y.useState(!1),r=(e,d)=>{h(m=>({...m,[e]:d})),s[e]&&l(m=>({...m,[e]:""}))},p=()=>{const e={};return a.title.trim()||(e.title="Activity title is required"),a.address.trim()||(e.address="Location address is required"),a.estimatedDuration<1&&(e.estimatedDuration="Duration must be at least 1 minute"),a.cost<0&&(e.cost="Cost cannot be negative"),l(e),Object.keys(e).length===0},b=async e=>{if(e.preventDefault(),!!p()){c(!0);try{const d=await D(a.address);if(!d){l({address:"Could not find location. Please check the address."}),c(!1);return}const m={id:Date.now().toString(),title:a.title.trim(),description:a.description.trim(),address:a.address.trim(),location:d,category:a.category,priority:a.priority,estimatedDuration:a.estimatedDuration,cost:a.cost,completed:!1,createdAt:new Date().toISOString()};n(m)}catch(d){console.error("Error creating activity:",d),l({address:"Failed to create activity. Please try again."})}finally{c(!1)}}};return t.jsx(A,{isOpen:!0,onClose:i,size:"lg",title:"Add New Activity",children:t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsx(x,{label:"Activity Title",value:a.title,onChange:e=>r("title",e.target.value),placeholder:"Enter activity name...",error:s.title,icon:C,required:!0}),t.jsx(x,{label:"Location Address",value:a.address,onChange:e=>r("address",e.target.value),placeholder:"Enter address or location...",error:s.address,icon:j,required:!0}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Description"}),t.jsx("textarea",{value:a.description,onChange:e=>r("description",e.target.value),placeholder:"Describe the activity...",rows:3,className:"input resize-none"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-secondary mb-2",children:[t.jsx(E,{size:16,className:"inline mr-1"}),"Category"]}),t.jsx("select",{value:a.category,onChange:e=>r("category",e.target.value),className:"input",children:S.map(e=>t.jsx("option",{value:e,children:e},e))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-secondary mb-2",children:[t.jsx(w,{size:16,className:"inline mr-1"}),"Priority"]}),t.jsx("select",{value:a.priority,onChange:e=>r("priority",e.target.value),className:"input",children:I.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(x,{label:"Duration (minutes)",type:"number",value:a.estimatedDuration,onChange:e=>r("estimatedDuration",parseInt(e.target.value)||0),min:"1",error:s.estimatedDuration,icon:N,required:!0}),t.jsx(x,{label:"Estimated Cost ($)",type:"number",value:a.cost,onChange:e=>r("cost",parseFloat(e.target.value)||0),min:"0",step:"0.01",error:s.cost,icon:k})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[t.jsx(v,{type:"button",variant:"secondary",onClick:i,className:"flex-1",disabled:o,children:"Cancel"}),t.jsx(v,{type:"submit",variant:"primary",loading:o,className:"flex-1",children:o?"Adding...":"Add Activity"})]})]})})}export{M as ModernAddItemModal,M as default};
