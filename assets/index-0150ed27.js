var B_=Object.defineProperty;var $_=(t,e,n)=>e in t?B_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var zr=(t,e,n)=>($_(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function F_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Af={exports:{}},pa={},Mf={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=Symbol.for("react.element"),W_=Symbol.for("react.portal"),Z_=Symbol.for("react.fragment"),H_=Symbol.for("react.strict_mode"),V_=Symbol.for("react.profiler"),q_=Symbol.for("react.provider"),G_=Symbol.for("react.context"),K_=Symbol.for("react.forward_ref"),Q_=Symbol.for("react.suspense"),J_=Symbol.for("react.memo"),Y_=Symbol.for("react.lazy"),ed=Symbol.iterator;function X_(t){return t===null||typeof t!="object"?null:(t=ed&&t[ed]||t["@@iterator"],typeof t=="function"?t:null)}var Rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jf=Object.assign,Nf={};function fr(t,e,n){this.props=t,this.context=e,this.refs=Nf,this.updater=n||Rf}fr.prototype.isReactComponent={};fr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zf(){}zf.prototype=fr.prototype;function Yu(t,e,n){this.props=t,this.context=e,this.refs=Nf,this.updater=n||Rf}var Xu=Yu.prototype=new zf;Xu.constructor=Yu;jf(Xu,fr.prototype);Xu.isPureReactComponent=!0;var td=Array.isArray,Df=Object.prototype.hasOwnProperty,ec={current:null},Bf={key:!0,ref:!0,__self:!0,__source:!0};function $f(t,e,n){var r,o={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)Df.call(e,r)&&!Bf.hasOwnProperty(r)&&(o[r]=e[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:Is,type:t,key:a,ref:u,props:o,_owner:ec.current}}function ev(t,e){return{$$typeof:Is,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Is}function tv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nd=/\/+/g;function cl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tv(""+t.key):e.toString(36)}function Io(t,e,n,r,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Is:case W_:u=!0}}if(u)return u=t,o=o(u),t=r===""?"."+cl(u,0):r,td(o)?(n="",t!=null&&(n=t.replace(nd,"$&/")+"/"),Io(o,e,n,"",function(p){return p})):o!=null&&(tc(o)&&(o=ev(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(nd,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=r===""?".":r+":",td(t))for(var h=0;h<t.length;h++){a=t[h];var d=r+cl(a,h);u+=Io(a,e,n,d,o)}else if(d=X_(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=r+cl(a,h++),u+=Io(a,e,n,d,o);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function so(t,e,n){if(t==null)return t;var r=[],o=0;return Io(t,r,"","",function(a){return e.call(n,a,o++)}),r}function nv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Oo={transition:null},iv={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:ec};function Uf(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:so,forEach:function(t,e,n){so(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return so(t,function(){e++}),e},toArray:function(t){return so(t,function(e){return e})||[]},only:function(t){if(!tc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=fr;le.Fragment=Z_;le.Profiler=V_;le.PureComponent=Yu;le.StrictMode=H_;le.Suspense=Q_;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iv;le.act=Uf;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jf({},t.props),o=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=ec.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)Df.call(e,d)&&!Bf.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:Is,type:t.type,key:o,ref:a,props:r,_owner:u}};le.createContext=function(t){return t={$$typeof:G_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:q_,_context:t},t.Consumer=t};le.createElement=$f;le.createFactory=function(t){var e=$f.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:K_,render:t}};le.isValidElement=tc;le.lazy=function(t){return{$$typeof:Y_,_payload:{_status:-1,_result:t},_init:nv}};le.memo=function(t,e){return{$$typeof:J_,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Oo.transition;Oo.transition={};try{t()}finally{Oo.transition=e}};le.unstable_act=Uf;le.useCallback=function(t,e){return st.current.useCallback(t,e)};le.useContext=function(t){return st.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return st.current.useDeferredValue(t)};le.useEffect=function(t,e){return st.current.useEffect(t,e)};le.useId=function(){return st.current.useId()};le.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return st.current.useMemo(t,e)};le.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};le.useRef=function(t){return st.current.useRef(t)};le.useState=function(t){return st.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return st.current.useTransition()};le.version="18.3.1";Mf.exports=le;var O=Mf.exports;const Hl=U_(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv=O,sv=Symbol.for("react.element"),ov=Symbol.for("react.fragment"),av=Object.prototype.hasOwnProperty,lv=rv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uv={key:!0,ref:!0,__self:!0,__source:!0};function Ff(t,e,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)av.call(e,r)&&!uv.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:sv,type:t,key:a,ref:u,props:o,_owner:lv.current}}pa.Fragment=ov;pa.jsx=Ff;pa.jsxs=Ff;Af.exports=pa;var C=Af.exports,Vl={},Wf={exports:{}},yt={},Zf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,H){var B=j.length;j.push(H);e:for(;0<B;){var Q=B-1>>>1,ie=j[Q];if(0<o(ie,H))j[Q]=H,j[B]=ie,B=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],B=j.pop();if(B!==H){j[0]=B;e:for(var Q=0,ie=j.length,de=ie>>>1;Q<de;){var ce=2*(Q+1)-1,oe=j[ce],X=ce+1,Ke=j[X];if(0>o(oe,B))X<ie&&0>o(Ke,oe)?(j[Q]=Ke,j[X]=B,Q=X):(j[Q]=oe,j[ce]=B,Q=ce);else if(X<ie&&0>o(Ke,B))j[Q]=Ke,j[X]=B,Q=X;else break e}}return H}function o(j,H){var B=j.sortIndex-H.sortIndex;return B!==0?B:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,_=null,v=3,E=!1,T=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var H=n(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=j)r(p),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(p)}}function k(j){if(b=!1,w(j),!T)if(n(d)!==null)T=!0,Z(P);else{var H=n(p);H!==null&&Y(k,H.startTime-j)}}function P(j,H){T=!1,b&&(b=!1,S(z),z=-1),E=!0;var B=v;try{for(w(H),_=n(d);_!==null&&(!(_.expirationTime>H)||j&&!re());){var Q=_.callback;if(typeof Q=="function"){_.callback=null,v=_.priorityLevel;var ie=Q(_.expirationTime<=H);H=t.unstable_now(),typeof ie=="function"?_.callback=ie:_===n(d)&&r(d),w(H)}else r(d);_=n(d)}if(_!==null)var de=!0;else{var ce=n(p);ce!==null&&Y(k,ce.startTime-H),de=!1}return de}finally{_=null,v=B,E=!1}}var I=!1,M=null,z=-1,G=5,V=-1;function re(){return!(t.unstable_now()-V<G)}function ge(){if(M!==null){var j=t.unstable_now();V=j;var H=!0;try{H=M(!0,j)}finally{H?ye():(I=!1,M=null)}}else I=!1}var ye;if(typeof y=="function")ye=function(){y(ge)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,F=pe.port2;pe.port1.onmessage=ge,ye=function(){F.postMessage(null)}}else ye=function(){N(ge,0)};function Z(j){M=j,I||(I=!0,ye())}function Y(j,H){z=N(function(){j(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,Z(P))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var B=v;v=H;try{return j()}finally{v=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=v;v=j;try{return H()}finally{v=B}},t.unstable_scheduleCallback=function(j,H,B){var Q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,j){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=B+ie,j={id:g++,callback:H,priorityLevel:j,startTime:B,expirationTime:ie,sortIndex:-1},B>Q?(j.sortIndex=B,e(p,j),n(d)===null&&j===n(p)&&(b?(S(z),z=-1):b=!0,Y(k,B-Q))):(j.sortIndex=ie,e(d,j),T||E||(T=!0,Z(P))),j},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(j){var H=v;return function(){var B=v;v=H;try{return j.apply(this,arguments)}finally{v=B}}}})(Hf);Zf.exports=Hf;var cv=Zf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=O,vt=cv;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vf=new Set,ds={};function vi(t,e){rr(t,e),rr(t+"Capture",e)}function rr(t,e){for(ds[t]=e,t=0;t<e.length;t++)Vf.add(e[t])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ql=Object.prototype.hasOwnProperty,dv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,id={},rd={};function fv(t){return ql.call(rd,t)?!0:ql.call(id,t)?!1:dv.test(t)?rd[t]=!0:(id[t]=!0,!1)}function pv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mv(t,e,n,r){if(e===null||typeof e>"u"||pv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,o,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var nc=/[\-:]([a-z])/g;function ic(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nc,ic);Ge[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nc,ic);Ge[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nc,ic);Ge[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function rc(t,e,n,r){var o=Ge.hasOwnProperty(e)?Ge[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mv(e,n,o,r)&&(n=null),r||o===null?fv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _n=hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),sc=Symbol.for("react.strict_mode"),Gl=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Gf=Symbol.for("react.context"),oc=Symbol.for("react.forward_ref"),Kl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),ac=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),Kf=Symbol.for("react.offscreen"),sd=Symbol.iterator;function Dr(t){return t===null||typeof t!="object"?null:(t=sd&&t[sd]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,hl;function Kr(t){if(hl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hl=e&&e[1]||""}return`
`+hl+t}var dl=!1;function fl(t,e){if(!t||dl)return"";dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{dl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kr(t):""}function gv(t){switch(t.tag){case 5:return Kr(t.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 2:case 15:return t=fl(t.type,!1),t;case 11:return t=fl(t.type.render,!1),t;case 1:return t=fl(t.type,!0),t;default:return""}}function Jl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case $i:return"Portal";case Gl:return"Profiler";case sc:return"StrictMode";case Kl:return"Suspense";case Ql:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gf:return(t.displayName||"Context")+".Consumer";case qf:return(t._context.displayName||"Context")+".Provider";case oc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ac:return e=t.displayName||null,e!==null?e:Jl(t.type)||"Memo";case Pn:e=t._payload,t=t._init;try{return Jl(t(e))}catch{}}return null}function _v(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jl(e);case 8:return e===sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vv(t){var e=Qf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ao(t){t._valueTracker||(t._valueTracker=vv(t))}function Jf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Qf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yl(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function od(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yf(t,e){e=e.checked,e!=null&&rc(t,"checked",e,!1)}function Xl(t,e){Yf(t,e);var n=Bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eu(t,e.type,n):e.hasOwnProperty("defaultValue")&&eu(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ad(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eu(t,e,n){(e!=="number"||Fo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qr=Array.isArray;function Yi(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function tu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ld(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Qr(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function Xf(t,e){var n=Bn(e.value),r=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ud(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ep(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ep(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lo,tp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yv=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(t){yv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),es[e]=es[t]})});function np(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||es.hasOwnProperty(t)&&es[t]?(""+e).trim():e+"px"}function ip(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=np(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var wv=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iu(t,e){if(e){if(wv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function ru(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=null;function lc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ou=null,Xi=null,er=null;function cd(t){if(t=Ms(t)){if(typeof ou!="function")throw Error($(280));var e=t.stateNode;e&&(e=ya(e),ou(t.stateNode,t.type,e))}}function rp(t){Xi?er?er.push(t):er=[t]:Xi=t}function sp(){if(Xi){var t=Xi,e=er;if(er=Xi=null,cd(t),e)for(t=0;t<e.length;t++)cd(e[t])}}function op(t,e){return t(e)}function ap(){}var pl=!1;function lp(t,e,n){if(pl)return t(e,n);pl=!0;try{return op(t,e,n)}finally{pl=!1,(Xi!==null||er!==null)&&(ap(),sp())}}function ps(t,e){var n=t.stateNode;if(n===null)return null;var r=ya(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var au=!1;if(fn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){au=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{au=!1}function kv(t,e,n,r,o,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(g){this.onError(g)}}var ts=!1,Wo=null,Zo=!1,lu=null,Sv={onError:function(t){ts=!0,Wo=t}};function xv(t,e,n,r,o,a,u,h,d){ts=!1,Wo=null,kv.apply(Sv,arguments)}function Pv(t,e,n,r,o,a,u,h,d){if(xv.apply(this,arguments),ts){if(ts){var p=Wo;ts=!1,Wo=null}else throw Error($(198));Zo||(Zo=!0,lu=p)}}function yi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function up(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hd(t){if(yi(t)!==t)throw Error($(188))}function Tv(t){var e=t.alternate;if(!e){if(e=yi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return hd(o),t;if(a===r)return hd(o),e;a=a.sibling}throw Error($(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,r=a;break}if(h===r){u=!0,r=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=o;break}if(h===r){u=!0,r=a,n=o;break}h=h.sibling}if(!u)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function cp(t){return t=Tv(t),t!==null?hp(t):null}function hp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hp(t);if(e!==null)return e;t=t.sibling}return null}var dp=vt.unstable_scheduleCallback,dd=vt.unstable_cancelCallback,Ev=vt.unstable_shouldYield,Cv=vt.unstable_requestPaint,Re=vt.unstable_now,Lv=vt.unstable_getCurrentPriorityLevel,uc=vt.unstable_ImmediatePriority,fp=vt.unstable_UserBlockingPriority,Ho=vt.unstable_NormalPriority,bv=vt.unstable_LowPriority,pp=vt.unstable_IdlePriority,ma=null,Xt=null;function Iv(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ma,t,void 0,(t.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Mv,Ov=Math.log,Av=Math.LN2;function Mv(t){return t>>>=0,t===0?32:31-(Ov(t)/Av|0)|0}var uo=64,co=4194304;function Jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?r=Jr(h):(a&=u,a!==0&&(r=Jr(a)))}else u=n&~o,u!==0?r=Jr(u):a!==0&&(r=Jr(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$t(e),o=1<<n,r|=t[n],e&=~o;return r}function Rv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-$t(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&r)&&(o[u]=Rv(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function uu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mp(){var t=uo;return uo<<=1,!(uo&4194240)&&(uo=64),t}function ml(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$t(e),t[e]=n}function Nv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-$t(n),a=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~a}}function cc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$t(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ve=0;function gp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _p,hc,vp,yp,wp,cu=!1,ho=[],On=null,An=null,Mn=null,ms=new Map,gs=new Map,En=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fd(t,e){switch(t){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function $r(t,e,n,r,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},e!==null&&(e=Ms(e),e!==null&&hc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Dv(t,e,n,r,o){switch(e){case"focusin":return On=$r(On,t,e,n,r,o),!0;case"dragenter":return An=$r(An,t,e,n,r,o),!0;case"mouseover":return Mn=$r(Mn,t,e,n,r,o),!0;case"pointerover":var a=o.pointerId;return ms.set(a,$r(ms.get(a)||null,t,e,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,gs.set(a,$r(gs.get(a)||null,t,e,n,r,o)),!0}return!1}function kp(t){var e=li(t.target);if(e!==null){var n=yi(e);if(n!==null){if(e=n.tag,e===13){if(e=up(n),e!==null){t.blockedOn=e,wp(t.priority,function(){vp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);su=r,n.target.dispatchEvent(r),su=null}else return e=Ms(n),e!==null&&hc(e),t.blockedOn=n,!1;e.shift()}return!0}function pd(t,e,n){Ao(t)&&n.delete(e)}function Bv(){cu=!1,On!==null&&Ao(On)&&(On=null),An!==null&&Ao(An)&&(An=null),Mn!==null&&Ao(Mn)&&(Mn=null),ms.forEach(pd),gs.forEach(pd)}function Ur(t,e){t.blockedOn===e&&(t.blockedOn=null,cu||(cu=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,Bv)))}function _s(t){function e(o){return Ur(o,t)}if(0<ho.length){Ur(ho[0],t);for(var n=1;n<ho.length;n++){var r=ho[n];r.blockedOn===t&&(r.blockedOn=null)}}for(On!==null&&Ur(On,t),An!==null&&Ur(An,t),Mn!==null&&Ur(Mn,t),ms.forEach(e),gs.forEach(e),n=0;n<En.length;n++)r=En[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&En.shift()}var tr=_n.ReactCurrentBatchConfig,qo=!0;function $v(t,e,n,r){var o=ve,a=tr.transition;tr.transition=null;try{ve=1,dc(t,e,n,r)}finally{ve=o,tr.transition=a}}function Uv(t,e,n,r){var o=ve,a=tr.transition;tr.transition=null;try{ve=4,dc(t,e,n,r)}finally{ve=o,tr.transition=a}}function dc(t,e,n,r){if(qo){var o=hu(t,e,n,r);if(o===null)Tl(t,e,r,Go,n),fd(t,r);else if(Dv(o,t,e,n,r))r.stopPropagation();else if(fd(t,r),e&4&&-1<zv.indexOf(t)){for(;o!==null;){var a=Ms(o);if(a!==null&&_p(a),a=hu(t,e,n,r),a===null&&Tl(t,e,r,Go,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Tl(t,e,r,null,n)}}var Go=null;function hu(t,e,n,r){if(Go=null,t=lc(r),t=li(t),t!==null)if(e=yi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=up(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Go=t,null}function Sp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lv()){case uc:return 1;case fp:return 4;case Ho:case bv:return 16;case pp:return 536870912;default:return 16}default:return 16}}var bn=null,fc=null,Mo=null;function xp(){if(Mo)return Mo;var t,e=fc,n=e.length,r,o="value"in bn?bn.value:bn.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===o[a-r];r++);return Mo=o.slice(t,1<r?1-r:void 0)}function Ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fo(){return!0}function md(){return!1}function wt(t){function e(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fo:md,this.isPropagationStopped=md,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),e}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=wt(pr),As=Oe({},pr,{view:0,detail:0}),Fv=wt(As),gl,_l,Fr,ga=Oe({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fr&&(Fr&&t.type==="mousemove"?(gl=t.screenX-Fr.screenX,_l=t.screenY-Fr.screenY):_l=gl=0,Fr=t),gl)},movementY:function(t){return"movementY"in t?t.movementY:_l}}),gd=wt(ga),Wv=Oe({},ga,{dataTransfer:0}),Zv=wt(Wv),Hv=Oe({},As,{relatedTarget:0}),vl=wt(Hv),Vv=Oe({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),qv=wt(Vv),Gv=Oe({},pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kv=wt(Gv),Qv=Oe({},pr,{data:0}),_d=wt(Qv),Jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ey(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xv[t])?!!e[t]:!1}function mc(){return ey}var ty=Oe({},As,{key:function(t){if(t.key){var e=Jv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(t){return t.type==="keypress"?Ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ny=wt(ty),iy=Oe({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vd=wt(iy),ry=Oe({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),sy=wt(ry),oy=Oe({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ay=wt(oy),ly=Oe({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uy=wt(ly),cy=[9,13,27,32],gc=fn&&"CompositionEvent"in window,ns=null;fn&&"documentMode"in document&&(ns=document.documentMode);var hy=fn&&"TextEvent"in window&&!ns,Pp=fn&&(!gc||ns&&8<ns&&11>=ns),yd=String.fromCharCode(32),wd=!1;function Tp(t,e){switch(t){case"keyup":return cy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ep(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function dy(t,e){switch(t){case"compositionend":return Ep(e);case"keypress":return e.which!==32?null:(wd=!0,yd);case"textInput":return t=e.data,t===yd&&wd?null:t;default:return null}}function fy(t,e){if(Fi)return t==="compositionend"||!gc&&Tp(t,e)?(t=xp(),Mo=fc=bn=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pp&&e.locale!=="ko"?null:e.data;default:return null}}var py={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!py[t.type]:e==="textarea"}function Cp(t,e,n,r){rp(r),e=Ko(e,"onChange"),0<e.length&&(n=new pc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var is=null,vs=null;function my(t){Dp(t,0)}function _a(t){var e=Hi(t);if(Jf(e))return t}function gy(t,e){if(t==="change")return e}var Lp=!1;if(fn){var yl;if(fn){var wl="oninput"in document;if(!wl){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),wl=typeof Sd.oninput=="function"}yl=wl}else yl=!1;Lp=yl&&(!document.documentMode||9<document.documentMode)}function xd(){is&&(is.detachEvent("onpropertychange",bp),vs=is=null)}function bp(t){if(t.propertyName==="value"&&_a(vs)){var e=[];Cp(e,vs,t,lc(t)),lp(my,e)}}function _y(t,e,n){t==="focusin"?(xd(),is=e,vs=n,is.attachEvent("onpropertychange",bp)):t==="focusout"&&xd()}function vy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _a(vs)}function yy(t,e){if(t==="click")return _a(e)}function wy(t,e){if(t==="input"||t==="change")return _a(e)}function ky(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:ky;function ys(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ql.call(e,o)||!Ft(t[o],e[o]))return!1}return!0}function Pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Td(t,e){var n=Pd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pd(n)}}function Ip(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ip(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Op(){for(var t=window,e=Fo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fo(t.document)}return e}function _c(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sy(t){var e=Op(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ip(n.ownerDocument.documentElement,n)){if(r!==null&&_c(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!t.extend&&a>r&&(o=r,r=a,a=o),o=Td(n,a);var u=Td(n,r);o&&u&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xy=fn&&"documentMode"in document&&11>=document.documentMode,Wi=null,du=null,rs=null,fu=!1;function Ed(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fu||Wi==null||Wi!==Fo(r)||(r=Wi,"selectionStart"in r&&_c(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rs&&ys(rs,r)||(rs=r,r=Ko(du,"onSelect"),0<r.length&&(e=new pc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wi)))}function po(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zi={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionend:po("Transition","TransitionEnd")},kl={},Ap={};fn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function va(t){if(kl[t])return kl[t];if(!Zi[t])return t;var e=Zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ap)return kl[t]=e[n];return t}var Mp=va("animationend"),Rp=va("animationiteration"),jp=va("animationstart"),Np=va("transitionend"),zp=new Map,Cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(t,e){zp.set(t,e),vi(e,[t])}for(var Sl=0;Sl<Cd.length;Sl++){var xl=Cd[Sl],Py=xl.toLowerCase(),Ty=xl[0].toUpperCase()+xl.slice(1);Un(Py,"on"+Ty)}Un(Mp,"onAnimationEnd");Un(Rp,"onAnimationIteration");Un(jp,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Np,"onTransitionEnd");rr("onMouseEnter",["mouseout","mouseover"]);rr("onMouseLeave",["mouseout","mouseover"]);rr("onPointerEnter",["pointerout","pointerover"]);rr("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ey=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yr));function Ld(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pv(r,e,void 0,t),t.currentTarget=null}function Dp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;Ld(o,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;Ld(o,h,p),a=d}}}if(Zo)throw t=lu,Zo=!1,lu=null,t}function xe(t,e){var n=e[vu];n===void 0&&(n=e[vu]=new Set);var r=t+"__bubble";n.has(r)||(Bp(e,t,2,!1),n.add(r))}function Pl(t,e,n){var r=0;e&&(r|=4),Bp(n,t,r,e)}var mo="_reactListening"+Math.random().toString(36).slice(2);function ws(t){if(!t[mo]){t[mo]=!0,Vf.forEach(function(n){n!=="selectionchange"&&(Ey.has(n)||Pl(n,!1,t),Pl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mo]||(e[mo]=!0,Pl("selectionchange",!1,e))}}function Bp(t,e,n,r){switch(Sp(e)){case 1:var o=$v;break;case 4:o=Uv;break;default:o=dc}n=o.bind(null,e,n,t),o=void 0,!au||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Tl(t,e,n,r,o){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=li(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}lp(function(){var p=a,g=lc(n),_=[];e:{var v=zp.get(t);if(v!==void 0){var E=pc,T=t;switch(t){case"keypress":if(Ro(n)===0)break e;case"keydown":case"keyup":E=ny;break;case"focusin":T="focus",E=vl;break;case"focusout":T="blur",E=vl;break;case"beforeblur":case"afterblur":E=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=sy;break;case Mp:case Rp:case jp:E=qv;break;case Np:E=ay;break;case"scroll":E=Fv;break;case"wheel":E=uy;break;case"copy":case"cut":case"paste":E=Kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=vd}var b=(e&4)!==0,N=!b&&t==="scroll",S=b?v!==null?v+"Capture":null:v;b=[];for(var y=p,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,S!==null&&(k=ps(y,S),k!=null&&b.push(ks(y,k,w)))),N)break;y=y.return}0<b.length&&(v=new E(v,T,null,n,g),_.push({event:v,listeners:b}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==su&&(T=n.relatedTarget||n.fromElement)&&(li(T)||T[pn]))break e;if((E||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=p,T=T?li(T):null,T!==null&&(N=yi(T),T!==N||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=p),E!==T)){if(b=gd,k="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=vd,k="onPointerLeave",S="onPointerEnter",y="pointer"),N=E==null?v:Hi(E),w=T==null?v:Hi(T),v=new b(k,y+"leave",E,n,g),v.target=N,v.relatedTarget=w,k=null,li(g)===p&&(b=new b(S,y+"enter",T,n,g),b.target=w,b.relatedTarget=N,k=b),N=k,E&&T)t:{for(b=E,S=T,y=0,w=b;w;w=Ai(w))y++;for(w=0,k=S;k;k=Ai(k))w++;for(;0<y-w;)b=Ai(b),y--;for(;0<w-y;)S=Ai(S),w--;for(;y--;){if(b===S||S!==null&&b===S.alternate)break t;b=Ai(b),S=Ai(S)}b=null}else b=null;E!==null&&bd(_,v,E,b,!1),T!==null&&N!==null&&bd(_,N,T,b,!0)}}e:{if(v=p?Hi(p):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var P=gy;else if(kd(v))if(Lp)P=wy;else{P=vy;var I=_y}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(P=yy);if(P&&(P=P(t,p))){Cp(_,P,n,g);break e}I&&I(t,v,p),t==="focusout"&&(I=v._wrapperState)&&I.controlled&&v.type==="number"&&eu(v,"number",v.value)}switch(I=p?Hi(p):window,t){case"focusin":(kd(I)||I.contentEditable==="true")&&(Wi=I,du=p,rs=null);break;case"focusout":rs=du=Wi=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Ed(_,n,g);break;case"selectionchange":if(xy)break;case"keydown":case"keyup":Ed(_,n,g)}var M;if(gc)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Fi?Tp(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Pp&&n.locale!=="ko"&&(Fi||z!=="onCompositionStart"?z==="onCompositionEnd"&&Fi&&(M=xp()):(bn=g,fc="value"in bn?bn.value:bn.textContent,Fi=!0)),I=Ko(p,z),0<I.length&&(z=new _d(z,t,null,n,g),_.push({event:z,listeners:I}),M?z.data=M:(M=Ep(n),M!==null&&(z.data=M)))),(M=hy?dy(t,n):fy(t,n))&&(p=Ko(p,"onBeforeInput"),0<p.length&&(g=new _d("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:p}),g.data=M))}Dp(_,e)})}function ks(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ko(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=ps(t,n),a!=null&&r.unshift(ks(t,a,o)),a=ps(t,e),a!=null&&r.push(ks(t,a,o))),t=t.return}return r}function Ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bd(t,e,n,r,o){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,o?(d=ps(n,a),d!=null&&u.unshift(ks(n,d,h))):o||(d=ps(n,a),d!=null&&u.push(ks(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Cy=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function Id(t){return(typeof t=="string"?t:""+t).replace(Cy,`
`).replace(Ly,"")}function go(t,e,n){if(e=Id(e),Id(t)!==e&&n)throw Error($(425))}function Qo(){}var pu=null,mu=null;function gu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _u=typeof setTimeout=="function"?setTimeout:void 0,by=typeof clearTimeout=="function"?clearTimeout:void 0,Od=typeof Promise=="function"?Promise:void 0,Iy=typeof queueMicrotask=="function"?queueMicrotask:typeof Od<"u"?function(t){return Od.resolve(null).then(t).catch(Oy)}:_u;function Oy(t){setTimeout(function(){throw t})}function El(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),_s(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);_s(e)}function Rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ad(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+mr,Ss="__reactProps$"+mr,pn="__reactContainer$"+mr,vu="__reactEvents$"+mr,Ay="__reactListeners$"+mr,My="__reactHandles$"+mr;function li(t){var e=t[Yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pn]||n[Yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ad(t);t!==null;){if(n=t[Yt])return n;t=Ad(t)}return e}t=n,n=t.parentNode}return null}function Ms(t){return t=t[Yt]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function ya(t){return t[Ss]||null}var yu=[],Vi=-1;function Fn(t){return{current:t}}function Pe(t){0>Vi||(t.current=yu[Vi],yu[Vi]=null,Vi--)}function Se(t,e){Vi++,yu[Vi]=t.current,t.current=e}var $n={},et=Fn($n),ht=Fn(!1),fi=$n;function sr(t,e){var n=t.type.contextTypes;if(!n)return $n;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function dt(t){return t=t.childContextTypes,t!=null}function Jo(){Pe(ht),Pe(et)}function Md(t,e,n){if(et.current!==$n)throw Error($(168));Se(et,e),Se(ht,n)}function $p(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error($(108,_v(t)||"Unknown",o));return Oe({},n,r)}function Yo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,fi=et.current,Se(et,t),Se(ht,ht.current),!0}function Rd(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=$p(t,e,fi),r.__reactInternalMemoizedMergedChildContext=t,Pe(ht),Pe(et),Se(et,t)):Pe(ht),Se(ht,n)}var un=null,wa=!1,Cl=!1;function Up(t){un===null?un=[t]:un.push(t)}function Ry(t){wa=!0,Up(t)}function Wn(){if(!Cl&&un!==null){Cl=!0;var t=0,e=ve;try{var n=un;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}un=null,wa=!1}catch(o){throw un!==null&&(un=un.slice(t+1)),dp(uc,Wn),o}finally{ve=e,Cl=!1}}return null}var qi=[],Gi=0,Xo=null,ea=0,Pt=[],Tt=0,pi=null,cn=1,hn="";function ri(t,e){qi[Gi++]=ea,qi[Gi++]=Xo,Xo=t,ea=e}function Fp(t,e,n){Pt[Tt++]=cn,Pt[Tt++]=hn,Pt[Tt++]=pi,pi=t;var r=cn;t=hn;var o=32-$t(r)-1;r&=~(1<<o),n+=1;var a=32-$t(e)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,cn=1<<32-$t(e)+o|n<<o|r,hn=a+t}else cn=1<<a|n<<o|r,hn=t}function vc(t){t.return!==null&&(ri(t,1),Fp(t,1,0))}function yc(t){for(;t===Xo;)Xo=qi[--Gi],qi[Gi]=null,ea=qi[--Gi],qi[Gi]=null;for(;t===pi;)pi=Pt[--Tt],Pt[Tt]=null,hn=Pt[--Tt],Pt[Tt]=null,cn=Pt[--Tt],Pt[Tt]=null}var gt=null,mt=null,Te=!1,Bt=null;function Wp(t,e){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gt=t,mt=Rn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gt=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pi!==null?{id:cn,overflow:hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gt=t,mt=null,!0):!1;default:return!1}}function wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ku(t){if(Te){var e=mt;if(e){var n=e;if(!jd(t,e)){if(wu(t))throw Error($(418));e=Rn(n.nextSibling);var r=gt;e&&jd(t,e)?Wp(r,n):(t.flags=t.flags&-4097|2,Te=!1,gt=t)}}else{if(wu(t))throw Error($(418));t.flags=t.flags&-4097|2,Te=!1,gt=t}}}function Nd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gt=t}function _o(t){if(t!==gt)return!1;if(!Te)return Nd(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gu(t.type,t.memoizedProps)),e&&(e=mt)){if(wu(t))throw Zp(),Error($(418));for(;e;)Wp(t,e),e=Rn(e.nextSibling)}if(Nd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mt=Rn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=gt?Rn(t.stateNode.nextSibling):null;return!0}function Zp(){for(var t=mt;t;)t=Rn(t.nextSibling)}function or(){mt=gt=null,Te=!1}function wc(t){Bt===null?Bt=[t]:Bt.push(t)}var jy=_n.ReactCurrentBatchConfig;function Wr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var o=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function vo(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zd(t){var e=t._init;return e(t._payload)}function Hp(t){function e(S,y){if(t){var w=S.deletions;w===null?(S.deletions=[y],S.flags|=16):w.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function o(S,y){return S=Dn(S,y),S.index=0,S.sibling=null,S}function a(S,y,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<y?(S.flags|=2,y):w):(S.flags|=2,y)):(S.flags|=1048576,y)}function u(S){return t&&S.alternate===null&&(S.flags|=2),S}function h(S,y,w,k){return y===null||y.tag!==6?(y=Rl(w,S.mode,k),y.return=S,y):(y=o(y,w),y.return=S,y)}function d(S,y,w,k){var P=w.type;return P===Ui?g(S,y,w.props.children,k,w.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Pn&&zd(P)===y.type)?(k=o(y,w.props),k.ref=Wr(S,y,w),k.return=S,k):(k=Uo(w.type,w.key,w.props,null,S.mode,k),k.ref=Wr(S,y,w),k.return=S,k)}function p(S,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=jl(w,S.mode,k),y.return=S,y):(y=o(y,w.children||[]),y.return=S,y)}function g(S,y,w,k,P){return y===null||y.tag!==7?(y=di(w,S.mode,k,P),y.return=S,y):(y=o(y,w),y.return=S,y)}function _(S,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rl(""+y,S.mode,w),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case oo:return w=Uo(y.type,y.key,y.props,null,S.mode,w),w.ref=Wr(S,null,y),w.return=S,w;case $i:return y=jl(y,S.mode,w),y.return=S,y;case Pn:var k=y._init;return _(S,k(y._payload),w)}if(Qr(y)||Dr(y))return y=di(y,S.mode,w,null),y.return=S,y;vo(S,y)}return null}function v(S,y,w,k){var P=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:h(S,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oo:return w.key===P?d(S,y,w,k):null;case $i:return w.key===P?p(S,y,w,k):null;case Pn:return P=w._init,v(S,y,P(w._payload),k)}if(Qr(w)||Dr(w))return P!==null?null:g(S,y,w,k,null);vo(S,w)}return null}function E(S,y,w,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return S=S.get(w)||null,h(y,S,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case oo:return S=S.get(k.key===null?w:k.key)||null,d(y,S,k,P);case $i:return S=S.get(k.key===null?w:k.key)||null,p(y,S,k,P);case Pn:var I=k._init;return E(S,y,w,I(k._payload),P)}if(Qr(k)||Dr(k))return S=S.get(w)||null,g(y,S,k,P,null);vo(y,k)}return null}function T(S,y,w,k){for(var P=null,I=null,M=y,z=y=0,G=null;M!==null&&z<w.length;z++){M.index>z?(G=M,M=null):G=M.sibling;var V=v(S,M,w[z],k);if(V===null){M===null&&(M=G);break}t&&M&&V.alternate===null&&e(S,M),y=a(V,y,z),I===null?P=V:I.sibling=V,I=V,M=G}if(z===w.length)return n(S,M),Te&&ri(S,z),P;if(M===null){for(;z<w.length;z++)M=_(S,w[z],k),M!==null&&(y=a(M,y,z),I===null?P=M:I.sibling=M,I=M);return Te&&ri(S,z),P}for(M=r(S,M);z<w.length;z++)G=E(M,S,z,w[z],k),G!==null&&(t&&G.alternate!==null&&M.delete(G.key===null?z:G.key),y=a(G,y,z),I===null?P=G:I.sibling=G,I=G);return t&&M.forEach(function(re){return e(S,re)}),Te&&ri(S,z),P}function b(S,y,w,k){var P=Dr(w);if(typeof P!="function")throw Error($(150));if(w=P.call(w),w==null)throw Error($(151));for(var I=P=null,M=y,z=y=0,G=null,V=w.next();M!==null&&!V.done;z++,V=w.next()){M.index>z?(G=M,M=null):G=M.sibling;var re=v(S,M,V.value,k);if(re===null){M===null&&(M=G);break}t&&M&&re.alternate===null&&e(S,M),y=a(re,y,z),I===null?P=re:I.sibling=re,I=re,M=G}if(V.done)return n(S,M),Te&&ri(S,z),P;if(M===null){for(;!V.done;z++,V=w.next())V=_(S,V.value,k),V!==null&&(y=a(V,y,z),I===null?P=V:I.sibling=V,I=V);return Te&&ri(S,z),P}for(M=r(S,M);!V.done;z++,V=w.next())V=E(M,S,z,V.value,k),V!==null&&(t&&V.alternate!==null&&M.delete(V.key===null?z:V.key),y=a(V,y,z),I===null?P=V:I.sibling=V,I=V);return t&&M.forEach(function(ge){return e(S,ge)}),Te&&ri(S,z),P}function N(S,y,w,k){if(typeof w=="object"&&w!==null&&w.type===Ui&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case oo:e:{for(var P=w.key,I=y;I!==null;){if(I.key===P){if(P=w.type,P===Ui){if(I.tag===7){n(S,I.sibling),y=o(I,w.props.children),y.return=S,S=y;break e}}else if(I.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Pn&&zd(P)===I.type){n(S,I.sibling),y=o(I,w.props),y.ref=Wr(S,I,w),y.return=S,S=y;break e}n(S,I);break}else e(S,I);I=I.sibling}w.type===Ui?(y=di(w.props.children,S.mode,k,w.key),y.return=S,S=y):(k=Uo(w.type,w.key,w.props,null,S.mode,k),k.ref=Wr(S,y,w),k.return=S,S=k)}return u(S);case $i:e:{for(I=w.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(S,y.sibling),y=o(y,w.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=jl(w,S.mode,k),y.return=S,S=y}return u(S);case Pn:return I=w._init,N(S,y,I(w._payload),k)}if(Qr(w))return T(S,y,w,k);if(Dr(w))return b(S,y,w,k);vo(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(S,y.sibling),y=o(y,w),y.return=S,S=y):(n(S,y),y=Rl(w,S.mode,k),y.return=S,S=y),u(S)):n(S,y)}return N}var ar=Hp(!0),Vp=Hp(!1),ta=Fn(null),na=null,Ki=null,kc=null;function Sc(){kc=Ki=na=null}function xc(t){var e=ta.current;Pe(ta),t._currentValue=e}function Su(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nr(t,e){na=t,kc=Ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ct=!0),t.firstContext=null)}function Lt(t){var e=t._currentValue;if(kc!==t)if(t={context:t,memoizedValue:e,next:null},Ki===null){if(na===null)throw Error($(308));Ki=t,na.dependencies={lanes:0,firstContext:t}}else Ki=Ki.next=t;return e}var ui=null;function Pc(t){ui===null?ui=[t]:ui.push(t)}function qp(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Pc(e)):(n.next=o.next,o.next=n),e.interleaved=n,mn(t,r)}function mn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,mn(t,n)}return o=r.interleaved,o===null?(e.next=e,Pc(r)):(e.next=o.next,o.next=e),r.interleaved=e,mn(t,n)}function jo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cc(t,n)}}function Dd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ia(t,e,n,r){var o=t.updateQueue;Tn=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var g=t.alternate;g!==null&&(g=g.updateQueue,h=g.lastBaseUpdate,h!==u&&(h===null?g.firstBaseUpdate=p:h.next=p,g.lastBaseUpdate=d))}if(a!==null){var _=o.baseState;u=0,g=p=d=null,h=a;do{var v=h.lane,E=h.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:E,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var T=t,b=h;switch(v=e,E=n,b.tag){case 1:if(T=b.payload,typeof T=="function"){_=T.call(E,_,v);break e}_=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=b.payload,v=typeof T=="function"?T.call(E,_,v):T,v==null)break e;_=Oe({},_,v);break e;case 2:Tn=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,v=o.effects,v===null?o.effects=[h]:v.push(h))}else E={eventTime:E,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},g===null?(p=g=E,d=_):g=g.next=E,u|=v;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;v=h,h=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(1);if(g===null&&(d=_),o.baseState=d,o.firstBaseUpdate=p,o.lastBaseUpdate=g,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);gi|=u,t.lanes=u,t.memoizedState=_}}function Bd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error($(191,o));o.call(r)}}}var Rs={},en=Fn(Rs),xs=Fn(Rs),Ps=Fn(Rs);function ci(t){if(t===Rs)throw Error($(174));return t}function Ec(t,e){switch(Se(Ps,e),Se(xs,t),Se(en,Rs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nu(e,t)}Pe(en),Se(en,e)}function lr(){Pe(en),Pe(xs),Pe(Ps)}function Kp(t){ci(Ps.current);var e=ci(en.current),n=nu(e,t.type);e!==n&&(Se(xs,t),Se(en,n))}function Cc(t){xs.current===t&&(Pe(en),Pe(xs))}var be=Fn(0);function ra(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ll=[];function Lc(){for(var t=0;t<Ll.length;t++)Ll[t]._workInProgressVersionPrimary=null;Ll.length=0}var No=_n.ReactCurrentDispatcher,bl=_n.ReactCurrentBatchConfig,mi=0,Ie=null,$e=null,We=null,sa=!1,ss=!1,Ts=0,Ny=0;function Je(){throw Error($(321))}function bc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ft(t[n],e[n]))return!1;return!0}function Ic(t,e,n,r,o,a){if(mi=a,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,No.current=t===null||t.memoizedState===null?$y:Uy,t=n(r,o),ss){a=0;do{if(ss=!1,Ts=0,25<=a)throw Error($(301));a+=1,We=$e=null,e.updateQueue=null,No.current=Fy,t=n(r,o)}while(ss)}if(No.current=oa,e=$e!==null&&$e.next!==null,mi=0,We=$e=Ie=null,sa=!1,e)throw Error($(300));return t}function Oc(){var t=Ts!==0;return Ts=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ie.memoizedState=We=t:We=We.next=t,We}function bt(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=We===null?Ie.memoizedState:We.next;if(e!==null)We=e,$e=t;else{if(t===null)throw Error($(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},We===null?Ie.memoizedState=We=t:We=We.next=t}return We}function Es(t,e){return typeof e=="function"?e(t):e}function Il(t){var e=bt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=$e,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=u=null,d=null,p=a;do{var g=p.lane;if((mi&g)===g)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var _={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=_,u=r):d=d.next=_,Ie.lanes|=g,gi|=g}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,Ft(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do a=o.lane,Ie.lanes|=a,gi|=a,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ol(t){var e=bt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=t(a,u.action),u=u.next;while(u!==o);Ft(a,e.memoizedState)||(ct=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Qp(){}function Jp(t,e){var n=Ie,r=bt(),o=e(),a=!Ft(r.memoizedState,o);if(a&&(r.memoizedState=o,ct=!0),r=r.queue,Ac(em.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Cs(9,Xp.bind(null,n,r,o,e),void 0,null),Ze===null)throw Error($(349));mi&30||Yp(n,e,o)}return o}function Yp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xp(t,e,n,r){e.value=n,e.getSnapshot=r,tm(e)&&nm(t)}function em(t,e,n){return n(function(){tm(e)&&nm(t)})}function tm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ft(t,n)}catch{return!0}}function nm(t){var e=mn(t,1);e!==null&&Ut(e,t,1,-1)}function $d(t){var e=Qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},e.queue=t,t=t.dispatch=By.bind(null,Ie,t),[e.memoizedState,t]}function Cs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function im(){return bt().memoizedState}function zo(t,e,n,r){var o=Qt();Ie.flags|=t,o.memoizedState=Cs(1|e,n,void 0,r===void 0?null:r)}function ka(t,e,n,r){var o=bt();r=r===void 0?null:r;var a=void 0;if($e!==null){var u=$e.memoizedState;if(a=u.destroy,r!==null&&bc(r,u.deps)){o.memoizedState=Cs(e,n,a,r);return}}Ie.flags|=t,o.memoizedState=Cs(1|e,n,a,r)}function Ud(t,e){return zo(8390656,8,t,e)}function Ac(t,e){return ka(2048,8,t,e)}function rm(t,e){return ka(4,2,t,e)}function sm(t,e){return ka(4,4,t,e)}function om(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function am(t,e,n){return n=n!=null?n.concat([t]):null,ka(4,4,om.bind(null,e,t),n)}function Mc(){}function lm(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function um(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cm(t,e,n){return mi&21?(Ft(n,e)||(n=mp(),Ie.lanes|=n,gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n)}function zy(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=bl.transition;bl.transition={};try{t(!1),e()}finally{ve=n,bl.transition=r}}function hm(){return bt().memoizedState}function Dy(t,e,n){var r=zn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dm(t))fm(e,n);else if(n=qp(t,e,n,r),n!==null){var o=rt();Ut(n,t,r,o),pm(n,e,r)}}function By(t,e,n){var r=zn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dm(t))fm(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,Ft(h,u)){var d=e.interleaved;d===null?(o.next=o,Pc(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=qp(t,e,o,r),n!==null&&(o=rt(),Ut(n,t,r,o),pm(n,e,r))}}function dm(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function fm(t,e){ss=sa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cc(t,n)}}var oa={readContext:Lt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},$y={readContext:Lt,useCallback:function(t,e){return Qt().memoizedState=[t,e===void 0?null:e],t},useContext:Lt,useEffect:Ud,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zo(4194308,4,om.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zo(4194308,4,t,e)},useInsertionEffect:function(t,e){return zo(4,2,t,e)},useMemo:function(t,e){var n=Qt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Dy.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=Qt();return t={current:t},e.memoizedState=t},useState:$d,useDebugValue:Mc,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=$d(!1),e=t[0];return t=zy.bind(null,t[1]),Qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,o=Qt();if(Te){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Ze===null)throw Error($(349));mi&30||Yp(r,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,Ud(em.bind(null,r,a,t),[t]),r.flags|=2048,Cs(9,Xp.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Qt(),e=Ze.identifierPrefix;if(Te){var n=hn,r=cn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ts++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ny++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Uy={readContext:Lt,useCallback:lm,useContext:Lt,useEffect:Ac,useImperativeHandle:am,useInsertionEffect:rm,useLayoutEffect:sm,useMemo:um,useReducer:Il,useRef:im,useState:function(){return Il(Es)},useDebugValue:Mc,useDeferredValue:function(t){var e=bt();return cm(e,$e.memoizedState,t)},useTransition:function(){var t=Il(Es)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Qp,useSyncExternalStore:Jp,useId:hm,unstable_isNewReconciler:!1},Fy={readContext:Lt,useCallback:lm,useContext:Lt,useEffect:Ac,useImperativeHandle:am,useInsertionEffect:rm,useLayoutEffect:sm,useMemo:um,useReducer:Ol,useRef:im,useState:function(){return Ol(Es)},useDebugValue:Mc,useDeferredValue:function(t){var e=bt();return $e===null?e.memoizedState=t:cm(e,$e.memoizedState,t)},useTransition:function(){var t=Ol(Es)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Qp,useSyncExternalStore:Jp,useId:hm,unstable_isNewReconciler:!1};function Nt(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sa={isMounted:function(t){return(t=t._reactInternals)?yi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),o=zn(t),a=dn(r,o);a.payload=e,n!=null&&(a.callback=n),e=jn(t,a,o),e!==null&&(Ut(e,t,o,r),jo(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),o=zn(t),a=dn(r,o);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=jn(t,a,o),e!==null&&(Ut(e,t,o,r),jo(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=zn(t),o=dn(n,r);o.tag=2,e!=null&&(o.callback=e),e=jn(t,o,r),e!==null&&(Ut(e,t,r,n),jo(e,t,r))}};function Fd(t,e,n,r,o,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!ys(n,r)||!ys(o,a):!0}function mm(t,e,n){var r=!1,o=$n,a=e.contextType;return typeof a=="object"&&a!==null?a=Lt(a):(o=dt(e)?fi:et.current,r=e.contextTypes,a=(r=r!=null)?sr(t,o):$n),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function Wd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sa.enqueueReplaceState(e,e.state,null)}function Pu(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Tc(t);var a=e.contextType;typeof a=="object"&&a!==null?o.context=Lt(a):(a=dt(e)?fi:et.current,o.context=sr(t,a)),o.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(xu(t,e,a,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Sa.enqueueReplaceState(o,o.state,null),ia(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function ur(t,e){try{var n="",r=e;do n+=gv(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:o,digest:null}}function Al(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Wy=typeof WeakMap=="function"?WeakMap:Map;function gm(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){la||(la=!0,ju=r),Tu(t,e)},n}function _m(t,e,n){n=dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Tu(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Tu(t,e),typeof r!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Zd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Wy;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=i0.bind(null,t,e,n),e.then(t,t))}function Hd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vd(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,jn(n,e,1))),n.lanes|=1),t)}var Zy=_n.ReactCurrentOwner,ct=!1;function it(t,e,n,r){e.child=t===null?Vp(e,null,n,r):ar(e,t.child,n,r)}function qd(t,e,n,r,o){n=n.render;var a=e.ref;return nr(e,o),r=Ic(t,e,n,r,a,o),n=Oc(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,gn(t,e,o)):(Te&&n&&vc(e),e.flags|=1,it(t,e,r,o),e.child)}function Gd(t,e,n,r,o){if(t===null){var a=n.type;return typeof a=="function"&&!Uc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,vm(t,e,a,r,o)):(t=Uo(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(u,r)&&t.ref===e.ref)return gn(t,e,o)}return e.flags|=1,t=Dn(a,r),t.ref=e.ref,t.return=e,e.child=t}function vm(t,e,n,r,o){if(t!==null){var a=t.memoizedProps;if(ys(a,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=a,(t.lanes&o)!==0)t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,gn(t,e,o)}return Eu(t,e,n,r,o)}function ym(t,e,n){var r=e.pendingProps,o=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ji,pt),pt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Ji,pt),pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Se(Ji,pt),pt|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Se(Ji,pt),pt|=r;return it(t,e,o,n),e.child}function wm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Eu(t,e,n,r,o){var a=dt(n)?fi:et.current;return a=sr(e,a),nr(e,o),n=Ic(t,e,n,r,a,o),r=Oc(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,gn(t,e,o)):(Te&&r&&vc(e),e.flags|=1,it(t,e,n,o),e.child)}function Kd(t,e,n,r,o){if(dt(n)){var a=!0;Yo(e)}else a=!1;if(nr(e,o),e.stateNode===null)Do(t,e),mm(e,n,r),Pu(e,n,r,o),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Lt(p):(p=dt(n)?fi:et.current,p=sr(e,p));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";_||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&Wd(e,u,r,p),Tn=!1;var v=e.memoizedState;u.state=v,ia(e,r,u,o),d=e.memoizedState,h!==r||v!==d||ht.current||Tn?(typeof g=="function"&&(xu(e,n,g,r),d=e.memoizedState),(h=Tn||Fd(e,n,h,r,v,d,p))?(_||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,Gp(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:Nt(e.type,h),u.props=p,_=e.pendingProps,v=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=Lt(d):(d=dt(n)?fi:et.current,d=sr(e,d));var E=n.getDerivedStateFromProps;(g=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==_||v!==d)&&Wd(e,u,r,d),Tn=!1,v=e.memoizedState,u.state=v,ia(e,r,u,o);var T=e.memoizedState;h!==_||v!==T||ht.current||Tn?(typeof E=="function"&&(xu(e,n,E,r),T=e.memoizedState),(p=Tn||Fd(e,n,p,r,v,T,d)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,T,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,T,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),u.props=r,u.state=T,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Cu(t,e,n,r,a,o)}function Cu(t,e,n,r,o,a){wm(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return o&&Rd(e,n,!1),gn(t,e,a);r=e.stateNode,Zy.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=ar(e,t.child,null,a),e.child=ar(e,null,h,a)):it(t,e,h,a),e.memoizedState=r.state,o&&Rd(e,n,!0),e.child}function km(t){var e=t.stateNode;e.pendingContext?Md(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Md(t,e.context,!1),Ec(t,e.containerInfo)}function Qd(t,e,n,r,o){return or(),wc(o),e.flags|=256,it(t,e,n,r),e.child}var Lu={dehydrated:null,treeContext:null,retryLane:0};function bu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sm(t,e,n){var r=e.pendingProps,o=be.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(o&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Se(be,o&1),t===null)return ku(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Ta(u,r,0,null),t=di(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=bu(n),e.memoizedState=Lu,t):Rc(e,u));if(o=t.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return Hy(t,e,u,r,h,o,n);if(a){a=r.fallback,u=e.mode,o=t.child,h=o.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Dn(o,d),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=Dn(h,a):(a=di(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?bu(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=Lu,r}return a=t.child,t=a.sibling,r=Dn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rc(t,e){return e=Ta({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yo(t,e,n,r){return r!==null&&wc(r),ar(e,t.child,null,n),t=Rc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hy(t,e,n,r,o,a,u){if(n)return e.flags&256?(e.flags&=-257,r=Al(Error($(422))),yo(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,o=e.mode,r=Ta({mode:"visible",children:r.children},o,0,null),a=di(a,o,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&ar(e,t.child,null,u),e.child.memoizedState=bu(u),e.memoizedState=Lu,a);if(!(e.mode&1))return yo(t,e,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error($(419)),r=Al(a,r,void 0),yo(t,e,u,r)}if(h=(u&t.childLanes)!==0,ct||h){if(r=Ze,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,mn(t,o),Ut(r,t,o,-1))}return $c(),r=Al(Error($(421))),yo(t,e,u,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=r0.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,mt=Rn(o.nextSibling),gt=e,Te=!0,Bt=null,t!==null&&(Pt[Tt++]=cn,Pt[Tt++]=hn,Pt[Tt++]=pi,cn=t.id,hn=t.overflow,pi=e),e=Rc(e,r.children),e.flags|=4096,e)}function Jd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Su(t.return,e,n)}function Ml(t,e,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function xm(t,e,n){var r=e.pendingProps,o=r.revealOrder,a=r.tail;if(it(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jd(t,n,e);else if(t.tag===19)Jd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(be,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&ra(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Ml(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&ra(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Ml(e,!0,n,null,a);break;case"together":Ml(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Do(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vy(t,e,n){switch(e.tag){case 3:km(e),or();break;case 5:Kp(e);break;case 1:dt(e.type)&&Yo(e);break;case 4:Ec(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Se(ta,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?Sm(t,e,n):(Se(be,be.current&1),t=gn(t,e,n),t!==null?t.sibling:null);Se(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xm(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Se(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,ym(t,e,n)}return gn(t,e,n)}var Pm,Iu,Tm,Em;Pm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iu=function(){};Tm=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,ci(en.current);var a=null;switch(n){case"input":o=Yl(t,o),r=Yl(t,r),a=[];break;case"select":o=Oe({},o,{value:void 0}),r=Oe({},r,{value:void 0}),a=[];break;case"textarea":o=tu(t,o),r=tu(t,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qo)}iu(n,r);var u;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ds.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ds.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&xe("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};Em=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zr(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qy(t,e,n){var r=e.pendingProps;switch(yc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return dt(e.type)&&Jo(),Ye(e),null;case 3:return r=e.stateNode,lr(),Pe(ht),Pe(et),Lc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_o(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(Du(Bt),Bt=null))),Iu(t,e),Ye(e),null;case 5:Cc(e);var o=ci(Ps.current);if(n=e.type,t!==null&&e.stateNode!=null)Tm(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Ye(e),null}if(t=ci(en.current),_o(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Yt]=e,r[Ss]=a,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(o=0;o<Yr.length;o++)xe(Yr[o],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":od(r,a),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},xe("invalid",r);break;case"textarea":ld(r,a),xe("invalid",r)}iu(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&go(r.textContent,h,t),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&go(r.textContent,h,t),o=["children",""+h]):ds.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&xe("scroll",r)}switch(n){case"input":ao(r),ad(r,a,!0);break;case"textarea":ao(r),ud(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Qo)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ep(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Yt]=e,t[Ss]=r,Pm(t,e,!1,!1),e.stateNode=t;e:{switch(u=ru(n,r),n){case"dialog":xe("cancel",t),xe("close",t),o=r;break;case"iframe":case"object":case"embed":xe("load",t),o=r;break;case"video":case"audio":for(o=0;o<Yr.length;o++)xe(Yr[o],t);o=r;break;case"source":xe("error",t),o=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),o=r;break;case"details":xe("toggle",t),o=r;break;case"input":od(t,r),o=Yl(t,r),xe("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Oe({},r,{value:void 0}),xe("invalid",t);break;case"textarea":ld(t,r),o=tu(t,r),xe("invalid",t);break;default:o=r}iu(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?ip(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&tp(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&fs(t,d):typeof d=="number"&&fs(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ds.hasOwnProperty(a)?d!=null&&a==="onScroll"&&xe("scroll",t):d!=null&&rc(t,a,d,u))}switch(n){case"input":ao(t),ad(t,r,!1);break;case"textarea":ao(t),ud(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bn(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Yi(t,!!r.multiple,a,!1):r.defaultValue!=null&&Yi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Qo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)Em(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ci(Ps.current),ci(en.current),_o(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yt]=e,(a=r.nodeValue!==n)&&(t=gt,t!==null))switch(t.tag){case 3:go(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&go(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=e,e.stateNode=r}return Ye(e),null;case 13:if(Pe(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&mt!==null&&e.mode&1&&!(e.flags&128))Zp(),or(),e.flags|=98560,a=!1;else if(a=_o(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error($(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error($(317));a[Yt]=e}else or(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),a=!1}else Bt!==null&&(Du(Bt),Bt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Ue===0&&(Ue=3):$c())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return lr(),Iu(t,e),t===null&&ws(e.stateNode.containerInfo),Ye(e),null;case 10:return xc(e.type._context),Ye(e),null;case 17:return dt(e.type)&&Jo(),Ye(e),null;case 19:if(Pe(be),a=e.memoizedState,a===null)return Ye(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)Zr(a,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=ra(t),u!==null){for(e.flags|=128,Zr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(be,be.current&1|2),e.child}t=t.sibling}a.tail!==null&&Re()>cr&&(e.flags|=128,r=!0,Zr(a,!1),e.lanes=4194304)}else{if(!r)if(t=ra(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Te)return Ye(e),null}else 2*Re()-a.renderingStartTime>cr&&n!==1073741824&&(e.flags|=128,r=!0,Zr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Re(),e.sibling=null,n=be.current,Se(be,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return Bc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Gy(t,e){switch(yc(e),e.tag){case 1:return dt(e.type)&&Jo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lr(),Pe(ht),Pe(et),Lc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cc(e),null;case 13:if(Pe(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));or()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(be),null;case 4:return lr(),null;case 10:return xc(e.type._context),null;case 22:case 23:return Bc(),null;case 24:return null;default:return null}}var wo=!1,Xe=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,W=null;function Qi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function Ou(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var Yd=!1;function Qy(t,e){if(pu=qo,t=Op(),_c(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,g=0,_=t,v=null;t:for(;;){for(var E;_!==n||o!==0&&_.nodeType!==3||(h=u+o),_!==a||r!==0&&_.nodeType!==3||(d=u+r),_.nodeType===3&&(u+=_.nodeValue.length),(E=_.firstChild)!==null;)v=_,_=E;for(;;){if(_===t)break t;if(v===n&&++p===o&&(h=u),v===a&&++g===r&&(d=u),(E=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=E}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(mu={focusedElem:t,selectionRange:n},qo=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var b=T.memoizedProps,N=T.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?b:Nt(e.type,b),N);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){Ae(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return T=Yd,Yd=!1,T}function os(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.destroy;o.destroy=void 0,a!==void 0&&Ou(e,n,a)}o=o.next}while(o!==r)}}function xa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Au(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cm(t){var e=t.alternate;e!==null&&(t.alternate=null,Cm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yt],delete e[Ss],delete e[vu],delete e[Ay],delete e[My])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lm(t){return t.tag===5||t.tag===3||t.tag===4}function Xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qo));else if(r!==4&&(t=t.child,t!==null))for(Mu(t,e,n),t=t.sibling;t!==null;)Mu(t,e,n),t=t.sibling}function Ru(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ru(t,e,n),t=t.sibling;t!==null;)Ru(t,e,n),t=t.sibling}var Ve=null,zt=!1;function kn(t,e,n){for(n=n.child;n!==null;)bm(t,e,n),n=n.sibling}function bm(t,e,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ma,n)}catch{}switch(n.tag){case 5:Xe||Qi(n,e);case 6:var r=Ve,o=zt;Ve=null,kn(t,e,n),Ve=r,zt=o,Ve!==null&&(zt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(zt?(t=Ve,n=n.stateNode,t.nodeType===8?El(t.parentNode,n):t.nodeType===1&&El(t,n),_s(t)):El(Ve,n.stateNode));break;case 4:r=Ve,o=zt,Ve=n.stateNode.containerInfo,zt=!0,kn(t,e,n),Ve=r,zt=o;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Ou(n,e,u),o=o.next}while(o!==r)}kn(t,e,n);break;case 1:if(!Xe&&(Qi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Ae(n,e,h)}kn(t,e,n);break;case 21:kn(t,e,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,kn(t,e,n),Xe=r):kn(t,e,n);break;default:kn(t,e,n)}}function ef(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ky),e.forEach(function(r){var o=s0.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:Ve=h.stateNode,zt=!1;break e;case 3:Ve=h.stateNode.containerInfo,zt=!0;break e;case 4:Ve=h.stateNode.containerInfo,zt=!0;break e}h=h.return}if(Ve===null)throw Error($(160));bm(a,u,o),Ve=null,zt=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(p){Ae(o,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Im(e,t),e=e.sibling}function Im(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),Kt(t),r&4){try{os(3,t,t.return),xa(3,t)}catch(b){Ae(t,t.return,b)}try{os(5,t,t.return)}catch(b){Ae(t,t.return,b)}}break;case 1:Mt(e,t),Kt(t),r&512&&n!==null&&Qi(n,n.return);break;case 5:if(Mt(e,t),Kt(t),r&512&&n!==null&&Qi(n,n.return),t.flags&32){var o=t.stateNode;try{fs(o,"")}catch(b){Ae(t,t.return,b)}}if(r&4&&(o=t.stateNode,o!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Yf(o,a),ru(h,u);var p=ru(h,a);for(u=0;u<d.length;u+=2){var g=d[u],_=d[u+1];g==="style"?ip(o,_):g==="dangerouslySetInnerHTML"?tp(o,_):g==="children"?fs(o,_):rc(o,g,_,p)}switch(h){case"input":Xl(o,a);break;case"textarea":Xf(o,a);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?Yi(o,!!a.multiple,E,!1):v!==!!a.multiple&&(a.defaultValue!=null?Yi(o,!!a.multiple,a.defaultValue,!0):Yi(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ss]=a}catch(b){Ae(t,t.return,b)}}break;case 6:if(Mt(e,t),Kt(t),r&4){if(t.stateNode===null)throw Error($(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(b){Ae(t,t.return,b)}}break;case 3:if(Mt(e,t),Kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_s(e.containerInfo)}catch(b){Ae(t,t.return,b)}break;case 4:Mt(e,t),Kt(t);break;case 13:Mt(e,t),Kt(t),o=t.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(zc=Re())),r&4&&ef(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Xe=(p=Xe)||g,Mt(e,t),Xe=p):Mt(e,t),Kt(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!g&&t.mode&1)for(W=t,g=t.child;g!==null;){for(_=W=g;W!==null;){switch(v=W,E=v.child,v.tag){case 0:case 11:case 14:case 15:os(4,v,v.return);break;case 1:Qi(v,v.return);var T=v.stateNode;if(typeof T.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(b){Ae(r,n,b)}}break;case 5:Qi(v,v.return);break;case 22:if(v.memoizedState!==null){nf(_);continue}}E!==null?(E.return=v,W=E):nf(_)}g=g.sibling}e:for(g=null,_=t;;){if(_.tag===5){if(g===null){g=_;try{o=_.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=_.stateNode,d=_.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=np("display",u))}catch(b){Ae(t,t.return,b)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=p?"":_.memoizedProps}catch(b){Ae(t,t.return,b)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Mt(e,t),Kt(t),r&4&&ef(t);break;case 21:break;default:Mt(e,t),Kt(t)}}function Kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lm(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(fs(o,""),r.flags&=-33);var a=Xd(t);Ru(t,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,h=Xd(t);Mu(t,h,u);break;default:throw Error($(161))}}catch(d){Ae(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jy(t,e,n){W=t,Om(t)}function Om(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var o=W,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||wo;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||Xe;h=wo;var p=Xe;if(wo=u,(Xe=d)&&!p)for(W=o;W!==null;)u=W,d=u.child,u.tag===22&&u.memoizedState!==null?rf(o):d!==null?(d.return=u,W=d):rf(o);for(;a!==null;)W=a,Om(a),a=a.sibling;W=o,wo=h,Xe=p}tf(t)}else o.subtreeFlags&8772&&a!==null?(a.return=o,W=a):tf(t)}}function tf(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||xa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Nt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Bd(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bd(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&_s(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Xe||e.flags&512&&Au(e)}catch(v){Ae(e,e.return,v)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function nf(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function rf(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xa(4,e)}catch(d){Ae(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){Ae(e,o,d)}}var a=e.return;try{Au(e)}catch(d){Ae(e,a,d)}break;case 5:var u=e.return;try{Au(e)}catch(d){Ae(e,u,d)}}}catch(d){Ae(e,e.return,d)}if(e===t){W=null;break}var h=e.sibling;if(h!==null){h.return=e.return,W=h;break}W=e.return}}var Yy=Math.ceil,aa=_n.ReactCurrentDispatcher,jc=_n.ReactCurrentOwner,Ct=_n.ReactCurrentBatchConfig,fe=0,Ze=null,ze=null,qe=0,pt=0,Ji=Fn(0),Ue=0,Ls=null,gi=0,Pa=0,Nc=0,as=null,lt=null,zc=0,cr=1/0,an=null,la=!1,ju=null,Nn=null,ko=!1,In=null,ua=0,ls=0,Nu=null,Bo=-1,$o=0;function rt(){return fe&6?Re():Bo!==-1?Bo:Bo=Re()}function zn(t){return t.mode&1?fe&2&&qe!==0?qe&-qe:jy.transition!==null?($o===0&&($o=mp()),$o):(t=ve,t!==0||(t=window.event,t=t===void 0?16:Sp(t.type)),t):1}function Ut(t,e,n,r){if(50<ls)throw ls=0,Nu=null,Error($(185));Os(t,n,r),(!(fe&2)||t!==Ze)&&(t===Ze&&(!(fe&2)&&(Pa|=n),Ue===4&&Cn(t,qe)),ft(t,r),n===1&&fe===0&&!(e.mode&1)&&(cr=Re()+500,wa&&Wn()))}function ft(t,e){var n=t.callbackNode;jv(t,e);var r=Vo(t,t===Ze?qe:0);if(r===0)n!==null&&dd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dd(n),e===1)t.tag===0?Ry(sf.bind(null,t)):Up(sf.bind(null,t)),Iy(function(){!(fe&6)&&Wn()}),n=null;else{switch(gp(r)){case 1:n=uc;break;case 4:n=fp;break;case 16:n=Ho;break;case 536870912:n=pp;break;default:n=Ho}n=Bm(n,Am.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Am(t,e){if(Bo=-1,$o=0,fe&6)throw Error($(327));var n=t.callbackNode;if(ir()&&t.callbackNode!==n)return null;var r=Vo(t,t===Ze?qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ca(t,r);else{e=r;var o=fe;fe|=2;var a=Rm();(Ze!==t||qe!==e)&&(an=null,cr=Re()+500,hi(t,e));do try{t0();break}catch(h){Mm(t,h)}while(1);Sc(),aa.current=a,fe=o,ze!==null?e=0:(Ze=null,qe=0,e=Ue)}if(e!==0){if(e===2&&(o=uu(t),o!==0&&(r=o,e=zu(t,o))),e===1)throw n=Ls,hi(t,0),Cn(t,r),ft(t,Re()),n;if(e===6)Cn(t,r);else{if(o=t.current.alternate,!(r&30)&&!Xy(o)&&(e=ca(t,r),e===2&&(a=uu(t),a!==0&&(r=a,e=zu(t,a))),e===1))throw n=Ls,hi(t,0),Cn(t,r),ft(t,Re()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:si(t,lt,an);break;case 3:if(Cn(t,r),(r&130023424)===r&&(e=zc+500-Re(),10<e)){if(Vo(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=_u(si.bind(null,t,lt,an),e);break}si(t,lt,an);break;case 4:if(Cn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var u=31-$t(r);a=1<<u,u=e[u],u>o&&(o=u),r&=~a}if(r=o,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yy(r/1960))-r,10<r){t.timeoutHandle=_u(si.bind(null,t,lt,an),r);break}si(t,lt,an);break;case 5:si(t,lt,an);break;default:throw Error($(329))}}}return ft(t,Re()),t.callbackNode===n?Am.bind(null,t):null}function zu(t,e){var n=as;return t.current.memoizedState.isDehydrated&&(hi(t,e).flags|=256),t=ca(t,e),t!==2&&(e=lt,lt=n,e!==null&&Du(e)),t}function Du(t){lt===null?lt=t:lt.push.apply(lt,t)}function Xy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Ft(a(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cn(t,e){for(e&=~Nc,e&=~Pa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$t(e),r=1<<n;t[n]=-1,e&=~r}}function sf(t){if(fe&6)throw Error($(327));ir();var e=Vo(t,0);if(!(e&1))return ft(t,Re()),null;var n=ca(t,e);if(t.tag!==0&&n===2){var r=uu(t);r!==0&&(e=r,n=zu(t,r))}if(n===1)throw n=Ls,hi(t,0),Cn(t,e),ft(t,Re()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,si(t,lt,an),ft(t,Re()),null}function Dc(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(cr=Re()+500,wa&&Wn())}}function _i(t){In!==null&&In.tag===0&&!(fe&6)&&ir();var e=fe;fe|=1;var n=Ct.transition,r=ve;try{if(Ct.transition=null,ve=1,t)return t()}finally{ve=r,Ct.transition=n,fe=e,!(fe&6)&&Wn()}}function Bc(){pt=Ji.current,Pe(Ji)}function hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,by(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(yc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jo();break;case 3:lr(),Pe(ht),Pe(et),Lc();break;case 5:Cc(r);break;case 4:lr();break;case 13:Pe(be);break;case 19:Pe(be);break;case 10:xc(r.type._context);break;case 22:case 23:Bc()}n=n.return}if(Ze=t,ze=t=Dn(t.current,null),qe=pt=e,Ue=0,Ls=null,Nc=Pa=gi=0,lt=as=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}ui=null}return t}function Mm(t,e){do{var n=ze;try{if(Sc(),No.current=oa,sa){for(var r=Ie.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}sa=!1}if(mi=0,We=$e=Ie=null,ss=!1,Ts=0,jc.current=null,n===null||n.return===null){Ue=1,Ls=e,ze=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=qe,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,g=h,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var E=Hd(u);if(E!==null){E.flags&=-257,Vd(E,u,h,a,e),E.mode&1&&Zd(a,p,e),e=E,d=p;var T=e.updateQueue;if(T===null){var b=new Set;b.add(d),e.updateQueue=b}else T.add(d);break e}else{if(!(e&1)){Zd(a,p,e),$c();break e}d=Error($(426))}}else if(Te&&h.mode&1){var N=Hd(u);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Vd(N,u,h,a,e),wc(ur(d,h));break e}}a=d=ur(d,h),Ue!==4&&(Ue=2),as===null?as=[a]:as.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=gm(a,d,e);Dd(a,S);break e;case 1:h=d;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Nn===null||!Nn.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=_m(a,h,e);Dd(a,k);break e}}a=a.return}while(a!==null)}Nm(n)}catch(P){e=P,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(1)}function Rm(){var t=aa.current;return aa.current=oa,t===null?oa:t}function $c(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ze===null||!(gi&268435455)&&!(Pa&268435455)||Cn(Ze,qe)}function ca(t,e){var n=fe;fe|=2;var r=Rm();(Ze!==t||qe!==e)&&(an=null,hi(t,e));do try{e0();break}catch(o){Mm(t,o)}while(1);if(Sc(),fe=n,aa.current=r,ze!==null)throw Error($(261));return Ze=null,qe=0,Ue}function e0(){for(;ze!==null;)jm(ze)}function t0(){for(;ze!==null&&!Ev();)jm(ze)}function jm(t){var e=Dm(t.alternate,t,pt);t.memoizedProps=t.pendingProps,e===null?Nm(t):ze=e,jc.current=null}function Nm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gy(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,ze=null;return}}else if(n=qy(n,e,pt),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);Ue===0&&(Ue=5)}function si(t,e,n){var r=ve,o=Ct.transition;try{Ct.transition=null,ve=1,n0(t,e,n,r)}finally{Ct.transition=o,ve=r}return null}function n0(t,e,n,r){do ir();while(In!==null);if(fe&6)throw Error($(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Nv(t,a),t===Ze&&(ze=Ze=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ko||(ko=!0,Bm(Ho,function(){return ir(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ct.transition,Ct.transition=null;var u=ve;ve=1;var h=fe;fe|=4,jc.current=null,Qy(t,n),Im(n,t),Sy(mu),qo=!!pu,mu=pu=null,t.current=n,Jy(n),Cv(),fe=h,ve=u,Ct.transition=a}else t.current=n;if(ko&&(ko=!1,In=t,ua=o),a=t.pendingLanes,a===0&&(Nn=null),Iv(n.stateNode),ft(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(la)throw la=!1,t=ju,ju=null,t;return ua&1&&t.tag!==0&&ir(),a=t.pendingLanes,a&1?t===Nu?ls++:(ls=0,Nu=t):ls=0,Wn(),null}function ir(){if(In!==null){var t=gp(ua),e=Ct.transition,n=ve;try{if(Ct.transition=null,ve=16>t?16:t,In===null)var r=!1;else{if(t=In,In=null,ua=0,fe&6)throw Error($(331));var o=fe;for(fe|=4,W=t.current;W!==null;){var a=W,u=a.child;if(W.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(W=p;W!==null;){var g=W;switch(g.tag){case 0:case 11:case 15:os(8,g,a)}var _=g.child;if(_!==null)_.return=g,W=_;else for(;W!==null;){g=W;var v=g.sibling,E=g.return;if(Cm(g),g===p){W=null;break}if(v!==null){v.return=E,W=v;break}W=E}}}var T=a.alternate;if(T!==null){var b=T.child;if(b!==null){T.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}W=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,W=u;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:os(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,W=S;break e}W=a.return}}var y=t.current;for(W=y;W!==null;){u=W;var w=u.child;if(u.subtreeFlags&2064&&w!==null)w.return=u,W=w;else e:for(u=y;W!==null;){if(h=W,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:xa(9,h)}}catch(P){Ae(h,h.return,P)}if(h===u){W=null;break e}var k=h.sibling;if(k!==null){k.return=h.return,W=k;break e}W=h.return}}if(fe=o,Wn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ma,t)}catch{}r=!0}return r}finally{ve=n,Ct.transition=e}}return!1}function of(t,e,n){e=ur(n,e),e=gm(t,e,1),t=jn(t,e,1),e=rt(),t!==null&&(Os(t,1,e),ft(t,e))}function Ae(t,e,n){if(t.tag===3)of(t,t,n);else for(;e!==null;){if(e.tag===3){of(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nn===null||!Nn.has(r))){t=ur(n,t),t=_m(e,t,1),e=jn(e,t,1),t=rt(),e!==null&&(Os(e,1,t),ft(e,t));break}}e=e.return}}function i0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(qe&n)===n&&(Ue===4||Ue===3&&(qe&130023424)===qe&&500>Re()-zc?hi(t,0):Nc|=n),ft(t,e)}function zm(t,e){e===0&&(t.mode&1?(e=co,co<<=1,!(co&130023424)&&(co=4194304)):e=1);var n=rt();t=mn(t,e),t!==null&&(Os(t,e,n),ft(t,n))}function r0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zm(t,n)}function s0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),zm(t,n)}var Dm;Dm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ct=!1,Vy(t,e,n);ct=!!(t.flags&131072)}else ct=!1,Te&&e.flags&1048576&&Fp(e,ea,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Do(t,e),t=e.pendingProps;var o=sr(e,et.current);nr(e,n),o=Ic(null,e,r,t,o,n);var a=Oc();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(r)?(a=!0,Yo(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Tc(e),o.updater=Sa,e.stateNode=o,o._reactInternals=e,Pu(e,r,t,n),e=Cu(null,e,r,!0,a,n)):(e.tag=0,Te&&a&&vc(e),it(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Do(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=a0(r),t=Nt(r,t),o){case 0:e=Eu(null,e,r,t,n);break e;case 1:e=Kd(null,e,r,t,n);break e;case 11:e=qd(null,e,r,t,n);break e;case 14:e=Gd(null,e,r,Nt(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Nt(r,o),Eu(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Nt(r,o),Kd(t,e,r,o,n);case 3:e:{if(km(e),t===null)throw Error($(387));r=e.pendingProps,a=e.memoizedState,o=a.element,Gp(t,e),ia(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=ur(Error($(423)),e),e=Qd(t,e,r,n,o);break e}else if(r!==o){o=ur(Error($(424)),e),e=Qd(t,e,r,n,o);break e}else for(mt=Rn(e.stateNode.containerInfo.firstChild),gt=e,Te=!0,Bt=null,n=Vp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),r===o){e=gn(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return Kp(e),t===null&&ku(e),r=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,u=o.children,gu(r,o)?u=null:a!==null&&gu(r,a)&&(e.flags|=32),wm(t,e),it(t,e,u,n),e.child;case 6:return t===null&&ku(e),null;case 13:return Sm(t,e,n);case 4:return Ec(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ar(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Nt(r,o),qd(t,e,r,o,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,Se(ta,r._currentValue),r._currentValue=u,a!==null)if(Ft(a.value,u)){if(a.children===o.children&&!ht.current){e=gn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=dn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?d.next=d:(d.next=g.next,g.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Su(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error($(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),Su(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}it(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,nr(e,n),o=Lt(o),r=r(o),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,o=Nt(r,e.pendingProps),o=Nt(r.type,o),Gd(t,e,r,o,n);case 15:return vm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Nt(r,o),Do(t,e),e.tag=1,dt(r)?(t=!0,Yo(e)):t=!1,nr(e,n),mm(e,r,o),Pu(e,r,o,n),Cu(null,e,r,!0,t,n);case 19:return xm(t,e,n);case 22:return ym(t,e,n)}throw Error($(156,e.tag))};function Bm(t,e){return dp(t,e)}function o0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,r){return new o0(t,e,n,r)}function Uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a0(t){if(typeof t=="function")return Uc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oc)return 11;if(t===ac)return 14}return 2}function Dn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uo(t,e,n,r,o,a){var u=2;if(r=t,typeof t=="function")Uc(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Ui:return di(n.children,o,a,e);case sc:u=8,o|=8;break;case Gl:return t=Et(12,n,e,o|2),t.elementType=Gl,t.lanes=a,t;case Kl:return t=Et(13,n,e,o),t.elementType=Kl,t.lanes=a,t;case Ql:return t=Et(19,n,e,o),t.elementType=Ql,t.lanes=a,t;case Kf:return Ta(n,o,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qf:u=10;break e;case Gf:u=9;break e;case oc:u=11;break e;case ac:u=14;break e;case Pn:u=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Et(u,n,e,o),e.elementType=t,e.type=r,e.lanes=a,e}function di(t,e,n,r){return t=Et(7,t,r,e),t.lanes=n,t}function Ta(t,e,n,r){return t=Et(22,t,r,e),t.elementType=Kf,t.lanes=n,t.stateNode={isHidden:!1},t}function Rl(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function jl(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l0(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fc(t,e,n,r,o,a,u,h,d){return t=new l0(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Et(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tc(a),t}function u0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $m(t){if(!t)return $n;t=t._reactInternals;e:{if(yi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(dt(n))return $p(t,n,e)}return e}function Um(t,e,n,r,o,a,u,h,d){return t=Fc(n,r,!0,t,o,a,u,h,d),t.context=$m(null),n=t.current,r=rt(),o=zn(n),a=dn(r,o),a.callback=e??null,jn(n,a,o),t.current.lanes=o,Os(t,o,r),ft(t,r),t}function Ea(t,e,n,r){var o=e.current,a=rt(),u=zn(o);return n=$m(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jn(o,e,u),t!==null&&(Ut(t,o,u,a),jo(t,o,u)),u}function ha(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function af(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wc(t,e){af(t,e),(t=t.alternate)&&af(t,e)}function c0(){return null}var Fm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zc(t){this._internalRoot=t}Ca.prototype.render=Zc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Ea(t,e,null,null)};Ca.prototype.unmount=Zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_i(function(){Ea(null,t,null,null)}),e[pn]=null}};function Ca(t){this._internalRoot=t}Ca.prototype.unstable_scheduleHydration=function(t){if(t){var e=yp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<En.length&&e!==0&&e<En[n].priority;n++);En.splice(n,0,t),n===0&&kp(t)}};function Hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function La(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lf(){}function h0(t,e,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=ha(u);a.call(p)}}var u=Um(e,r,t,0,null,!1,!1,"",lf);return t._reactRootContainer=u,t[pn]=u.current,ws(t.nodeType===8?t.parentNode:t),_i(),u}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=ha(d);h.call(p)}}var d=Fc(t,0,!1,null,null,!1,!1,"",lf);return t._reactRootContainer=d,t[pn]=d.current,ws(t.nodeType===8?t.parentNode:t),_i(function(){Ea(e,d,n,r)}),d}function ba(t,e,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=ha(u);h.call(d)}}Ea(e,u,t,o)}else u=h0(n,e,t,o,r);return ha(u)}_p=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jr(e.pendingLanes);n!==0&&(cc(e,n|1),ft(e,Re()),!(fe&6)&&(cr=Re()+500,Wn()))}break;case 13:_i(function(){var r=mn(t,1);if(r!==null){var o=rt();Ut(r,t,1,o)}}),Wc(t,1)}};hc=function(t){if(t.tag===13){var e=mn(t,134217728);if(e!==null){var n=rt();Ut(e,t,134217728,n)}Wc(t,134217728)}};vp=function(t){if(t.tag===13){var e=zn(t),n=mn(t,e);if(n!==null){var r=rt();Ut(n,t,e,r)}Wc(t,e)}};yp=function(){return ve};wp=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};ou=function(t,e,n){switch(e){case"input":if(Xl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=ya(r);if(!o)throw Error($(90));Jf(r),Xl(r,o)}}}break;case"textarea":Xf(t,n);break;case"select":e=n.value,e!=null&&Yi(t,!!n.multiple,e,!1)}};op=Dc;ap=_i;var d0={usingClientEntryPoint:!1,Events:[Ms,Hi,ya,rp,sp,Dc]},Hr={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f0={bundleType:Hr.bundleType,version:Hr.version,rendererPackageName:Hr.rendererPackageName,rendererConfig:Hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cp(t),t===null?null:t.stateNode},findFiberByHostInstance:Hr.findFiberByHostInstance||c0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{ma=So.inject(f0),Xt=So}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0;yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(e))throw Error($(200));return u0(t,e,null,n)};yt.createRoot=function(t,e){if(!Hc(t))throw Error($(299));var n=!1,r="",o=Fm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Fc(t,1,!1,null,null,n,!1,r,o),t[pn]=e.current,ws(t.nodeType===8?t.parentNode:t),new Zc(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=cp(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return _i(t)};yt.hydrate=function(t,e,n){if(!La(e))throw Error($(200));return ba(null,t,e,!0,n)};yt.hydrateRoot=function(t,e,n){if(!Hc(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=Fm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=Um(e,null,t,1,n??null,o,!1,a,u),t[pn]=e.current,ws(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Ca(e)};yt.render=function(t,e,n){if(!La(e))throw Error($(200));return ba(null,t,e,!1,n)};yt.unmountComponentAtNode=function(t){if(!La(t))throw Error($(40));return t._reactRootContainer?(_i(function(){ba(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1};yt.unstable_batchedUpdates=Dc;yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!La(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return ba(t,e,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function Wm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wm)}catch(t){console.error(t)}}Wm(),Wf.exports=yt;var Zm=Wf.exports,uf=Zm;Vl.createRoot=uf.createRoot,Vl.hydrateRoot=uf.hydrateRoot;const p0="modulepreload",m0=function(t){return"/itinerary-killer/"+t},cf={},Zn=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=m0(a),a in cf)return;cf[a]=!0;const u=a.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!r)for(let g=o.length-1;g>=0;g--){const _=o[g];if(_.href===a&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":p0,u||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),u)return new Promise((g,_)=>{p.addEventListener("load",g),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a})};function Hm(t,e){const n=O.useRef(e);O.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const g0=1;function _0(t){return Object.freeze({__version:g0,map:t})}function v0(t,e){return Object.freeze({...t,...e})}const Vm=O.createContext(null),qm=Vm.Provider;function Vc(){const t=O.useContext(Vm);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function y0(t){function e(n,r){const{instance:o,context:a}=t(n).current;return O.useImperativeHandle(r,()=>o),n.children==null?null:Hl.createElement(qm,{value:a},n.children)}return O.forwardRef(e)}function w0(t){function e(n,r){const[o,a]=O.useState(!1),{instance:u}=t(n,a).current;O.useImperativeHandle(r,()=>u),O.useEffect(function(){o&&u.update()},[u,o,n.children]);const h=u._contentNode;return h?Zm.createPortal(n.children,h):null}return O.forwardRef(e)}function k0(t){function e(n,r){const{instance:o}=t(n).current;return O.useImperativeHandle(r,()=>o),null}return O.forwardRef(e)}function Gm(t,e){const n=O.useRef();O.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function qc(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function S0(t,e){return function(r,o){const a=Vc(),u=t(qc(r,a),a);return Hm(a.map,r.attribution),Gm(u.current,r.eventHandlers),e(u.current,a,r,o),u}}var Bu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(_t,function(n){var r="1.9.4";function o(i){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)i[s]=f[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function u(i,s){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,s,l){var c,f,m,x;return x=function(){c=!1,f&&(m.apply(l,f),f=!1)},m=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(x,s),c=!0)},m}function g(i,s,l){var c=s[1],f=s[0],m=c-f;return i===c&&l?i:((i-f)%m+m)%m+f}function _(){return!1}function v(i,s){if(s===!1)return i;var l=Math.pow(10,s===void 0?6:s);return Math.round(i*l)/l}function E(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function T(i){return E(i).split(/\s+/)}function b(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in s)i.options[l]=s[l];return i.options}function N(i,s,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function y(i,s){return i.replace(S,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var w=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function k(i,s){for(var l=0;l<i.length;l++)if(i[l]===s)return l;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var M=0;function z(i){var s=+new Date,l=Math.max(0,16-(s-M));return M=s+l,window.setTimeout(i,l)}var G=window.requestAnimationFrame||I("RequestAnimationFrame")||z,V=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function re(i,s,l){if(l&&G===z)i.call(s);else return G.call(window,u(i,s))}function ge(i){i&&V.call(window,i)}var ye={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:g,falseFn:_,formatNum:v,trim:E,splitWords:T,setOptions:b,getParamString:N,template:y,isArray:w,indexOf:k,emptyImageUrl:P,requestFn:G,cancelFn:V,requestAnimFrame:re,cancelAnimFrame:ge};function pe(){}pe.extend=function(i){var s=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return i.statics&&o(s,i.statics),i.includes&&(F(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,x=c._initHooks.length;m<x;m++)c._initHooks[m].call(this)}},s},pe.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},pe.mergeOptions=function(i){return o(this.prototype.options,i),this},pe.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function F(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=w(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s);else{i=T(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l)}return this},off:function(i,s,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],s);else{i=T(i);for(var f=arguments.length===1,m=0,x=i.length;m<x;m++)f?this._off(i[m]):this._off(i[m],s,l)}return this},_on:function(i,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,s,l){var c,f,m;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,m=c.length;f<m;f++)c[f].fn=_;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var x=this._listens(i,s,l);if(x!==!1){var A=c[x];this._firingCount&&(A.fn=_,this._events[i]=c=c.slice()),c.splice(x,1)}}},fire:function(i,s,l){if(!this.listens(i,l))return this;var c=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,x=f.length;m<x;m++){var A=f[m],R=A.fn;A.once&&this.off(i,R,A.ctx),R.call(A.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,s,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var x in this._eventParents)if(this._eventParents[x].listens(i,s,l,c))return!0}return!1},_listens:function(i,s,l){if(!this._events)return!1;var c=this._events[i]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,m=c.length;f<m;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s,!0);else{i=T(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var Y=pe.extend(Z);function j(i,s,l){this.x=l?Math.round(i):i,this.y=l?Math.round(s):s}var H=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(i){return this.clone()._add(B(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(B(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new j(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new j(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(i){i=B(i);var s=i.x-this.x,l=i.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(i){return i=B(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=B(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function B(i,s,l){return i instanceof j?i:w(i)?new j(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new j(i.x,i.y):new j(i,s,l)}function Q(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Q.prototype={extend:function(i){var s,l;if(!i)return this;if(i instanceof j||typeof i[0]=="number"||"x"in i)s=l=B(i);else if(i=ie(i),s=i.min,l=i.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,l;return typeof i[0]=="number"||i instanceof j?i=B(i):i=ie(i),i instanceof Q?(s=i.min,l=i.max):s=l=i,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=ie(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>=s.x&&c.x<=l.x,x=f.y>=s.y&&c.y<=l.y;return m&&x},overlaps:function(i){i=ie(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>s.x&&c.x<l.x,x=f.y>s.y&&c.y<l.y;return m&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*i,f=Math.abs(s.y-l.y)*i;return ie(B(s.x-c,s.y-f),B(l.x+c,l.y+f))},equals:function(i){return i?(i=ie(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ie(i,s){return!i||i instanceof Q?i:new Q(i,s)}function de(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}de.prototype={extend:function(i){var s=this._southWest,l=this._northEast,c,f;if(i instanceof oe)c=i,f=i;else if(i instanceof de){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(X(i)||ce(i)):this;return!s&&!l?(this._southWest=new oe(c.lat,c.lng),this._northEast=new oe(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*i,f=Math.abs(s.lng-l.lng)*i;return new de(new oe(s.lat-c,s.lng-f),new oe(l.lat+c,l.lng+f))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof oe||"lat"in i?i=X(i):i=ce(i);var s=this._southWest,l=this._northEast,c,f;return i instanceof de?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(i){i=ce(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>=s.lat&&c.lat<=l.lat,x=f.lng>=s.lng&&c.lng<=l.lng;return m&&x},overlaps:function(i){i=ce(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>s.lat&&c.lat<l.lat,x=f.lng>s.lng&&c.lng<l.lng;return m&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=ce(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(i,s){return i instanceof de?i:new de(i,s)}function oe(i,s,l){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,l!==void 0&&(this.alt=+l)}oe.prototype={equals:function(i,s){if(!i)return!1;i=X(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return Wt.distance(this,X(i))},wrap:function(){return Wt.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,l=s/Math.cos(Math.PI/180*this.lat);return ce([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function X(i,s,l){return i instanceof oe?i:w(i)&&typeof i[0]!="object"?i.length===3?new oe(i[0],i[1],i[2]):i.length===2?new oe(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new oe(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new oe(i,s,l)}var Ke={latLngToPoint:function(i,s){var l=this.projection.project(i),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(i,s){var l=this.scale(s),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new Q(c,f)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new oe(l,s,c)},wrapLatLngBounds:function(i){var s=i.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return i;var m=i.getSouthWest(),x=i.getNorthEast(),A=new oe(m.lat-c,m.lng-f),R=new oe(x.lat-c,x.lng-f);return new de(A,R)}},Wt=o({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var l=Math.PI/180,c=i.lat*l,f=s.lat*l,m=Math.sin((s.lat-i.lat)*l/2),x=Math.sin((s.lng-i.lng)*l/2),A=m*m+Math.cos(c)*Math.cos(f)*x*x,R=2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));return this.R*R}}),vr=6378137,yr={R:vr,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*s);return new j(this.R*i.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var s=180/Math.PI;return new oe((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=vr*Math.PI;return new Q([-i,-i],[i,i])}()};function Vn(i,s,l,c){if(w(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=l,this._d=c}Vn.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new j((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function qn(i,s,l,c){return new Vn(i,s,l,c)}var Zt=o({},Wt,{code:"EPSG:3857",projection:yr,transformation:function(){var i=.5/(Math.PI*yr.R);return qn(i,.5,-i,.5)}()}),ja=o({},Zt,{code:"EPSG:900913"});function ki(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Ds(i,s){var l="",c,f,m,x,A,R;for(c=0,m=i.length;c<m;c++){for(A=i[c],f=0,x=A.length;f<x;f++)R=A[f],l+=(f?"L":"M")+R.x+" "+R.y;l+=s?q.svg?"z":"x":""}return l||"M0 0"}var wr=document.documentElement.style,Gn="ActiveXObject"in window,Si=Gn&&!document.addEventListener,Kn="msLaunchUri"in navigator&&!("documentMode"in document),kr=Ht("webkit"),Sr=Ht("android"),Bs=Ht("android 2")||Ht("android 3"),$s=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Na=Sr&&Ht("Google")&&$s<537&&!("AudioNode"in window),xr=!!window.opera,K=!Kn&&Ht("chrome"),ue=Ht("gecko")&&!kr&&!xr&&!Gn,Ee=!K&&Ht("safari"),_e=Ht("phantom"),Ce="OTransition"in wr,Qe=navigator.platform.indexOf("Win")===0,It=Gn&&"transition"in wr,vn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bs,Qn="MozPerspective"in wr,kg=!window.L_DISABLE_3D&&(It||vn||Qn)&&!Ce&&!_e,Pr=typeof orientation<"u"||Ht("mobile"),Sg=Pr&&kr,xg=Pr&&vn,nh=!window.PointerEvent&&window.MSPointerEvent,ih=!!(window.PointerEvent||nh),rh="ontouchstart"in window||!!window.TouchEvent,Pg=!window.L_NO_TOUCH&&(rh||ih),Tg=Pr&&xr,Eg=Pr&&ue,Cg=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Lg=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",_,s),window.removeEventListener("testPassiveEventSupport",_,s)}catch{}return i}(),bg=function(){return!!document.createElement("canvas").getContext}(),za=!!(document.createElementNS&&ki("svg").createSVGRect),Ig=!!za&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Og=!za&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Ag=navigator.platform.indexOf("Mac")===0,Mg=navigator.platform.indexOf("Linux")===0;function Ht(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var q={ie:Gn,ielt9:Si,edge:Kn,webkit:kr,android:Sr,android23:Bs,androidStock:Na,opera:xr,chrome:K,gecko:ue,safari:Ee,phantom:_e,opera12:Ce,win:Qe,ie3d:It,webkit3d:vn,gecko3d:Qn,any3d:kg,mobile:Pr,mobileWebkit:Sg,mobileWebkit3d:xg,msPointer:nh,pointer:ih,touch:Pg,touchNative:rh,mobileOpera:Tg,mobileGecko:Eg,retina:Cg,passiveEvents:Lg,canvas:bg,svg:za,vml:Og,inlineSvg:Ig,mac:Ag,linux:Mg},sh=q.msPointer?"MSPointerDown":"pointerdown",oh=q.msPointer?"MSPointerMove":"pointermove",ah=q.msPointer?"MSPointerUp":"pointerup",lh=q.msPointer?"MSPointerCancel":"pointercancel",Da={touchstart:sh,touchmove:oh,touchend:ah,touchcancel:lh},uh={touchstart:Bg,touchmove:Us,touchend:Us,touchcancel:Us},xi={},ch=!1;function Rg(i,s,l){return s==="touchstart"&&Dg(),uh[s]?(l=uh[s].bind(this,l),i.addEventListener(Da[s],l,!1),l):(console.warn("wrong event specified:",s),_)}function jg(i,s,l){if(!Da[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Da[s],l,!1)}function Ng(i){xi[i.pointerId]=i}function zg(i){xi[i.pointerId]&&(xi[i.pointerId]=i)}function hh(i){delete xi[i.pointerId]}function Dg(){ch||(document.addEventListener(sh,Ng,!0),document.addEventListener(oh,zg,!0),document.addEventListener(ah,hh,!0),document.addEventListener(lh,hh,!0),ch=!0)}function Us(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in xi)s.touches.push(xi[l]);s.changedTouches=[s],i(s)}}function Bg(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&He(s),Us(i,s)}function $g(i){var s={},l,c;for(c in i)l=i[c],s[c]=l&&l.bind?l.bind(i):l;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Ug=200;function Fg(i,s){i.addEventListener("dblclick",s);var l=0,c;function f(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var x=gh(m);if(!(x.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!x.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var A=Date.now();A-l<=Ug?(c++,c===2&&s($g(m))):c=1,l=A}}}return i.addEventListener("click",f),{dblclick:s,simDblclick:f}}function Wg(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var Ba=Zs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tr=Zs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dh=Tr==="webkitTransition"||Tr==="OTransition"?Tr+"End":"transitionend";function fh(i){return typeof i=="string"?document.getElementById(i):i}function Er(i,s){var l=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[s]:null}return l==="auto"?null:l}function me(i,s,l){var c=document.createElement(i);return c.className=s||"",l&&l.appendChild(c),c}function Le(i){var s=i.parentNode;s&&s.removeChild(i)}function Fs(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Pi(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function Ti(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function $a(i,s){if(i.classList!==void 0)return i.classList.contains(s);var l=Ws(i);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function ne(i,s){if(i.classList!==void 0)for(var l=T(s),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!$a(i,s)){var m=Ws(i);Ua(i,(m?m+" ":"")+s)}}function Me(i,s){i.classList!==void 0?i.classList.remove(s):Ua(i,E((" "+Ws(i)+" ").replace(" "+s+" "," ")))}function Ua(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function Ws(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function kt(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&Zg(i,s)}function Zg(i,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):i.style.filter+=" progid:"+c+"(opacity="+s+")"}function Zs(i){for(var s=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in s)return i[l];return!1}function Jn(i,s,l){var c=s||new j(0,0);i.style[Ba]=(q.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function je(i,s){i._leaflet_pos=s,q.any3d?Jn(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function Yn(i){return i._leaflet_pos||new j(0,0)}var Cr,Lr,Fa;if("onselectstart"in document)Cr=function(){ee(window,"selectstart",He)},Lr=function(){we(window,"selectstart",He)};else{var br=Zs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cr=function(){if(br){var i=document.documentElement.style;Fa=i[br],i[br]="none"}},Lr=function(){br&&(document.documentElement.style[br]=Fa,Fa=void 0)}}function Wa(){ee(window,"dragstart",He)}function Za(){we(window,"dragstart",He)}var Hs,Ha;function Va(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Vs(),Hs=i,Ha=i.style.outlineStyle,i.style.outlineStyle="none",ee(window,"keydown",Vs))}function Vs(){Hs&&(Hs.style.outlineStyle=Ha,Hs=void 0,Ha=void 0,we(window,"keydown",Vs))}function ph(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function qa(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var Hg={__proto__:null,TRANSFORM:Ba,TRANSITION:Tr,TRANSITION_END:dh,get:fh,getStyle:Er,create:me,remove:Le,empty:Fs,toFront:Pi,toBack:Ti,hasClass:$a,addClass:ne,removeClass:Me,setClass:Ua,getClass:Ws,setOpacity:kt,testProp:Zs,setTransform:Jn,setPosition:je,getPosition:Yn,get disableTextSelection(){return Cr},get enableTextSelection(){return Lr},disableImageDrag:Wa,enableImageDrag:Za,preventOutline:Va,restoreOutline:Vs,getSizedParentNode:ph,getScale:qa};function ee(i,s,l,c){if(s&&typeof s=="object")for(var f in s)Ka(i,f,s[f],l);else{s=T(s);for(var m=0,x=s.length;m<x;m++)Ka(i,s[m],l,c)}return this}var Vt="_leaflet_events";function we(i,s,l,c){if(arguments.length===1)mh(i),delete i[Vt];else if(s&&typeof s=="object")for(var f in s)Qa(i,f,s[f],l);else if(s=T(s),arguments.length===2)mh(i,function(A){return k(s,A)!==-1});else for(var m=0,x=s.length;m<x;m++)Qa(i,s[m],l,c);return this}function mh(i,s){for(var l in i[Vt]){var c=l.split(/\d/)[0];(!s||s(c))&&Qa(i,c,null,null,l)}}var Ga={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ka(i,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(i[Vt]&&i[Vt][f])return this;var m=function(A){return l.call(c||i,A||window.event)},x=m;!q.touchNative&&q.pointer&&s.indexOf("touch")===0?m=Rg(i,s,m):q.touch&&s==="dblclick"?m=Fg(i,m):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Ga[s]||s,m,q.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(m=function(A){A=A||window.event,Ya(i,A)&&x(A)},i.addEventListener(Ga[s],m,!1)):i.addEventListener(s,x,!1):i.attachEvent("on"+s,m),i[Vt]=i[Vt]||{},i[Vt][f]=m}function Qa(i,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var m=i[Vt]&&i[Vt][f];if(!m)return this;!q.touchNative&&q.pointer&&s.indexOf("touch")===0?jg(i,s,m):q.touch&&s==="dblclick"?Wg(i,m):"removeEventListener"in i?i.removeEventListener(Ga[s]||s,m,!1):i.detachEvent("on"+s,m),i[Vt][f]=null}function Xn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Ja(i){return Ka(i,"wheel",Xn),this}function Ir(i){return ee(i,"mousedown touchstart dblclick contextmenu",Xn),i._leaflet_disable_click=!0,this}function He(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ei(i){return He(i),Xn(i),this}function gh(i){if(i.composedPath)return i.composedPath();for(var s=[],l=i.target;l;)s.push(l),l=l.parentNode;return s}function _h(i,s){if(!s)return new j(i.clientX,i.clientY);var l=qa(s),c=l.boundingClientRect;return new j((i.clientX-c.left)/l.x-s.clientLeft,(i.clientY-c.top)/l.y-s.clientTop)}var Vg=q.linux&&q.chrome?window.devicePixelRatio:q.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vh(i){return q.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Vg:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ya(i,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var qg={__proto__:null,on:ee,off:we,stopPropagation:Xn,disableScrollPropagation:Ja,disableClickPropagation:Ir,preventDefault:He,stop:ei,getPropagationPath:gh,getMousePosition:_h,getWheelDelta:vh,isExternalTarget:Ya,addListener:ee,removeListener:we},yh=Y.extend({run:function(i,s,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Yn(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=re(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var l=this._startPos.add(this._offset.multiplyBy(i));s&&l._round(),je(this._el,l),this.fire("step")},_complete:function(){ge(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),he=Y.extend({options:{crs:Zt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=b(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(X(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tr&&q.any3d&&!q.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,dh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(X(i),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),m=i instanceof j?i:this.latLngToContainerPoint(i),x=m.subtract(f).multiplyBy(1-1/c),A=this.containerPointToLatLng(f.add(x));return this.setView(A,s,{zoom:l})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():ce(i);var l=B(s.paddingTopLeft||s.padding||[0,0]),c=B(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var m=c.subtract(l).divideBy(2),x=this.project(i.getSouthWest(),f),A=this.project(i.getNorthEast(),f),R=this.unproject(x.add(A).divideBy(2).add(m),f);return{center:R,zoom:f}},fitBounds:function(i,s){if(i=ce(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=B(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new yh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){ne(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,l){if(l=l||{},l.animate===!1||!q.any3d)return this.setView(i,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),m=this.getSize(),x=this._zoom;i=X(i),s=s===void 0?x:s;var A=Math.max(m.x,m.y),R=A*this.getZoomScale(x,s),D=f.distanceTo(c)||1,U=1.42,J=U*U;function se(Ne){var ro=Ne?-1:1,j_=Ne?R:A,N_=R*R-A*A+ro*J*J*D*D,z_=2*j_*J*D,ul=N_/z_,Xh=Math.sqrt(ul*ul+1)-ul,D_=Xh<1e-9?-18:Math.log(Xh);return D_}function tt(Ne){return(Math.exp(Ne)-Math.exp(-Ne))/2}function Fe(Ne){return(Math.exp(Ne)+Math.exp(-Ne))/2}function xt(Ne){return tt(Ne)/Fe(Ne)}var at=se(0);function Oi(Ne){return A*(Fe(at)/Fe(at+U*Ne))}function O_(Ne){return A*(Fe(at)*xt(at+U*Ne)-tt(at))/J}function A_(Ne){return 1-Math.pow(1-Ne,1.5)}var M_=Date.now(),Jh=(se(1)-at)/U,R_=l.duration?1e3*l.duration:1e3*Jh*.8;function Yh(){var Ne=(Date.now()-M_)/R_,ro=A_(Ne)*Jh;Ne<=1?(this._flyToFrame=re(Yh,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(O_(ro)/D)),x),this.getScaleZoom(A/Oi(ro),x),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Yh.call(this),this},flyToBounds:function(i,s){var l=this._getBoundsCenterZoom(i,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(i){return i=ce(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,ce(i));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var l=B(s.paddingTopLeft||s.padding||[0,0]),c=B(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(i),x=this.getPixelBounds(),A=ie([x.min.add(l),x.max.subtract(c)]),R=A.getSize();if(!A.contains(m)){this._enforcingBounds=!0;var D=m.subtract(A.getCenter()),U=A.extend(m).getSize().subtract(R);f.x+=D.x<0?-U.x:U.x,f.y+=D.y<0?-U.y:U.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),m=c.subtract(f);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,i):navigator.geolocation.getCurrentPosition(s,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,l=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,l=i.coords.longitude,c=new oe(s,l),f=c.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var x=this.getBoundsZoom(f);this.setView(c,m.maxZoom?Math.min(x,m.maxZoom):x)}var A={latlng:c,bounds:f,timestamp:i.timestamp};for(var R in i.coords)typeof i.coords[R]=="number"&&(A[R]=i.coords[R]);this.fire("locationfound",A)}},addHandler:function(i,s){if(!s)return this;var l=this[i]=new s(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ge(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Le(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=me("div",l,s||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new de(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,l){i=ce(i),l=B(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),x=i.getNorthWest(),A=i.getSouthEast(),R=this.getSize().subtract(l),D=ie(this.project(A,c),this.project(x,c)).getSize(),U=q.any3d?this.options.zoomSnap:1,J=R.x/D.x,se=R.y/D.y,tt=s?Math.max(J,se):Math.min(J,se);return c=this.getScaleZoom(tt,c),U&&(c=Math.round(c/(U/100))*(U/100),c=s?Math.ceil(c/U)*U:Math.floor(c/U)*U),Math.max(f,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var l=this._getTopLeftPoint(i,s);return new Q(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(i)/l.scale(s)},getScaleZoom:function(i,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(i*l.scale(s));return isNaN(c)?1/0:c},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(X(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(B(i),s)},layerPointToLatLng:function(i){var s=B(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(X(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(X(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ce(i))},distance:function(i,s){return this.options.crs.distance(X(i),X(s))},containerPointToLayerPoint:function(i){return B(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return B(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(B(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(i)))},mouseEventToContainerPoint:function(i){return _h(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=fh(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&q.any3d,ne(i,"leaflet-container"+(q.touch?" leaflet-touch":"")+(q.retina?" leaflet-retina":"")+(q.ielt9?" leaflet-oldie":"")+(q.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Er(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),je(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ne(i.markerPane,"leaflet-zoom-hide"),ne(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,l){je(this._mapPane,new j(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(i,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ge(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){je(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var s=i?we:ee;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),q.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ge(this._resizeRequest),this._resizeRequest=re(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",m=i.target||i.srcElement,x=!1;m;){if(c=this._targets[d(m)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){x=!0;break}if(c&&c.listens(s,!0)&&(f&&!Ya(m,i)||(l.push(c),f))||m===this._container)break;m=m.parentNode}return!l.length&&!x&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var l=i.type;l==="mousedown"&&Va(s),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,l){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,s);if(l){for(var m=[],x=0;x<l.length;x++)l[x].listens(s,!0)&&m.push(l[x]);f=m.concat(f)}if(f.length){s==="contextmenu"&&He(i);var A=f[0],R={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var D=A.getLatLng&&(!A._radius||A._radius<=10);R.containerPoint=D?this.latLngToContainerPoint(A.getLatLng()):this.mouseEventToContainerPoint(i),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=D?A.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(x=0;x<f.length;x++)if(f[x].fire(s,R,!0),R.originalEvent._stopped||f[x].options.bubblingMouseEvents===!1&&k(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return Yn(this._mapPane)||new j(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var l=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var l=this.getSize()._divideBy(2);return this.project(i,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(i,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return ie([this.project(i.getSouthWest(),s)._subtract(c),this.project(i.getNorthWest(),s)._subtract(c),this.project(i.getSouthEast(),s)._subtract(c),this.project(i.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,l){if(!l)return i;var c=this.project(i,s),f=this.getSize().divideBy(2),m=new Q(c.subtract(f),c.add(f)),x=this._getBoundsOffset(m,l,s);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?i:this.unproject(c.add(x),s)},_limitOffset:function(i,s){if(!s)return i;var l=this.getPixelBounds(),c=new Q(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(i,s,l){var c=ie(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(i.min),m=c.max.subtract(i.max),x=this._rebound(f.x,-m.x),A=this._rebound(f.y,-m.y);return new j(x,A)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),l=this.getMaxZoom(),c=q.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(s,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var l=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var i=this._proxy=me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var l=Ba,c=this._proxy.style[l];Jn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();Jn(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(re(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gg(i,s){return new he(i,s)}var Ot=pe.extend({options:{position:"topright"},initialize:function(i){b(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return ne(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Or=function(i){return new Ot(i)};he.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",l=this._controlContainer=me("div",s+"control-container",this._container);function c(f,m){var x=s+f+" "+s+m;i[f+m]=me("div",x,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Le(this._controlCorners[i]);Le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wh=Ot.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,s,l){b(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Ot.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Me(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=me("div",i),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Ir(s),Ja(s);var c=this._section=me("section",i+"-list");l&&(this._map.on("click",this.collapse,this),ee(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=me("a",i+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),ee(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){He(m),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=me("div",i+"-base",c),this._separator=me("div",i+"-separator",c),this._overlaysList=me("div",i+"-overlays",c),s.appendChild(c)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fs(this._baseLayersList),Fs(this._overlaysList),this._layerControlInputs=[];var i,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(d(i.target)),l=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(i,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var s=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),ee(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var m=document.createElement("span");s.appendChild(m),m.appendChild(c),m.appendChild(f);var x=i.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)s=i[m],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)s=i[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,ee(i,"click",He),this.expand();var s=this;setTimeout(function(){we(i,"click",He),s._preventClick=!1})}}),Kg=function(i,s,l){return new wh(i,s,l)},Xa=Ot.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",l=me("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,l,c,f){var m=me("a",l,c);return m.innerHTML=i,m.href="#",m.title=s,m.setAttribute("role","button"),m.setAttribute("aria-label",s),Ir(m),ee(m,"click",ei),ee(m,"click",f,this),ee(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";Me(this._zoomInButton,s),Me(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ne(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ne(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});he.mergeOptions({zoomControl:!0}),he.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xa,this.addControl(this.zoomControl))});var Qg=function(i){return new Xa(i)},kh=Ot.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",l=me("div",s),c=this.options;return this._addScales(c,s+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,l){i.metric&&(this._mScale=me("div",s,l)),i.imperial&&(this._iScale=me("div",s,l))},_update:function(){var i=this._map,s=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/i)},_updateImperial:function(i){var s=i*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(i,s,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),l=i/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),Jg=function(i){return new kh(i)},Yg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',el=Ot.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(q.inlineSvg?Yg+" ":"")+"Leaflet</a>"},initialize:function(i){b(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=me("div","leaflet-control-attribution"),Ir(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});he.mergeOptions({attributionControl:!0}),he.addInitHook(function(){this.options.attributionControl&&new el().addTo(this)});var Xg=function(i){return new el(i)};Ot.Layers=wh,Ot.Zoom=Xa,Ot.Scale=kh,Ot.Attribution=el,Or.layers=Kg,Or.zoom=Qg,Or.scale=Jg,Or.attribution=Xg;var qt=pe.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qt.addTo=function(i,s){return i.addHandler(s,this),this};var e_={Events:Z},Sh=q.touch?"touchstart mousedown":"mousedown",yn=Y.extend({options:{clickTolerance:3},initialize:function(i,s,l,c){b(this,c),this._element=i,this._dragStartTarget=s||i,this._preventOutline=l},enable:function(){this._enabled||(ee(this._dragStartTarget,Sh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yn._dragging===this&&this.finishDrag(!0),we(this._dragStartTarget,Sh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!$a(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){yn._dragging===this&&this.finishDrag();return}if(!(yn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(yn._dragging=this,this._preventOutline&&Va(this._element),Wa(),Cr(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,l=ph(this._element);this._startPoint=new j(s.clientX,s.clientY),this._startPos=Yn(this._element),this._parentScale=qa(l);var c=i.type==="mousedown";ee(document,c?"mousemove":"touchmove",this._onMove,this),ee(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,l=new j(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,He(i),this._moved||(this.fire("dragstart"),this._moved=!0,ne(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),je(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Me(document.body,"leaflet-dragging"),this._lastTarget&&(Me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),we(document,"mousemove touchmove",this._onMove,this),we(document,"mouseup touchend touchcancel",this._onUp,this),Za(),Lr();var s=this._moved&&this._moving;this._moving=!1,yn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function xh(i,s,l){var c,f=[1,4,2,8],m,x,A,R,D,U,J,se;for(m=0,U=i.length;m<U;m++)i[m]._code=ti(i[m],s);for(A=0;A<4;A++){for(J=f[A],c=[],m=0,U=i.length,x=U-1;m<U;x=m++)R=i[m],D=i[x],R._code&J?D._code&J||(se=qs(D,R,J,s,l),se._code=ti(se,s),c.push(se)):(D._code&J&&(se=qs(D,R,J,s,l),se._code=ti(se,s),c.push(se)),c.push(R));i=c}return i}function Ph(i,s){var l,c,f,m,x,A,R,D,U;if(!i||i.length===0)throw new Error("latlngs not passed");St(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var J=X([0,0]),se=ce(i),tt=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());tt<1700&&(J=tl(i));var Fe=i.length,xt=[];for(l=0;l<Fe;l++){var at=X(i[l]);xt.push(s.project(X([at.lat-J.lat,at.lng-J.lng])))}for(A=R=D=0,l=0,c=Fe-1;l<Fe;c=l++)f=xt[l],m=xt[c],x=f.y*m.x-m.y*f.x,R+=(f.x+m.x)*x,D+=(f.y+m.y)*x,A+=x*3;A===0?U=xt[0]:U=[R/A,D/A];var Oi=s.unproject(B(U));return X([Oi.lat+J.lat,Oi.lng+J.lng])}function tl(i){for(var s=0,l=0,c=0,f=0;f<i.length;f++){var m=X(i[f]);s+=m.lat,l+=m.lng,c++}return X([s/c,l/c])}var t_={__proto__:null,clipPolygon:xh,polygonCenter:Ph,centroid:tl};function Th(i,s){if(!s||!i.length)return i.slice();var l=s*s;return i=r_(i,l),i=i_(i,l),i}function Eh(i,s,l){return Math.sqrt(Ar(i,s,l,!0))}function n_(i,s,l){return Ar(i,s,l)}function i_(i,s){var l=i.length,c=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,nl(i,f,s,0,l-1);var m,x=[];for(m=0;m<l;m++)f[m]&&x.push(i[m]);return x}function nl(i,s,l,c,f){var m=0,x,A,R;for(A=c+1;A<=f-1;A++)R=Ar(i[A],i[c],i[f],!0),R>m&&(x=A,m=R);m>l&&(s[x]=1,nl(i,s,l,c,x),nl(i,s,l,x,f))}function r_(i,s){for(var l=[i[0]],c=1,f=0,m=i.length;c<m;c++)s_(i[c],i[f])>s&&(l.push(i[c]),f=c);return f<m-1&&l.push(i[m-1]),l}var Ch;function Lh(i,s,l,c,f){var m=c?Ch:ti(i,l),x=ti(s,l),A,R,D;for(Ch=x;;){if(!(m|x))return[i,s];if(m&x)return!1;A=m||x,R=qs(i,s,A,l,f),D=ti(R,l),A===m?(i=R,m=D):(s=R,x=D)}}function qs(i,s,l,c,f){var m=s.x-i.x,x=s.y-i.y,A=c.min,R=c.max,D,U;return l&8?(D=i.x+m*(R.y-i.y)/x,U=R.y):l&4?(D=i.x+m*(A.y-i.y)/x,U=A.y):l&2?(D=R.x,U=i.y+x*(R.x-i.x)/m):l&1&&(D=A.x,U=i.y+x*(A.x-i.x)/m),new j(D,U,f)}function ti(i,s){var l=0;return i.x<s.min.x?l|=1:i.x>s.max.x&&(l|=2),i.y<s.min.y?l|=4:i.y>s.max.y&&(l|=8),l}function s_(i,s){var l=s.x-i.x,c=s.y-i.y;return l*l+c*c}function Ar(i,s,l,c){var f=s.x,m=s.y,x=l.x-f,A=l.y-m,R=x*x+A*A,D;return R>0&&(D=((i.x-f)*x+(i.y-m)*A)/R,D>1?(f=l.x,m=l.y):D>0&&(f+=x*D,m+=A*D)),x=i.x-f,A=i.y-m,c?x*x+A*A:new j(f,m)}function St(i){return!w(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function bh(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),St(i)}function Ih(i,s){var l,c,f,m,x,A,R,D;if(!i||i.length===0)throw new Error("latlngs not passed");St(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var U=X([0,0]),J=ce(i),se=J.getNorthWest().distanceTo(J.getSouthWest())*J.getNorthEast().distanceTo(J.getNorthWest());se<1700&&(U=tl(i));var tt=i.length,Fe=[];for(l=0;l<tt;l++){var xt=X(i[l]);Fe.push(s.project(X([xt.lat-U.lat,xt.lng-U.lng])))}for(l=0,c=0;l<tt-1;l++)c+=Fe[l].distanceTo(Fe[l+1])/2;if(c===0)D=Fe[0];else for(l=0,m=0;l<tt-1;l++)if(x=Fe[l],A=Fe[l+1],f=x.distanceTo(A),m+=f,m>c){R=(m-c)/f,D=[A.x-R*(A.x-x.x),A.y-R*(A.y-x.y)];break}var at=s.unproject(B(D));return X([at.lat+U.lat,at.lng+U.lng])}var o_={__proto__:null,simplify:Th,pointToSegmentDistance:Eh,closestPointOnSegment:n_,clipSegment:Lh,_getEdgeIntersection:qs,_getBitCode:ti,_sqClosestPointOnSegment:Ar,isFlat:St,_flat:bh,polylineCenter:Ih},il={project:function(i){return new j(i.lng,i.lat)},unproject:function(i){return new oe(i.y,i.x)},bounds:new Q([-180,-90],[180,90])},rl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,l=this.R,c=i.lat*s,f=this.R_MINOR/l,m=Math.sqrt(1-f*f),x=m*Math.sin(c),A=Math.tan(Math.PI/4-c/2)/Math.pow((1-x)/(1+x),m/2);return c=-l*Math.log(Math.max(A,1e-10)),new j(i.lng*s*l,c)},unproject:function(i){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),m=Math.exp(-i.y/l),x=Math.PI/2-2*Math.atan(m),A=0,R=.1,D;A<15&&Math.abs(R)>1e-7;A++)D=f*Math.sin(x),D=Math.pow((1-D)/(1+D),f/2),R=Math.PI/2-2*Math.atan(m*D)-x,x+=R;return new oe(x*s,i.x*s/l)}},a_={__proto__:null,LonLat:il,Mercator:rl,SphericalMercator:yr},l_=o({},Wt,{code:"EPSG:3395",projection:rl,transformation:function(){var i=.5/(Math.PI*rl.R);return qn(i,.5,-i,.5)}()}),Oh=o({},Wt,{code:"EPSG:4326",projection:il,transformation:qn(1/180,1,-1/180,.5)}),u_=o({},Ke,{projection:il,transformation:qn(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var l=s.lng-i.lng,c=s.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Ke.Earth=Wt,Ke.EPSG3395=l_,Ke.EPSG3857=Zt,Ke.EPSG900913=ja,Ke.EPSG4326=Oh,Ke.Simple=u_;var At=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});he.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=d(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},_addLayers:function(i){i=i?w(i)?i:[i]:[];for(var s=0,l=i.length;s<l;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=d(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ei=At.extend({initialize:function(i,s){b(this,s),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),c_=function(i,s){return new Ei(i,s)},tn=Ei.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ei.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ei.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new de;for(var s in this._layers){var l=this._layers[s];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),h_=function(i,s){return new tn(i,s)},Ci=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){b(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=B(c),m=B(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(l.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return q.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function d_(i){return new Ci(i)}var Mr=Ci.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Mr.imagePath!="string"&&(Mr.imagePath=this._detectIconPath()),(this.options.imagePath||Mr.imagePath)+Ci.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(l,c,f){var m=c.exec(l);return m&&m[f]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=me("div","leaflet-default-icon-path",document.body),s=Er(i,"background-image")||Er(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Ah=qt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new yn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ne(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=Yn(s._icon),x=l.getPixelBounds(),A=l.getPixelOrigin(),R=ie(x.min._subtract(A).add(f),x.max._subtract(A).subtract(f));if(!R.contains(m)){var D=B((Math.max(R.max.x,m.x)-R.max.x)/(x.max.x-R.max.x)-(Math.min(R.min.x,m.x)-R.min.x)/(x.min.x-R.min.x),(Math.max(R.max.y,m.y)-R.max.y)/(x.max.y-R.max.y)-(Math.min(R.min.y,m.y)-R.min.y)/(x.min.y-R.min.y)).multiplyBy(c);l.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),je(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=re(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(ge(this._panRequest),this._panRequest=re(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,l=s._shadow,c=Yn(s._icon),f=s._map.layerPointToLatLng(c);l&&je(l,c),s._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){ge(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Gs=At.extend({options:{icon:new Mr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){b(this,s),this._latlng=X(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=X(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),ne(l,s),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(ne(f,s),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&we(this._icon,"focus",this._panOnFocus,this),Le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Le(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&je(this._icon,i),this._shadow&&je(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ah)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ah(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&kt(this._icon,i),this._shadow&&kt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,l=s.iconSize?B(s.iconSize):B(0,0),c=s.iconAnchor?B(s.iconAnchor):B(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function f_(i,s){return new Gs(i,s)}var wn=At.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return b(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ks=wn.extend({options:{fill:!0,radius:10},initialize:function(i,s){b(this,s),this._latlng=X(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=X(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return wn.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,l=this._clickTolerance(),c=[i+l,s+l];this._pxBounds=new Q(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function p_(i,s){return new Ks(i,s)}var sl=Ks.extend({initialize:function(i,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),b(this,s),this._latlng=X(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new de(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:wn.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===Wt.distance){var f=Math.PI/180,m=this._mRadius/Wt.R/f,x=l.project([s+m,i]),A=l.project([s-m,i]),R=x.add(A).divideBy(2),D=l.unproject(R).lat,U=Math.acos((Math.cos(m*f)-Math.sin(s*f)*Math.sin(D*f))/(Math.cos(s*f)*Math.cos(D*f)))/f;(isNaN(U)||U===0)&&(U=m/Math.cos(Math.PI/180*s)),this._point=R.subtract(l.getPixelOrigin()),this._radius=isNaN(U)?0:R.x-l.project([D,i-U]).x,this._radiusY=R.y-x.y}else{var J=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(J).x}this._updateBounds()}});function m_(i,s,l){return new sl(i,s,l)}var nn=wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){b(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,l=null,c=Ar,f,m,x=0,A=this._parts.length;x<A;x++)for(var R=this._parts[x],D=1,U=R.length;D<U;D++){f=R[D-1],m=R[D];var J=c(i,f,m,!0);J<s&&(s=J,l=c(i,f,m))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ih(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=X(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new de,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return St(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],l=St(i),c=0,f=i.length;c<f;c++)l?(s[c]=X(i[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(i[c]);return s},_project:function(){var i=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new j(i,i);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,l){var c=i[0]instanceof oe,f=i.length,m,x;if(c){for(x=[],m=0;m<f;m++)x[m]=this._map.latLngToLayerPoint(i[m]),l.extend(x[m]);s.push(x)}else for(m=0;m<f;m++)this._projectLatlngs(i[m],s,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,m,x,A,R;for(l=0,f=0,m=this._rings.length;l<m;l++)for(R=this._rings[l],c=0,x=R.length;c<x-1;c++)A=Lh(R[c],R[c+1],i,c,!0),A&&(s[f]=s[f]||[],s[f].push(A[0]),(A[1]!==R[c+1]||c===x-2)&&(s[f].push(A[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=Th(i[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var l,c,f,m,x,A,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,m=this._parts.length;l<m;l++)for(A=this._parts[l],c=0,x=A.length,f=x-1;c<x;f=c++)if(!(!s&&c===0)&&Eh(i,A[f],A[c])<=R)return!0;return!1}});function g_(i,s){return new nn(i,s)}nn._flat=bh;var Li=nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ph(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=nn.prototype._convertLatLngs.call(this,i),l=s.length;return l>=2&&s[0]instanceof oe&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(i){nn.prototype._setLatLngs.call(this,i),St(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return St(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,l=new j(s,s);if(i=new Q(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,m;c<f;c++)m=xh(this._rings[c],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,l,c,f,m,x,A,R,D;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,R=this._parts.length;m<R;m++)for(l=this._parts[m],x=0,D=l.length,A=D-1;x<D;A=x++)c=l[x],f=l[A],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||nn.prototype._containsPoint.call(this,i,!0)}});function __(i,s){return new Li(i,s)}var rn=tn.extend({initialize:function(i,s){b(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=w(i)?i:i.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var x=Qs(i,m);return x?(x.feature=Xs(i),x.defaultOptions=x.options,this.resetStyle(x),m.onEachFeature&&m.onEachFeature(i,x),this.addLayer(x)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function Qs(i,s){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],m=s&&s.pointToLayer,x=s&&s.coordsToLatLng||ol,A,R,D,U;if(!c&&!l)return null;switch(l.type){case"Point":return A=x(c),Mh(m,i,A,s);case"MultiPoint":for(D=0,U=c.length;D<U;D++)A=x(c[D]),f.push(Mh(m,i,A,s));return new tn(f);case"LineString":case"MultiLineString":return R=Js(c,l.type==="LineString"?0:1,x),new nn(R,s);case"Polygon":case"MultiPolygon":return R=Js(c,l.type==="Polygon"?1:2,x),new Li(R,s);case"GeometryCollection":for(D=0,U=l.geometries.length;D<U;D++){var J=Qs({geometry:l.geometries[D],type:"Feature",properties:i.properties},s);J&&f.push(J)}return new tn(f);case"FeatureCollection":for(D=0,U=l.features.length;D<U;D++){var se=Qs(l.features[D],s);se&&f.push(se)}return new tn(f);default:throw new Error("Invalid GeoJSON object.")}}function Mh(i,s,l,c){return i?i(s,l):new Gs(l,c&&c.markersInheritOptions&&c)}function ol(i){return new oe(i[1],i[0],i[2])}function Js(i,s,l){for(var c=[],f=0,m=i.length,x;f<m;f++)x=s?Js(i[f],s-1,l):(l||ol)(i[f]),c.push(x);return c}function al(i,s){return i=X(i),i.alt!==void 0?[v(i.lng,s),v(i.lat,s),v(i.alt,s)]:[v(i.lng,s),v(i.lat,s)]}function Ys(i,s,l,c){for(var f=[],m=0,x=i.length;m<x;m++)f.push(s?Ys(i[m],St(i[m])?0:s-1,l,c):al(i[m],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function bi(i,s){return i.feature?o({},i.feature,{geometry:s}):Xs(s)}function Xs(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ll={toGeoJSON:function(i){return bi(this,{type:"Point",coordinates:al(this.getLatLng(),i)})}};Gs.include(ll),sl.include(ll),Ks.include(ll),nn.include({toGeoJSON:function(i){var s=!St(this._latlngs),l=Ys(this._latlngs,s?1:0,!1,i);return bi(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),Li.include({toGeoJSON:function(i){var s=!St(this._latlngs),l=s&&!St(this._latlngs[0]),c=Ys(this._latlngs,l?2:s?1:0,!0,i);return s||(c=[c]),bi(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),Ei.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(i).geometry.coordinates)}),bi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(i);if(l)c.push(m.geometry);else{var x=Xs(m);x.type==="FeatureCollection"?c.push.apply(c,x.features):c.push(x)}}}),l?bi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Rh(i,s){return new rn(i,s)}var v_=Rh,eo=At.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,l){this._url=i,this._bounds=ce(s),b(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Pi(this._image),this},bringToBack:function(){return this._map&&Ti(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ce(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:me("img");if(ne(s,"leaflet-image-layer"),this._zoomAnimated&&ne(s,"leaflet-zoom-animated"),this.options.className&&ne(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Jn(this._image,l,s)},_reset:function(){var i=this._image,s=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();je(i,s.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),y_=function(i,s,l){return new eo(i,s,l)},jh=eo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:me("video");if(ne(s,"leaflet-image-layer"),this._zoomAnimated&&ne(s,"leaflet-zoom-animated"),this.options.className&&ne(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onloadeddata=u(this.fire,this,"load"),i){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var x=me("source");x.src=this._url[m],s.appendChild(x)}}});function w_(i,s,l){return new jh(i,s,l)}var Nh=eo.extend({_initImage:function(){var i=this._image=this._url;ne(i,"leaflet-image-layer"),this._zoomAnimated&&ne(i,"leaflet-zoom-animated"),this.options.className&&ne(i,this.options.className),i.onselectstart=_,i.onmousemove=_}});function k_(i,s,l){return new Nh(i,s,l)}var Gt=At.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof oe||w(i))?(this._latlng=X(i),b(this,s)):(b(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(u(Le,void 0,this._container),200)):Le(this._container),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=X(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pi(this._container),this},bringToBack:function(){return this._map&&Ti(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof tn){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=B(this.options.offset),l=this._getAnchor();this._zoomAnimated?je(this._container,i.add(l)):s=s.add(i).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});he.include({_initOverlay:function(i,s,l,c){var f=s;return f instanceof i||(f=new i(c).setContent(s)),l&&f.setLatLng(l),f}}),At.include({_initOverlay:function(i,s,l,c){var f=l;return f instanceof i?(b(f,c),f._source=this):(f=s&&!c?s:new i(c,this),f.setContent(l)),f}});var to=Gt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Gt.prototype.openOn.call(this,i)},onAdd:function(i){Gt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wn||this._source.on("preclick",Xn))},onRemove:function(i){Gt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wn||this._source.off("preclick",Xn))},getEvents:function(){var i=Gt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=me("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=me("div",i+"-content-wrapper",s);if(this._contentNode=me("div",i+"-content",l),Ir(s),Ja(this._contentNode),ee(s,"contextmenu",Xn),this._tipContainer=me("div",i+"-tip-container",s),this._tip=me("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=me("a",i+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',ee(c,"click",function(f){He(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=i.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",ne(i,m)):Me(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();je(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(Er(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new j(this._containerLeft,-l-this._containerBottom);f._add(Yn(this._container));var m=i.layerPointToContainerPoint(f),x=B(this.options.autoPanPadding),A=B(this.options.autoPanPaddingTopLeft||x),R=B(this.options.autoPanPaddingBottomRight||x),D=i.getSize(),U=0,J=0;m.x+c+R.x>D.x&&(U=m.x+c-D.x+R.x),m.x-U-A.x<0&&(U=m.x-A.x),m.y+l+R.y>D.y&&(J=m.y+l-D.y+R.y),m.y-J-A.y<0&&(J=m.y-A.y),(U||J)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([U,J]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),S_=function(i,s){return new to(i,s)};he.mergeOptions({closePopupOnClick:!0}),he.include({openPopup:function(i,s,l){return this._initOverlay(to,i,s,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),At.include({bindPopup:function(i,s){return this._popup=this._initOverlay(to,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof tn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ei(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var no=Gt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Gt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Gt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Gt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=me("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,l,c=this._map,f=this._container,m=c.latLngToContainerPoint(c.getCenter()),x=c.layerPointToContainerPoint(i),A=this.options.direction,R=f.offsetWidth,D=f.offsetHeight,U=B(this.options.offset),J=this._getAnchor();A==="top"?(s=R/2,l=D):A==="bottom"?(s=R/2,l=0):A==="center"?(s=R/2,l=D/2):A==="right"?(s=0,l=D/2):A==="left"?(s=R,l=D/2):x.x<m.x?(A="right",s=0,l=D/2):(A="left",s=R+(U.x+J.x)*2,l=D/2),i=i.subtract(B(s,l,!0)).add(U).add(J),Me(f,"leaflet-tooltip-right"),Me(f,"leaflet-tooltip-left"),Me(f,"leaflet-tooltip-top"),Me(f,"leaflet-tooltip-bottom"),ne(f,"leaflet-tooltip-"+A),je(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&kt(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),x_=function(i,s){return new no(i,s)};he.include({openTooltip:function(i,s,l){return this._initOverlay(no,i,s,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),At.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(no,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof tn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(ee(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),ee(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var zh=Ci.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Fs(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=B(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function P_(i){return new zh(i)}Ci.Default=Mr;var Rr=At.extend({options:{tileSize:256,opacity:1,updateWhenIdle:q.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){b(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Le(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof j?i:new j(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,l=-i(-1/0,1/0),c=0,f=s.length,m;c<f;c++)m=s[c].style.zIndex,s[c]!==this._container&&m&&(l=i(l,+m));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!q.ielt9){kt(this._container,this.options.opacity);var i=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var m=Math.min(1,(i-f.loaded)/200);kt(f.el,m),m<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(ge(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=s-Math.abs(i-l),this._onUpdateLevel(l)):(Le(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=me("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),_(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var i,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Le(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,l,c){var f=Math.floor(i/2),m=Math.floor(s/2),x=l-1,A=new j(+f,+m);A.z=+x;var R=this._tileCoordsToKey(A),D=this._tiles[R];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),x>c?this._retainParent(f,m,x,c):!1)},_retainChildren:function(i,s,l,c){for(var f=2*i;f<2*i+2;f++)for(var m=2*s;m<2*s+2;m++){var x=new j(f,m);x.z=l+1;var A=this._tileCoordsToKey(x),R=this._tiles[A];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);l+1<c&&this._retainChildren(f,m,l+1,c)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,s)},_setZoomTransform:function(i,s,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();q.any3d?Jn(i.el,f,c):je(i.el,f)},_resetGrid:function(){var i=this._map,s=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(i,this._tileZoom).floor(),m=s.getSize().divideBy(c*2);return new Q(f.subtract(m),f.add(m))},_update:function(i){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),m=f.getCenter(),x=[],A=this.options.keepBuffer,R=new Q(f.getBottomLeft().subtract([A,-A]),f.getTopRight().add([A,-A]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var U=this._tiles[D].coords;(U.z!==this._tileZoom||!R.contains(new j(U.x,U.y)))&&(this._tiles[D].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var J=f.min.y;J<=f.max.y;J++)for(var se=f.min.x;se<=f.max.x;se++){var tt=new j(se,J);if(tt.z=this._tileZoom,!!this._isValidTile(tt)){var Fe=this._tiles[this._tileCoordsToKey(tt)];Fe?Fe.current=!0:x.push(tt)}}if(x.sort(function(at,Oi){return at.distanceTo(m)-Oi.distanceTo(m)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xt=document.createDocumentFragment();for(se=0;se<x.length;se++)this._addTile(x[se],xt);this._level.el.appendChild(xt)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!s.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return ce(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),m=s.unproject(c,i.z),x=s.unproject(f,i.z);return[m,x]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),l=new de(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),l=new j(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(i){var s=this._tiles[i];s&&(Le(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ne(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=_,i.onmousemove=_,q.ielt9&&this.options.opacity<1&&kt(i,this.options.opacity)},_addTile:function(i,s){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&re(u(this._tileReady,this,i,null,f)),je(f,l),this._tiles[c]={el:f,coords:i,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(kt(l.el,0),ge(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(ne(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),q.ielt9||!this._map._fadeAnimated?re(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new j(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new Q(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function T_(i){return new Rr(i)}var Ii=Rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=b(this,s),s.detectRetina&&q.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var l=document.createElement("img");return ee(l,"load",u(this._tileOnLoad,this,s,l)),ee(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var s={r:q.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=l),s["-y"]=l}return y(this._url,o(s,this.options))},_tileOnLoad:function(i,s){q.ielt9?setTimeout(u(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),i(l,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=s-i),i+c},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=_,s.onerror=_,!s.complete)){s.src=P;var l=this._tiles[i].coords;Le(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",P),Rr.prototype._removeTile.call(this,i)},_tileReady:function(i,s,l){if(!(!this._map||l&&l.getAttribute("src")===P))return Rr.prototype._tileReady.call(this,i,s,l)}});function Dh(i,s){return new Ii(i,s)}var Bh=Ii.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=b(this,s);var f=s.detectRetina&&q.retina?2:1,m=this.getTileSize();l.width=m.x*f,l.height=m.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Ii.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),l=this._crs,c=ie(l.project(s[0]),l.project(s[1])),f=c.min,m=c.max,x=(this._wmsVersion>=1.3&&this._crs===Oh?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),A=Ii.prototype.getTileUrl.call(this,i);return A+N(this.wmsParams,A,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function E_(i,s){return new Bh(i,s)}Ii.WMS=Bh,Dh.wms=E_;var sn=At.extend({options:{padding:.1},initialize:function(i){b(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),m=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,s));q.any3d?Jn(this._container,m,l):je(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new Q(l,l.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$h=sn.extend({options:{tolerance:0},getEvents:function(){var i=sn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){sn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");ee(i,"mousemove",this._onMouseMove,this),ee(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){ge(this._redrawRequest),delete this._ctx,Le(this._container),we(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){sn.prototype._update.call(this);var i=this._bounds,s=this._container,l=i.getSize(),c=q.retina?2:1;je(s,i.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",q.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){sn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||re(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var l,c,f,m,x=i._parts,A=x.length,R=this._ctx;if(A){for(R.beginPath(),l=0;l<A;l++){for(c=0,f=x[l].length;c<f;c++)m=x[l][c],R[c?"lineTo":"moveTo"](m.x,m.y);s&&R.closePath()}this._fillStroke(R,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,s){var l=s.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(Me(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(ne(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,l){this._map._fireDOMEvent(s,l||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function Uh(i){return q.canvas?new $h(i):null}var jr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),C_={_initContainer:function(){this._container=me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(sn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=jr("shape");ne(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=jr("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;Le(s),i.removeInteractiveTarget(s),delete this._layers[d(i)]},_updateStyle:function(i){var s=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=i._stroke=jr("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=w(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),i._stroke=null),c.fill?(l||(l=i._fill=jr("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){Pi(i._container)},_bringToBack:function(i){Ti(i._container)}},io=q.vml?jr:ki,Nr=sn.extend({_initContainer:function(){this._container=io("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=io("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Le(this._container),we(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){sn.prototype._update.call(this);var i=this._bounds,s=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),je(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=io("path");i.options.className&&ne(s,i.options.className),i.options.interactive&&ne(s,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Le(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,l=i.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,Ds(i._parts,s))},_updateCircle:function(i){var s=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,m)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){Pi(i._path)},_bringToBack:function(i){Ti(i._path)}});q.vml&&Nr.include(C_);function Fh(i){return q.svg||q.vml?new Nr(i):null}he.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&Uh(i)||Fh(i)}});var Wh=Li.extend({initialize:function(i,s){Li.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ce(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function L_(i,s){return new Wh(i,s)}Nr.create=io,Nr.pointsToPath=Ds,rn.geometryToLayer=Qs,rn.coordsToLatLng=ol,rn.coordsToLatLngs=Js,rn.latLngToCoords=al,rn.latLngsToCoords=Ys,rn.getFeature=bi,rn.asFeature=Xs,he.mergeOptions({boxZoom:!0});var Zh=qt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){we(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cr(),Wa(),this._startPoint=this._map.mouseEventToContainerPoint(i),ee(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=me("div","leaflet-zoom-box",this._container),ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new Q(this._point,this._startPoint),l=s.getSize();je(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Le(this._box),Me(this._container,"leaflet-crosshair")),Lr(),Za(),we(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new de(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});he.addInitHook("addHandler","boxZoom",Zh),he.mergeOptions({doubleClickZoom:!0});var Hh=qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(i.containerPoint,f)}});he.addInitHook("addHandler","doubleClickZoom",Hh),he.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vh=qt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new yn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Me(this._map._container,"leaflet-grab"),Me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ce(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%i+s-l,m=(c+s+l)%i-s-l,x=Math.abs(f+l)<Math.abs(m+l)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(i){var s=this._map,l=s.options,c=!l.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,x=l.easeLinearity,A=f.multiplyBy(x/m),R=A.distanceTo([0,0]),D=Math.min(l.inertiaMaxSpeed,R),U=A.multiplyBy(D/R),J=D/(l.inertiaDeceleration*x),se=U.multiplyBy(-J/2).round();!se.x&&!se.y?s.fire("moveend"):(se=s._limitOffset(se,s.options.maxBounds),re(function(){s.panBy(se,{duration:J,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});he.addInitHook("addHandler","dragging",Vh),he.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qh=qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),ee(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),we(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,l=i.scrollTop||s.scrollTop,c=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-i},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){we(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],i.shiftKey&&(c=B(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(B(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;ei(i)}}});he.addInitHook("addHandler","keyboard",qh),he.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Gh=qt.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){we(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=vh(i),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),ei(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=l?Math.ceil(f/l)*l:f,x=i._limitZoom(s+(this._delta>0?m:-m))-s;this._delta=0,this._startTime=null,x&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+x):i.setZoomAround(this._lastMousePos,s+x))}});he.addInitHook("addHandler","scrollWheelZoom",Gh);var b_=600;he.mergeOptions({tapHold:q.touchNative&&q.safari&&q.mobile,tapTolerance:15});var Kh=qt.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){we(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new j(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",He),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),b_),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){we(document,"touchend",He),we(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),we(document,"touchend touchcancel contextmenu",this._cancel,this),we(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new j(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});he.addInitHook("addHandler","tapHold",Kh),he.mergeOptions({touchZoom:q.touch,bounceAtZoomLimits:!0});var Qh=qt.extend({addHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),we(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),He(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ge(this._animRequest);var x=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=re(x,this,!0),He(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ge(this._animRequest),we(document,"touchmove",this._onTouchMove,this),we(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});he.addInitHook("addHandler","touchZoom",Qh),he.BoxZoom=Zh,he.DoubleClickZoom=Hh,he.Drag=Vh,he.Keyboard=qh,he.ScrollWheelZoom=Gh,he.TapHold=Kh,he.TouchZoom=Qh,n.Bounds=Q,n.Browser=q,n.CRS=Ke,n.Canvas=$h,n.Circle=sl,n.CircleMarker=Ks,n.Class=pe,n.Control=Ot,n.DivIcon=zh,n.DivOverlay=Gt,n.DomEvent=qg,n.DomUtil=Hg,n.Draggable=yn,n.Evented=Y,n.FeatureGroup=tn,n.GeoJSON=rn,n.GridLayer=Rr,n.Handler=qt,n.Icon=Ci,n.ImageOverlay=eo,n.LatLng=oe,n.LatLngBounds=de,n.Layer=At,n.LayerGroup=Ei,n.LineUtil=o_,n.Map=he,n.Marker=Gs,n.Mixin=e_,n.Path=wn,n.Point=j,n.PolyUtil=t_,n.Polygon=Li,n.Polyline=nn,n.Popup=to,n.PosAnimation=yh,n.Projection=a_,n.Rectangle=Wh,n.Renderer=sn,n.SVG=Nr,n.SVGOverlay=Nh,n.TileLayer=Ii,n.Tooltip=no,n.Transformation=Vn,n.Util=ye,n.VideoOverlay=jh,n.bind=u,n.bounds=ie,n.canvas=Uh,n.circle=m_,n.circleMarker=p_,n.control=Or,n.divIcon=P_,n.extend=o,n.featureGroup=h_,n.geoJSON=Rh,n.geoJson=v_,n.gridLayer=T_,n.icon=d_,n.imageOverlay=y_,n.latLng=X,n.latLngBounds=ce,n.layerGroup=c_,n.map=Gg,n.marker=f_,n.point=B,n.polygon=__,n.polyline=g_,n.popup=S_,n.rectangle=L_,n.setOptions=b,n.stamp=d,n.svg=Fh,n.svgOverlay=k_,n.tileLayer=Dh,n.tooltip=x_,n.transformation=qn,n.version=r,n.videoOverlay=w_;var I_=window.L;n.noConflict=function(){return window.L=I_,this},window.L=n})})(Bu,Bu.exports);var hr=Bu.exports;function Gc(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Kc(t,e){return e==null?function(r,o){const a=O.useRef();return a.current||(a.current=t(r,o)),a}:function(r,o){const a=O.useRef();a.current||(a.current=t(r,o));const u=O.useRef(r),{instance:h}=a.current;return O.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,o]),a}}function x0(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Km(t){return function(n){const r=Vc(),o=t(qc(n,r),r);return Hm(r.map,n.attribution),Gm(o.current,n.eventHandlers),x0(o.current,r),o}}function P0(t,e){const n=Kc(t,e),r=Km(n);return y0(r)}function T0(t,e){const n=Kc(t),r=S0(n,e);return w0(r)}function E0(t,e){const n=Kc(t,e),r=Km(n);return k0(r)}function C0(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function Qm(){return Vc().map}function L0(t){const e=Qm();return O.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function $u(){return $u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(this,arguments)}function b0({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...g},_){const[v]=O.useState({className:o,id:a,style:h}),[E,T]=O.useState(null);O.useImperativeHandle(_,()=>(E==null?void 0:E.map)??null,[E]);const b=O.useCallback(S=>{if(S!==null&&E===null){const y=new hr.Map(S,g);n!=null&&p!=null?y.setView(n,p):t!=null&&y.fitBounds(t,e),d!=null&&y.whenReady(d),T(_0(y))}},[]);O.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const N=E?Hl.createElement(qm,{value:E},r):u??null;return Hl.createElement("div",$u({},v,{ref:b}),N)}const I0=O.forwardRef(b0),hf=P0(function({position:e,...n},r){const o=new hr.Marker(e,n);return Gc(o,v0(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),df=T0(function(e,n){const r=new hr.Popup(e,n.overlayContainer);return Gc(r,n)},function(e,n,{position:r},o){O.useEffect(function(){const{instance:u}=e;function h(p){p.popup===u&&(u.update(),o(!0))}function d(p){p.popup===u&&o(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var g;n.map.off({popupopen:h,popupclose:d}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(u)}},[e,n,o,r])}),O0=E0(function({url:e,...n},r){const o=new hr.TileLayer(e,qc(n,r));return Gc(o,r)},function(e,n,r){C0(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),js=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:d,...p},g)=>O.createElement("svg",{ref:g,...A0,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${M0(t)}`,h].join(" "),...p},[...e.map(([_,v])=>O.createElement(_,v)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=js("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=js("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=js("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=js("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=js("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function N0({expectedPassword:t,onAuthenticated:e}){const[n,r]=O.useState(""),[o,a]=O.useState(null),u=O.useMemo(()=>typeof t=="string"&&t.length>0,[t]),h=()=>{if(a(null),!u){a("Site is currently unavailable. Please contact administrator.");return}if(n===t){e();return}a("Incorrect password")};return C.jsx("div",{className:"app",style:{display:"grid",placeItems:"center",minHeight:"100vh",padding:16},children:C.jsxs("div",{className:"modal",style:{maxWidth:420,width:"100%",background:"white",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.15)",padding:20},children:[C.jsxs("div",{className:"modal-header",style:{marginBottom:12},children:[C.jsx("h2",{style:{margin:0},children:"Enter Password"}),C.jsx("p",{style:{margin:"8px 0 0 0",color:"#666"},children:"This site is password protected."})]}),C.jsxs("div",{className:"modal-body",children:[C.jsx("input",{type:"password",value:n,onChange:d=>r(d.target.value),onKeyDown:d=>{d.key==="Enter"&&h()},placeholder:"Password","aria-label":"Password",style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #ddd"}}),o&&C.jsx("div",{style:{color:"red",marginTop:8},children:o})]}),C.jsx("div",{className:"modal-footer",style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:C.jsx("button",{onClick:h,children:"Unlock"})})]})})}function z0({reason:t}){return C.jsx("div",{className:"app",style:{display:"grid",placeItems:"center",minHeight:"100vh",padding:16},children:C.jsxs("div",{className:"modal",style:{maxWidth:420,width:"100%",background:"white",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.15)",padding:20},children:[C.jsxs("div",{className:"modal-header",style:{marginBottom:12},children:[C.jsx("h2",{style:{margin:0,color:"#dc2626"},children:" Site Unavailable"}),C.jsx("p",{style:{margin:"8px 0 0 0",color:"#666"},children:"Required secrets are not configured."})]}),C.jsx("div",{className:"modal-body",children:C.jsx("div",{style:{padding:"16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#991b1b"},children:C.jsxs("p",{style:{margin:0},children:["The site is locked until Cloudflare Worker secrets are set.",t?` (${t})`:""]})})}),C.jsx("div",{className:"modal-footer",style:{display:"flex",justifyContent:"center",marginTop:12},children:C.jsx("button",{onClick:()=>window.location.reload(),style:{background:"#3b82f6",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer"},children:"Refresh"})})]})})}function D0(){const[t,e]=O.useState({status:"checking"});return O.useEffect(()=>{let n=!1;return(async()=>{try{if(/\.github\.io$/.test(window.location.host)){n||e({status:"ok"});return}let a={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_URL;if(!a)try{const d=await fetch("/itinerary-killer/runtime-config.json",{cache:"no-store"});if(d.ok){const p=await d.json();a=(p==null?void 0:p.VITE_GOOGLE_PROXY_URL)||a}}catch{}if(!a){n||e({status:"ok"});return}const u=new URL(a);u.pathname="/verify";let h=!1;try{const d=await fetch(u.toString(),{method:"GET",mode:"cors"}),p=d.headers.get("X-Password-Secret"),g=await d.json().catch(()=>({}));h=p==="present"||(g==null?void 0:g.sitePassword)===!0}catch{h=!0}if(n)return;e(h?{status:"ok"}:{status:"locked",reason:"Required secrets missing"})}catch{n||e({status:"ok"})}})(),()=>{n=!0}},[]),t}const B0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zn(()=>Promise.resolve().then(()=>gr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Qc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class $0 extends Qc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mf extends Qc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gf extends Qc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Uu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Uu||(Uu={}));var U0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class F0{constructor(e,{headers:n={},customFetch:r,region:o=Uu.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=B0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return U0(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:u}=n;let h={},{region:d}=n;d||(d=this.region);const p=new URL(`${this.url}/${e}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const _=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:g}).catch(b=>{throw new $0(b)}),v=_.headers.get("x-relay-error");if(v&&v==="true")throw new mf(_);if(!_.ok)throw new gf(_);let E=((r=_.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield _.json():E==="application/octet-stream"?T=yield _.blob():E==="text/event-stream"?T=_:E==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(o){return{data:null,error:o,response:o instanceof gf||o instanceof mf?o.context:void 0}}})}}var ut={},Jc={},Ia={},Ns={},Oa={},Aa={},W0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dr=W0();const Z0=dr.fetch,Jm=dr.fetch.bind(dr),Ym=dr.Headers,H0=dr.Request,V0=dr.Response,gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ym,Request:H0,Response:V0,default:Jm,fetch:Z0},Symbol.toStringTag,{value:"Module"})),q0=F_(gr);var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});let G0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ma.default=G0;var Xm=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Aa,"__esModule",{value:!0});const K0=Xm(q0),Q0=Xm(Ma);let J0=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=K0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,h,d,p;let g=null,_=null,v=null,E=a.status,T=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?_=y:_=JSON.parse(y))}const N=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=a.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");N&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(g={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,v=null,E=406,T="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const N=await a.text();try{g=JSON.parse(N),Array.isArray(g)&&a.status===404&&(_=[],g=null,E=200,T="OK")}catch{a.status===404&&N===""?(E=204,T="No Content"):g={message:N}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,E=200,T="OK"),g&&this.shouldThrowOnError)throw new Q0.default(g)}return{error:g,data:_,count:v,status:E,statusText:T}});return this.shouldThrowOnError||(o=o.catch(a=>{var u,h,d;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Aa.default=J0;var Y0=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oa,"__esModule",{value:!0});const X0=Y0(Aa);let ew=class extends X0.default{select(e){let n=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:u="text"}={}){var h;const d=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Oa.default=ew;var tw=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ns,"__esModule",{value:!0});const nw=tw(Oa);let iw=class extends nw.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ns.default=iw;var rw=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ia,"__esModule",{value:!0});const Vr=rw(Ns);let sw=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),r&&this.headers.append("Prefer",`count=${r}`),new Vr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new Vr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Vr.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:n}={}){var r;const o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Vr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ia.default=sw;var eg=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jc,"__esModule",{value:!0});const ow=eg(Ia),aw=eg(Ns);let lw=class tg{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){const n=new URL(`${this.url}/${e}`);return new ow.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new tg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:a}={}){var u;let h;const d=new URL(`${this.url}/rpc/${e}`);let p;r||o?(h=r?"HEAD":"GET",Object.entries(n).filter(([_,v])=>v!==void 0).map(([_,v])=>[_,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([_,v])=>{d.searchParams.append(_,v)})):(h="POST",p=n);const g=new Headers(this.headers);return a&&g.set("Prefer",`count=${a}`),new aw.default({method:h,url:d,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};Jc.default=lw;var _r=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ut,"__esModule",{value:!0});ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const ng=_r(Jc);ut.PostgrestClient=ng.default;const ig=_r(Ia);ut.PostgrestQueryBuilder=ig.default;const rg=_r(Ns);ut.PostgrestFilterBuilder=rg.default;const sg=_r(Oa);ut.PostgrestTransformBuilder=sg.default;const og=_r(Aa);ut.PostgrestBuilder=og.default;const ag=_r(Ma);ut.PostgrestError=ag.default;var uw=ut.default={PostgrestClient:ng.default,PostgrestQueryBuilder:ig.default,PostgrestFilterBuilder:rg.default,PostgrestTransformBuilder:sg.default,PostgrestBuilder:og.default,PostgrestError:ag.default};const{PostgrestClient:cw,PostgrestQueryBuilder:w1,PostgrestFilterBuilder:k1,PostgrestTransformBuilder:S1,PostgrestBuilder:x1,PostgrestError:P1}=uw;class hw{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const dw="2.15.4",fw=`realtime-js/${dw}`,pw="1.0.0",Fu=1e4,mw=1e3,gw=100;var us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(us||(us={}));var De;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(De||(De={}));var Dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Dt||(Dt={}));var Wu;(function(t){t.websocket="websocket"})(Wu||(Wu={}));var ai;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ai||(ai={}));class _w{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+o));u=u+o;const d=r.decode(e.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:d,payload:p}}}class lg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ke||(ke={}));const _f=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,u)=>(a[u]=vw(u,t,e,o),a),{})},vw=(t,e,n,r)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!r.includes(a)?ug(a,u):Zu(u)},ug=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Sw(e,n)}switch(t){case ke.bool:return yw(e);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return ww(e);case ke.json:case ke.jsonb:return kw(e);case ke.timestamp:return xw(e);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Zu(e);default:return Zu(e)}},Zu=t=>t,yw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ww=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},kw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Sw=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>ug(e,h))}return t},xw=t=>typeof t=="string"?t.replace(" ","T"):t,cg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Nl{constructor(e,n,r={},o=Fu){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vf||(vf={}));class cs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cs.syncState(this.state,o,a,u),this.pendingDiffs.forEach(d=>{this.state=cs.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=cs.syncDiff(this.state,o,a,u),h())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const a=this.cloneDeep(e),u=this.transformState(n),h={},d={};return this.map(a,(p,g)=>{u[p]||(d[p]=g)}),this.map(u,(p,g)=>{const _=a[p];if(_){const v=g.map(N=>N.presence_ref),E=_.map(N=>N.presence_ref),T=g.filter(N=>E.indexOf(N.presence_ref)<0),b=_.filter(N=>v.indexOf(N.presence_ref)<0);T.length>0&&(h[p]=T),b.length>0&&(d[p]=b)}else h[p]=g}),this.syncDiff(a,{joins:h,leaves:d},r,o)}static syncDiff(e,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(h,d)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(d),g.length>0){const _=e[h].map(E=>E.presence_ref),v=g.filter(E=>_.indexOf(E.presence_ref)<0);e[h].unshift(...v)}r(h,g,d)}),this.map(u,(h,d)=>{let p=e[h];if(!p)return;const g=d.map(_=>_.presence_ref);p=p.filter(_=>g.indexOf(_.presence_ref)<0),e[h]=p,o(h,p,d),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yf||(yf={}));var hs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hs||(hs={}));var ln;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ln||(ln={}));class Yc{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nl(this,Dt.join,this.params,this.timeout),this.rejoinTimer=new lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new cs(this),this.broadcastEndpointURL=cg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[hs.PRESENCE]&&this.bindings[hs.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,_={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(ln.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(ln.CLOSED)),this.updateJoinPayload(Object.assign({config:v},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var T;if(this.socket.setAuth(),E===void 0){e==null||e(ln.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,N=(T=b==null?void 0:b.length)!==null&&T!==void 0?T:0,S=[];for(let y=0;y<N;y++){const w=b[y],{filter:{event:k,schema:P,table:I,filter:M}}=w,z=E&&E[y];if(z&&z.event===k&&z.schema===P&&z.table===I&&z.filter===M)S.push(Object.assign(Object.assign({},w),{id:z.id}));else{this.unsubscribe(),this.state=De.errored,e==null||e(ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(ln.SUBSCRIBED);return}}).receive("error",E=>{this.state=De.errored,e==null||e(ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===De.joined&&e===hs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,d;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Nl(this,Dt.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Nl(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>gw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,a;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:p,join:g}=Dt;if(r&&[h,d,p,g].indexOf(u)>=0&&r!==this._joinRef())return;let v=this._onMessage(u,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var T,b,N;return((T=E.filter)===null||T===void 0?void 0:T.event)==="*"||((N=(b=E.filter)===null||b===void 0?void 0:b.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(E=>E.callback(v,r)):(a=this.bindings[u])===null||a===void 0||a.filter(E=>{var T,b,N,S,y,w;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in E){const k=E.id,P=(T=E.filter)===null||T===void 0?void 0:T.event;return k&&((b=n.ids)===null||b===void 0?void 0:b.includes(k))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const k=(y=(S=E==null?void 0:E.filter)===null||S===void 0?void 0:S.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===u}).map(E=>{if(typeof v=="object"&&"ids"in v){const T=v.data,{schema:b,table:N,commit_timestamp:S,type:y,errors:w}=T;v=Object.assign(Object.assign({},{schema:b,table:N,commit_timestamp:S,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(T))}E.callback(v,r)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Yc.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dt.close,{},e)}_onError(e){this._on(Dt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_f(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_f(e.columns,e.old_record)),n}}const zl=()=>{},Po={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pw=[1e3,2e3,5e3,1e4],Tw=1e4,Ew=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cw{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fu,this.transport=null,this.heartbeatIntervalMs=Po.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zl,this.ref=0,this.reconnectTimer=null,this.logger=zl,this.conn=null,this.sendBuffer=[],this.serializer=new _w,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...u)=>Zn(()=>Promise.resolve().then(()=>gr),void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Wu.websocket}`,this.httpEndpoint=cg(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pw}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return ai.Connecting;case us.open:return ai.Open;case us.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new Yc(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:o,ref:a}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(mw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Po.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:u}=n,h=u?`(${u})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${o} ${h}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ew],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:fw};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Dt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Po.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,a,u,h,d,p,g;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Fu,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Po.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:zl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:_=>Pw[_-1]||Tw,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(_,v)=>v(JSON.stringify(_)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Xc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Lw extends Xc{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hu extends Xc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var bw=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const hg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zn(()=>Promise.resolve().then(()=>gr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Iw=()=>bw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zn(()=>Promise.resolve().then(()=>gr),void 0)).Response:Response}),Vu=t=>{if(Array.isArray(t))return t.map(n=>Vu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Vu(r)}),e},Ow=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var wi=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const Dl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Aw=(t,e,n)=>wi(void 0,void 0,void 0,function*(){const r=yield Iw();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new Lw(Dl(o),a,u))}).catch(o=>{e(new Hu(Dl(o),o))}):e(new Hu(Dl(t),t))}),Mw=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(Ow(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function zs(t,e,n,r,o,a){return wi(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,Mw(e,r,o,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>Aw(d,h,r))})})}function da(t,e,n,r){return wi(this,void 0,void 0,function*(){return zs(t,"GET",e,n,r)})}function Jt(t,e,n,r,o){return wi(this,void 0,void 0,function*(){return zs(t,"POST",e,r,o,n)})}function qu(t,e,n,r,o){return wi(this,void 0,void 0,function*(){return zs(t,"PUT",e,r,o,n)})}function Rw(t,e,n,r){return wi(this,void 0,void 0,function*(){return zs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dg(t,e,n,r,o){return wi(this,void 0,void 0,function*(){return zs(t,"DELETE",e,r,o,n)})}var nt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const jw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nw{constructor(e,n={},r,o){this.url=e,this.headers=n,this.bucketId=r,this.fetch=hg(o)}uploadOrUpdate(e,n,r,o){return nt(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},wf),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),_=yield(e=="PUT"?qu:Jt)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}upload(e,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return nt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let d;const p=Object.assign({upsert:wf.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const _=yield qu(this.fetch,h.toString(),d,{headers:g});return{data:{path:a,fullPath:_.Key},error:null}}catch(d){if(Be(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return nt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Jt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new Xc("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}update(e,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return nt(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}copy(e,n,r){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return nt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Jt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return nt(this,void 0,void 0,function*(){try{const o=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}download(e,n){return nt(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield da(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Be(h))return{data:null,error:h};throw h}})}info(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield da(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vu(r),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}exists(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Rw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Be(r)&&r instanceof Hu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return nt(this,void 0,void 0,function*(){try{return{data:yield dg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}list(e,n,r){return nt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},jw),n),{prefix:e||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}listV2(e,n){return nt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const zw="2.11.0",Dw={"X-Client-Info":`storage-js/${zw}`};var Mi=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class Bw{constructor(e,n={},r,o){const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Dw),n),this.fetch=hg(r)}listBuckets(){return Mi(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Be(e))return{data:null,error:e};throw e}})}getBucket(e){return Mi(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Mi(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Mi(this,void 0,void 0,function*(){try{return{data:yield qu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Mi(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Mi(this,void 0,void 0,function*(){try{return{data:yield dg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}}class $w extends Bw{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new Nw(this.url,this.headers,e,this.fetch)}}const Uw="2.56.1";let Xr="";typeof Deno<"u"?Xr="deno":typeof document<"u"?Xr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xr="react-native":Xr="node";const Fw={"X-Client-Info":`supabase-js-${Xr}/${Uw}`},Ww={headers:Fw},Zw={schema:"public"},Hw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vw={};var qw=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const Gw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Jm:e=fetch,(...n)=>e(...n)},Kw=()=>typeof Headers>"u"?Ym:Headers,Qw=(t,e,n)=>{const r=Gw(n),o=Kw();return(a,u)=>qw(void 0,void 0,void 0,function*(){var h;const d=(h=yield e())!==null&&h!==void 0?h:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var Jw=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};function Yw(t){return t.endsWith("/")?t:t+"/"}function Xw(t,e){var n,r;const{db:o,auth:a,realtime:u,global:h}=t,{db:d,auth:p,realtime:g,global:_}=e,v={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Jw(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const fg="2.71.1",Di=30*1e3,Gu=3,Bl=Gu*Di,ek="http://localhost:9999",tk="supabase.auth.token",nk={"X-Client-Info":`gotrue-js/${fg}`},Ku="X-Supabase-Api-Version",pg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ik=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rk=10*60*1e3;class eh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sk extends eh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ok(t){return te(t)&&t.name==="AuthApiError"}class mg extends eh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Hn extends eh{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class xn extends Hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ak(t){return te(t)&&t.name==="AuthSessionMissingError"}class To extends Hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eo extends Hn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Co extends Hn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lk(t){return te(t)&&t.name==="AuthImplicitGrantRedirectError"}class kf extends Hn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qu extends Hn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function $l(t){return te(t)&&t.name==="AuthRetryableFetchError"}class Sf extends Hn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ju extends Hn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xf=` 	
\r=`.split(""),uk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xf.length;e+=1)t[xf[e].charCodeAt(0)]=-2;for(let e=0;e<fa.length;e+=1)t[fa[e].charCodeAt(0)]=e;return t})();function Pf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(fa[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(fa[r]),e.queuedBits-=6}}function gg(t,e,n){const r=uk[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tf(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{dk(u,r,n)};for(let u=0;u<t.length;u+=1)gg(t.charCodeAt(u),o,a);return e.join("")}function ck(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hk(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}ck(r,e)}}function dk(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function fk(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)gg(t.charCodeAt(o),n,r);return new Uint8Array(e)}function pk(t){const e=[];return hk(t,n=>e.push(n)),new Uint8Array(e)}function mk(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Pf(o,n,r)),Pf(null,n,r),e.join("")}function gk(t){return Math.round(Date.now()/1e3)+t}function _k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const jt=()=>typeof window<"u"&&typeof document<"u",ni={tested:!1,writable:!1},_g=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function vk(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const vg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zn(()=>Promise.resolve().then(()=>gr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},yk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ii=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sn=async(t,e)=>{await t.removeItem(e)};class Ra{constructor(){this.promise=new Ra.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ra.promiseConstructor=Promise;function Ul(t){const e=t.split(".");if(e.length!==3)throw new Ju("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ik.test(e[r]))throw new Ju("JWT not in base64url format");return{header:JSON.parse(Tf(e[0])),payload:JSON.parse(Tf(e[1])),signature:fk(e[2]),raw:{header:e[0],payload:e[1]}}}async function wk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kk(t,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function Sk(t){return("0"+t.toString(16)).substr(-2)}function xk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,Sk).join("")}async function Pk(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function Tk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Pk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(t,e,n=!1){const r=xk();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Bi(t,`${e}-code-verifier`,o);const a=await Tk(r);return[a,r===a?"plain":"s256"]}const Ek=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ck(t){const e=t.headers.get(Ku);if(!e||!e.match(Ek))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Lk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function bk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ik=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(t){if(!Ik.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ef(t){return JSON.parse(JSON.stringify(t))}var Ok=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const oi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ak=[502,503,504];async function Cf(t){var e;if(!yk(t))throw new Qu(oi(t),0);if(Ak.includes(t.status))throw new Qu(oi(t),t.status);let n;try{n=await t.json()}catch(a){throw new mg(oi(a),a)}let r;const o=Ck(t);if(o&&o.getTime()>=pg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sf(oi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new xn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Sf(oi(n),t.status,n.weak_password.reasons);throw new sk(oi(n),t.status||500,r)}const Mk=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function ae(t,e,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[Ku]||(a[Ku]=pg["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await Rk(t,e,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function Rk(t,e,n,r,o,a){const u=Mk(e,r,o,a);let h;try{h=await t(n,Object.assign({},u))}catch(d){throw console.error(d),new Qu(oi(d),0)}if(h.ok||await Cf(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(d){await Cf(d)}}function on(t){var e;let n=null;Dk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=gk(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Lf(t){const e=on(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ln(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function jk(t){return{data:t,error:null}}function Nk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=t,u=Ok(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function zk(t){return t}function Dk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Wl=["global","local","others"];var Bk=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};class $k{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=vg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Wl[0]){if(Wl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wl.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ln})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Bk(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Nk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ln})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,a,u,h,d;try{const p={nextPage:null,lastPage:0,total:0},g=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:zk});if(g.error)throw g.error;const _=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(d=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return E.length>0&&(E.forEach(T=>{const b=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);p[`${N}Page`]=b}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(te(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ji(e);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ln})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ji(e);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ln})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ji(e);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ln})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ji(e.userId);try{const{data:n,error:r}=await ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ji(e.userId),ji(e.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}function bf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Uk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ni={debug:!!(globalThis&&_g()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fk extends yg{}async function Wk(t,e,n){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Fk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ni.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Uk();const Zk={url:ek,storageKey:tk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function If(t,e,n){return await n()}const zi={};class bs{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bs.nextInstanceID,bs.nextInstanceID+=1,this.instanceID>0&&jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Zk),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new $k({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=vg(o.fetch),this.lock=o.lock||If,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:jt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Wk:this.lock=If,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:_g()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=bf(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=zi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=zi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=vk(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),jt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),lk(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return te(n)?{error:n}:{error:new mg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const a=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:on}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,o;try{let a;if("email"in e){const{email:g,password:_,options:v}=e;let E=null,T=null;this.flowType==="pkce"&&([E,T]=await Ri(this.storage,this.storageKey)),a=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:_,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:E,code_challenge_method:T},xform:on})}else if("phone"in e){const{phone:g,password:_,options:v}=e;a=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:on})}else throw new Eo("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:h}=e;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lf})}else if("phone"in e){const{phone:a,password:u,options:h}=e;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lf})}else throw new Eo("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new To}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,o,a,u,h,d,p,g,_,v,E;let T,b;if("message"in e)T=e.message,b=e.signature;else{const{chain:N,wallet:S,statement:y,options:w}=e;let k;if(jt())if(typeof S=="object")k=S;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))k=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=S}const P=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const I=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),y?{statement:y}:null));let M;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")M=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)M=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)T=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),b=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${P.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(o=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((h=w==null?void 0:w.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((p=w==null?void 0:w.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((_=(g=w==null?void 0:w.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...w.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const I=await k.signMessage(new TextEncoder().encode(T),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=I}}try{const{data:N,error:S}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:mk(b)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:on});if(S)throw S;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new To}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:S})}catch(N){if(te(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const n=await ii(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:on});if(await Sn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new To}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(te(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=e,h=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:on}),{data:d,error:p}=h;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new To}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,o,a,u;try{if("email"in e){const{email:h,options:d}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ri(this.storage,this.storageKey));const{error:_}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:d}=e,{data:p,error:g}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new Eo("You must provide either an email or phone number.")}catch(h){if(te(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:on});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,p=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(o){if(te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,r,o;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await Ri(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:jk})}catch(a){if(te(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new xn;const{error:o}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:u}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:u,error:h}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Eo("You must provide either an email or phone number and a type")}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Bl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await ii(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Fl()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,g))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ln}):await this._useSession(async n=>{var r,o,a;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xn}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Ln})})}catch(n){if(te(n))return ak(n)&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new xn;const u=o.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await Ri(this.storage,this.storageKey));const{data:p,error:g}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:Ln});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xn;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:u}=Ul(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{session:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(te(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new xn;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!jt())throw new Co("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Co(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Co("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kf("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:h,expires_at:d,token_type:p}=e;if(!a||!h||!u||!p)throw new Co("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(h);let v=g+_;d&&(v=parseInt(d));const E=v-g;E*1e3<=Di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const T=v-_;g-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,v,g):g-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,v,g);const{data:b,error:N}=await this._getUser(a);if(N)throw N;const S={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:_,expires_at:v,refresh_token:u,token_type:p,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ii(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(ok(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=_k(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ri(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(te(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,h,d,p,g;const{data:_,error:v}=a;if(v)throw v;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",E,{headers:this.headers,jwt:(g=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return jt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(te(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await kk(async o=>(o>0&&await wk(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:on})),(o,a)=>{const u=200*Math.pow(2,o);return a&&$l(a)&&Date.now()+u-r<Di})}catch(r){if(this._debug(n,"error",r),te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),jt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await ii(this.storage,this.storageKey);if(o&&this.userStorage){let u=await ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Bi(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Fl()}else if(o&&!o.user&&!o.user){const u=await ii(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await Sn(this.storage,this.storageKey+"-user"),await Bi(this.storage,this.storageKey,o)):o.user=Fl()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bl;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Bl}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),$l(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ra;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new xn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),te(a)){const u={session:null,error:a};return $l(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){a.push(d)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Bi(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=Ef(o);await Bi(this.storage,this.storageKey,a)}else{const o=Ef(n);await Bi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Sn(this.storage,this.storageKey),await Sn(this.storage,this.storageKey+"-code-verifier"),await Sn(this.storage,this.storageKey+"-user"),this.userStorage&&await Sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Di);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Di}ms, refresh threshold is ${Gu} ticks`),o<=Gu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await Ri(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:p}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:h}=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Ul(o.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+rk>o)return r;const{data:a,error:u}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:E,error:T}=await this.getSession();if(T||!E.session)return{data:null,error:T};r=E.session.access_token}const{header:o,payload:a,signature:u,raw:{header:h,payload:d}}=Ul(r);n!=null&&n.allowExpired||Lk(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:a,header:o,signature:u},error:null}}const g=bk(o.alg),_=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,_,u,pk(`${h}.${d}`)))throw new Ju("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}}bs.nextInstanceID=0;const Hk=bs;class Vk extends Hk{constructor(e){super(e)}}var qk=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class Gk{constructor(e,n,r){var o,a,u;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=Yw(e),d=new URL(h);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:Zw,realtime:Vw,auth:Object.assign(Object.assign({},Hw),{storageKey:p}),global:Ww},_=Xw(r??{},g);this.storageKey=(o=_.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=_.global.headers)!==null&&a!==void 0?a:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(v,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=_.auth)!==null&&u!==void 0?u:{},this.headers,_.global.fetch),this.fetch=Qw(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new cw(new URL("rest/v1",d).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new $w(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new F0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return qk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:a,flowType:u,lock:h,debug:d},p,g){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vk({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,flowType:u,lock:h,debug:d,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Cw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kk=(t,e,n)=>new Gk(t,e,n);function Qk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Lo=null;async function wg(){try{const e=await fetch("/itinerary-killer/"+"runtime-config.json",{cache:"no-store"});return e.ok?await e.json():null}catch{return null}}async function Jk(){try{let t={}.VITE_GOOGLE_PROXY_URL;if(!t){const o=await wg();o!=null&&o.VITE_GOOGLE_PROXY_URL&&(t=o.VITE_GOOGLE_PROXY_URL)}if(!t)return null;const e=new URL(t);e.pathname="/keys";const n=await fetch(e.toString(),{method:"GET",mode:"cors"});if(!n.ok)return null;const r=await n.json().catch(()=>({}));return{url:r==null?void 0:r.SUPABASE_URL,key:r==null?void 0:r.SUPABASE_ANON_KEY}}catch{return null}}async function qr(){if(Lo)return Lo;let t={}.VITE_SUPABASE_URL,e={}.VITE_SUPABASE_ANON_KEY;if(!t||!e){const n=await wg();n&&(t=t||n.VITE_SUPABASE_URL,e=e||n.VITE_SUPABASE_ANON_KEY)}if(!t||!e){const n=await Jk();n&&(t=t||n.url,e=e||n.key)}if(!t||!e)throw new Error("Supabase credentials not configured");return Lo=Kk(t,e),Lo}const Yk=t=>({id:t.id,title:t.title,description:t.description||"",category:t.category||"Other",priority:t.priority||"low",cost:Number(t.cost||0),estimatedDuration:Number(t.estimated_duration||0),address:t.address||"",location:{lat:Number(t.location_lat||0),lng:Number(t.location_lng||0)},notes:t.notes||"",isOpen:!!t.is_open,createdAt:t.created_at?new Date(t.created_at):new Date,completed:!!t.completed}),Zl=t=>({id:t.id,title:t.title,description:t.description,category:t.category,priority:t.priority,cost:t.cost,estimated_duration:t.estimatedDuration,address:t.address,location_lat:t.location.lat,location_lng:t.location.lng,created_at:t.createdAt.toISOString(),completed:t.completed,is_open:t.isOpen,notes:t.notes});function Xk(){const[t,e]=O.useState([]),[n,r]=O.useState(!1);return O.useEffect(()=>{(async()=>{r(!0);try{const v=await qr(),{data:E,error:T}=await v.from("items").select("*").order("created_at",{ascending:!1});if(T)throw T;e((E||[]).map(Yk))}catch(v){console.error("Supabase fetch failed:",v)}finally{r(!1)}})()},[]),{items:t,loading:n,addItem:async _=>{r(!0);try{const v=await qr(),{error:E}=await v.from("items").insert([Zl(_)]);if(E)throw E;e(T=>[_,...T])}catch(v){throw console.error("Supabase insert failed:",v),v}finally{r(!1)}},addItems:async _=>{r(!0);try{const v=await qr(),{error:E}=await v.from("items").insert(_.map(Zl));if(E)throw E;e(T=>[..._,...T])}catch(v){throw console.error("Supabase bulk insert failed:",v),v}finally{r(!1)}},updateItem:async(_,v)=>{r(!0);try{const E=t.find(S=>S.id===_);if(!E)return;const T={...E,...v},b=await qr(),{error:N}=await b.from("items").update(Zl(T)).eq("id",_);if(N)throw N;e(S=>S.map(y=>y.id===_?T:y))}catch(E){throw console.error("Supabase update failed:",E),E}finally{r(!1)}},deleteItem:async _=>{r(!0);try{const v=await qr(),{error:E}=await v.from("items").delete().eq("id",_);if(E)throw E;e(T=>T.filter(b=>b.id!==_))}catch(v){throw console.error("Supabase delete failed:",v),v}finally{r(!1)}},getItemsByCategory:_=>t.filter(v=>v.category===_),getItemsByPriority:_=>t.filter(v=>v.priority===_),getNearbyItems:(_,v,E=10)=>t.filter(T=>Math.sqrt(Math.pow(T.location.lat-_,2)+Math.pow(T.location.lng-v,2))*69<=E)}}function e1(t,e,n,r){const a=(n-t)*Math.PI/180,u=(r-e)*Math.PI/180,h=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2);return 3959*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))}async function T1(t){try{const n=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&limit=1`)).json();return n&&n.length>0?{lat:parseFloat(n[0].lat),lng:parseFloat(n[0].lon)}:null}catch(e){return console.error("Error getting coordinates:",e),null}}async function E1(t,e){var v;const n={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_BASE||"",o=`${n}?endpoint=${encodeURIComponent("/maps/api/place/findplacefromtext/json")}&input=${encodeURIComponent(t+" "+e)}&inputtype=textquery&fields=place_id`,u=await(await fetch(o)).json();if(!u.candidates||!((v=u.candidates[0])!=null&&v.place_id))throw new Error("No place found");const h=u.candidates[0].place_id,p=`${n}?endpoint=${encodeURIComponent("/maps/api/place/details/json")}&place_id=${encodeURIComponent(h)}&fields=${encodeURIComponent("name,opening_hours,formatted_address")}`,_=await(await fetch(p)).json();if(_.status!=="OK")throw new Error("Failed to fetch place details");return _.result}async function C1(t){const r=`${{BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_BASE||""}?endpoint=${encodeURIComponent("/maps/api/place/autocomplete/json")}&input=${encodeURIComponent(t)}`,a=await(await fetch(r)).json();if(a.status!=="OK"&&a.status!=="ZERO_RESULTS")throw new Error("Autocomplete failed");return(a.predictions||[]).map(u=>({description:u.description,place_id:u.place_id}))}async function L1(t){const e={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_BASE||"",n="/maps/api/place/details/json",r=["name","formatted_address","geometry/location","opening_hours","types","editorial_summary"].join(","),o=`${e}?endpoint=${encodeURIComponent(n)}&place_id=${encodeURIComponent(t)}&fields=${encodeURIComponent(r)}`,u=await(await fetch(o)).json();if(u.status!=="OK")throw new Error("Failed to fetch place details");return u.result}const Rt=({width:t="100%",height:e="20px",className:n="",animated:r=!0})=>C.jsx("div",{className:`skeleton ${r?"skeleton-animated":""} ${n}`,style:{width:typeof t=="number"?`${t}px`:t,height:typeof e=="number"?`${e}px`:e}}),t1=({loadingProgress:t})=>C.jsxs("div",{className:"app-skeleton",children:[C.jsxs("div",{className:"skeleton-header",children:[C.jsx(Rt,{width:200,height:32,className:"skeleton-title"}),C.jsx(Rt,{width:300,height:16,className:"skeleton-subtitle"})]}),C.jsxs("div",{className:"skeleton-progress",children:[C.jsx("div",{className:"progress-bar",children:C.jsx("div",{className:"progress-fill",style:{width:`${t}%`}})}),C.jsxs("div",{className:"progress-text",children:["Loading... ",t,"%"]})]}),C.jsxs("div",{className:"skeleton-sidebar",children:[C.jsxs("div",{className:"skeleton-location-status",children:[C.jsx(Rt,{width:120,height:16}),C.jsx(Rt,{width:80,height:12})]}),C.jsxs("div",{className:"skeleton-filters",children:[C.jsx(Rt,{width:"100%",height:40}),C.jsx(Rt,{width:"100%",height:40})]}),C.jsx("div",{className:"skeleton-items",children:[1,2,3,4].map(e=>C.jsxs("div",{className:"skeleton-item",children:[C.jsx(Rt,{width:"70%",height:20}),C.jsx(Rt,{width:"100%",height:16}),C.jsx(Rt,{width:"60%",height:14})]},e))})]}),C.jsxs("div",{className:"skeleton-map",children:[C.jsxs("div",{className:"skeleton-map-placeholder",children:[C.jsx("div",{className:"map-loading-icon",children:""}),C.jsx("div",{className:"map-loading-text",children:"Loading Map..."})]}),C.jsxs("div",{className:"skeleton-floating-buttons",children:[C.jsx(Rt,{width:56,height:56,className:"skeleton-button"}),C.jsx(Rt,{width:72,height:72,className:"skeleton-button"})]})]})]}),n1=()=>{const t=O.useRef(performance.now()),e=O.useRef({}),n=O.useRef({timeToFirstByte:0,timeToInteractive:0,totalLoadTime:0,componentLoadTimes:{}}),r=a=>{e.current[a]=performance.now()},o=a=>{const u=e.current[a];if(u){const h=performance.now()-u;n.current.componentLoadTimes[a]=h,console.log(` ${a} loaded in ${h.toFixed(2)}ms`)}};return O.useEffect(()=>{const a=window.__IK_ADV_METRICS_ACTIVE===!0;!a&&"PerformanceObserver"in window&&new PerformanceObserver(p=>{var g;for(const _ of p.getEntries())switch(_.entryType){case"largest-contentful-paint":{const v=_.startTime;console.log(" LCP:",v.toFixed(2),"ms");break}case"first-input":{const v=_,E=(v.processingStart??0)-(v.startTime??0);console.log(" FID:",E.toFixed(2),"ms");break}case"layout-shift":{const v=_.value;console.log(" CLS:",(g=v==null?void 0:v.toFixed)==null?void 0:g.call(v,3));break}}}).observe({entryTypes:["largest-contentful-paint","first-input","layout-shift"]});const u=()=>{const d=performance.now()-t.current;n.current.timeToInteractive=d,a||console.log(" Time to Interactive:",d.toFixed(2),"ms")},h=()=>{document.readyState==="complete"?u():setTimeout(h,100)};return h(),()=>{const d=performance.now()-t.current;n.current.totalLoadTime=d,a||console.log(" Performance Summary:",{totalLoadTime:`${d.toFixed(2)}ms`,componentLoadTimes:n.current.componentLoadTimes,timeToInteractive:`${n.current.timeToInteractive.toFixed(2)}ms`})}},[]),{trackComponentLoadStart:r,trackComponentLoadEnd:o,getMetrics:()=>n.current}},i1=()=>{const[t,e]=O.useState(null),[n,r]=O.useState({sessionStart:Date.now(),lastActivity:Date.now(),pageViews:0,interactions:{},navigationPath:[],timeOnPage:0,scrollEvents:0,clickEvents:0,touchEvents:0}),[o,a]=O.useState(!1),[u,h]=O.useState(0),d=O.useRef({}),p=O.useRef({}),g=O.useRef(null),_=O.useRef(null),v=O.useRef(null),E=O.useRef(!1),T=O.useRef(null),b=O.useRef(null),N=O.useRef(null),S={excellent:{lcp:2500,fid:100,cls:.1},good:{lcp:4e3,fid:300,cls:.25},needsImprovement:{lcp:7e3,fid:500,cls:.4}},y=O.useCallback(F=>{let Z=100;return F.lcp<=S.excellent.lcp?Z-=0:F.lcp<=S.good.lcp?Z-=10:F.lcp<=S.needsImprovement.lcp?Z-=25:Z-=40,F.fid<=S.excellent.fid?Z-=0:F.fid<=S.good.fid?Z-=10:F.fid<=S.needsImprovement.fid?Z-=25:Z-=40,F.cls<=S.excellent.cls?Z-=0:F.cls<=S.good.cls?Z-=10:F.cls<=S.needsImprovement.cls?Z-=25:Z-=40,F.ttfb<=800?Z-=0:F.ttfb<=1800?Z-=5:F.ttfb<=3e3?Z-=15:Z-=25,F.timeToInteractive<=3800?Z-=0:F.timeToInteractive<=7300?Z-=5:F.timeToInteractive<=10200?Z-=10:Z-=20,Math.max(0,Z)},[S]),w=O.useCallback(F=>{d.current[F]=performance.now(),console.log(` Component load started: ${F}`)},[]),k=O.useCallback(F=>{const Z=d.current[F];if(Z){const Y=performance.now()-Z;e(j=>j?{...j,componentLoadTimes:{...j.componentLoadTimes,[F]:Y}}:null),console.log(` ${F} loaded in ${Y.toFixed(2)}ms`)}},[]),P=O.useCallback(F=>{p.current[F]=performance.now()},[]),I=O.useCallback(F=>{const Z=p.current[F];if(Z){const Y=performance.now()-Z;e(j=>j?{...j,renderTimes:{...j.renderTimes,[F]:Y}}:null),console.log(` ${F} rendered in ${Y.toFixed(2)}ms`)}},[]),M=O.useCallback((F,Z)=>{r(Y=>({...Y,lastActivity:Date.now(),interactions:{...Y.interactions,[F]:(Y.interactions[F]||0)+1}}))},[]),z=O.useCallback(F=>{r(Z=>({...Z,pageViews:Z.pageViews+1,navigationPath:[...Z.navigationPath,F],timeOnPage:Date.now()-Z.lastActivity}))},[]),G=O.useCallback(()=>{if("memory"in performance){const F=performance.memory;return{usage:F.usedJSHeapSize,limit:F.jsHeapSizeLimit}}return{usage:0,limit:0}},[]),V=O.useCallback(()=>{const F=performance.getEntriesByType("resource"),Z=F.reduce((j,H)=>j+(H.transferSize||0),0),Y=F.reduce((j,H)=>j+(H.responseEnd||0)-(H.responseStart||0),0)/F.length;return{requests:F.length,transferSize:Z,avgResponseTime:Y||0}},[]),re=O.useCallback(()=>{if(E.current)return;console.log(" Starting advanced performance monitoring..."),a(!0),E.current=!0,e({lcp:0,fid:0,cls:0,ttfb:0,timeToInteractive:0,timeToFirstPaint:0,timeToFirstContentfulPaint:0,totalLoadTime:0,componentLoadTimes:{},renderTimes:{},firstClickTime:0,scrollDepth:0,interactionCount:0,memoryUsage:0,memoryLimit:0,networkRequests:0,totalTransferSize:0,averageResponseTime:0}),"PerformanceObserver"in window&&(g.current=new PerformanceObserver(Y=>{var j,H;for(const B of Y.getEntries())switch(B.entryType){case"largest-contentful-paint":e(de=>de?{...de,lcp:B.startTime}:null),console.log(" LCP:",B.startTime.toFixed(2),"ms");break;case"first-input":const Q=B.processingStart-B.startTime;e(de=>de?{...de,fid:Q}:null),console.log(" FID:",Q.toFixed(2),"ms");break;case"layout-shift":e(de=>de?{...de,cls:B.value}:null),console.log(" CLS:",(H=(j=B.value)==null?void 0:j.toFixed)==null?void 0:H.call(j,3));break;case"navigation":const ie=B;e(de=>{var ce,oe;return de?{...de,ttfb:ie.responseStart-ie.requestStart,timeToFirstPaint:((ce=performance.getEntriesByName("first-paint")[0])==null?void 0:ce.startTime)||0,timeToFirstContentfulPaint:((oe=performance.getEntriesByName("first-contentful-paint")[0])==null?void 0:oe.startTime)||0}:null});break}}),g.current.observe({entryTypes:["largest-contentful-paint","first-input","layout-shift","navigation"]}));const Z=()=>{r(Y=>({...Y,lastActivity:Date.now()}))};T.current=()=>{Z(),M("click"),r(Y=>({...Y,clickEvents:Y.clickEvents+1}))},document.addEventListener("click",T.current),b.current=()=>{Z(),M("touch"),r(Y=>({...Y,touchEvents:Y.touchEvents+1}))},document.addEventListener("touchstart",b.current,{passive:!0}),N.current=()=>{Z(),r(Y=>({...Y,scrollEvents:Y.scrollEvents+1}))},document.addEventListener("scroll",N.current,{passive:!0}),v.current=setInterval(()=>{const Y=G(),j=V();e(H=>H&&{...H,memoryUsage:Y.usage,memoryLimit:Y.limit,networkRequests:j.requests,totalTransferSize:j.transferSize,averageResponseTime:j.avgResponseTime})},5e3),_.current=setInterval(()=>{r(Y=>({...Y,timeOnPage:Date.now()-Y.sessionStart}))},1e3)},[G,V,M]),ge=O.useCallback(()=>{E.current&&(console.log(" Stopping performance monitoring..."),a(!1),E.current=!1,g.current&&(g.current.disconnect(),g.current=null),v.current&&(clearInterval(v.current),v.current=null),_.current&&(clearInterval(_.current),_.current=null),T.current&&(document.removeEventListener("click",T.current),T.current=null),b.current&&(document.removeEventListener("touchstart",b.current),b.current=null),N.current&&(document.removeEventListener("scroll",N.current),N.current=null))},[]),ye=O.useCallback(()=>{if(!t)return"No performance data available";const F=y(t);return`
 Performance Report
====================

 Performance Score: ${F}/100
${F>=90?" Excellent":F>=70?" Good":F>=50?" Needs Improvement":" Poor"}

 Core Web Vitals:
 LCP: ${t.lcp.toFixed(2)}ms ${t.lcp<=S.excellent.lcp?"":t.lcp<=S.good.lcp?"":""}
 FID: ${t.fid.toFixed(2)}ms ${t.fid<=S.excellent.fid?"":t.fid<=S.good.fid?"":""}
 CLS: ${t.cls.toFixed(3)} ${t.cls<=S.excellent.cls?"":t.cls<=S.good.cls?"":""}

 Timing Metrics:
 TTFB: ${t.ttfb.toFixed(2)}ms
 First Paint: ${t.timeToFirstPaint.toFixed(2)}ms
 First Contentful Paint: ${t.timeToFirstContentfulPaint.toFixed(2)}ms
 Time to Interactive: ${t.timeToInteractive.toFixed(2)}ms

 Memory Usage: ${(t.memoryUsage/1024/1024).toFixed(2)}MB / ${(t.memoryLimit/1024/1024).toFixed(2)}MB

 Network: ${t.networkRequests} requests, ${(t.totalTransferSize/1024).toFixed(2)}KB transferred

 User Behavior:
 Session Duration: ${Math.round(n.timeOnPage/1e3)}s
 Page Views: ${n.pageViews}
 Interactions: ${Object.values(n.interactions).reduce((Y,j)=>Y+j,0)}
 Scroll Events: ${n.scrollEvents}
 Click Events: ${n.clickEvents}
 Touch Events: ${n.touchEvents}
 Scroll Events: ${n.scrollEvents}
    `},[t,n,y,S]),pe=O.useCallback(()=>t?{timestamp:new Date().toISOString(),metrics:t,userBehavior:n,performanceScore:y(t),userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight},connection:navigator.connection?{effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}:null}:null,[t,n,y]);return O.useEffect(()=>(re(),()=>{ge()}),[]),O.useEffect(()=>{if(t){const F=y(t);h(F)}},[t,y]),{metrics:t,userBehavior:n,isMonitoring:o,performanceScore:u,startMonitoring:re,stopMonitoring:ge,trackComponentLoadStart:w,trackComponentLoadEnd:k,trackRenderStart:P,trackRenderEnd:I,trackUserInteraction:M,trackNavigation:z,generateReport:ye,exportData:pe,calculatePerformanceScore:y}};let bo=null,Gr=null;const th=()=>{const[t,e]=O.useState({isSupported:"serviceWorker"in navigator,isInstalled:!1,isUpdated:!1,isOnline:navigator.onLine,cacheInfo:{}}),[n,r]=O.useState(null),o=O.useCallback(async()=>{if(!("serviceWorker"in navigator))return console.log(" Service Worker not supported"),null;try{if(bo)return r(bo),e(w=>({...w,isInstalled:!0})),bo;if(Gr){const w=await Gr;return w&&(r(w),e(k=>({...k,isInstalled:!0}))),w}console.log(" Registering Service Worker...");const T="/itinerary-killer/",N=((w,k)=>`${w.replace(/\/+$/,"/")}${k.replace(/^\/+/,"")}`)(T,"sw.js"),S=T;Gr=navigator.serviceWorker.register(N,{scope:S,updateViaCache:"none"});const y=await Gr;return bo=y,Gr=null,console.log(" Service Worker registered successfully:",y),r(y),e(w=>({...w,isInstalled:!0})),y.addEventListener("updatefound",()=>{console.log(" Service Worker update found");const w=y.installing;w&&w.addEventListener("statechange",()=>{w.state==="installed"&&navigator.serviceWorker.controller&&(console.log(" New Service Worker available"),e(k=>({...k,isUpdated:!0})))})}),y}catch(T){return console.error(" Service Worker registration failed:",T),null}},[]),a=O.useCallback(async()=>{if(n)try{console.log(" Updating Service Worker..."),await n.update(),e(T=>({...T,isUpdated:!1}))}catch(T){console.error(" Service Worker update failed:",T)}},[n]),u=O.useCallback(async()=>{if(n&&n.waiting)try{console.log(" Skipping waiting for Service Worker..."),n.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}catch(T){console.error(" Failed to skip waiting:",T)}},[n]),h=O.useCallback(async()=>{if(n&&n.active)try{const T=new MessageChannel;return new Promise((b,N)=>{T.port1.onmessage=S=>{S.data.type==="CACHE_INFO"?(e(y=>({...y,cacheInfo:S.data.data})),b(S.data.data)):S.data.type==="CACHE_INFO_ERROR"&&N(new Error(S.data.error))},n.active.postMessage({type:"GET_CACHE_INFO"},[T.port2])})}catch(T){return console.error(" Failed to get cache info:",T),{}}return{}},[n]),d=O.useCallback(async T=>{if(n&&n.active)try{const b=new MessageChannel;return new Promise((N,S)=>{b.port1.onmessage=y=>{y.data.type==="CACHE_CLEARED"?(console.log(" Cache cleared successfully"),N()):y.data.type==="CACHE_CLEAR_ERROR"&&S(new Error(y.data.error))},n.active.postMessage({type:"CLEAR_CACHE",cacheName:T},[b.port2])})}catch(b){throw console.error(" Failed to clear cache:",b),b}},[n]),p=O.useCallback(async T=>{if(n&&n.active)try{const b=new MessageChannel;return new Promise((N,S)=>{b.port1.onmessage=y=>{y.data.type==="MAP_TILES_CACHED"?(console.log(" Map tiles cached successfully"),N(y.data.results)):y.data.type==="MAP_TILES_CACHE_ERROR"&&S(new Error(y.data.error))},n.active.postMessage({type:"CACHE_MAP_TILES",tiles:T},[b.port2])})}catch(b){throw console.error(" Failed to cache map tiles:",b),b}},[n]),g=O.useCallback(async(T,b)=>{if(n&&"sync"in n)try{console.log(" Requesting background sync:",T),await n.sync.register(T,b),console.log(" Background sync registered")}catch(N){throw console.error(" Background sync registration failed:",N),N}else console.log(" Background sync not supported")},[n]),_=O.useCallback(async()=>{if(!("Notification"in window))return console.log(" Notifications not supported"),!1;if(Notification.permission==="granted")return!0;if(Notification.permission==="denied")return console.log(" Notification permission denied"),!1;try{return await Notification.requestPermission()==="granted"}catch(T){return console.error(" Failed to request notification permission:",T),!1}},[]),v=O.useCallback(async()=>{if(!n)return console.log(" Service Worker not registered"),null;try{if(!await _())return null;const b={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_VAPID_PUBLIC_KEY||"",N=await n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:E(b)});return console.log(" Push notification subscription created:",N),N}catch(T){return console.error(" Failed to subscribe to push notifications:",T),null}},[n,_]),E=T=>{const b="=".repeat((4-T.length%4)%4),N=(T+b).replace(/-/g,"+").replace(/_/g,"/"),S=window.atob(N),y=new Uint8Array(S.length);for(let w=0;w<S.length;++w)y[w]=S.charCodeAt(w);return y};return O.useEffect(()=>{o()},[o]),O.useEffect(()=>{const T=()=>{console.log(" App is online"),e(N=>({...N,isOnline:!0}))},b=()=>{console.log(" App is offline"),e(N=>({...N,isOnline:!1}))};return window.addEventListener("online",T),window.addEventListener("offline",b),()=>{window.removeEventListener("online",T),window.removeEventListener("offline",b)}},[]),O.useEffect(()=>{if(!n)return;const T=b=>{switch(console.log(" Message from Service Worker:",b.data),b.data.type){case"BACKGROUND_SYNC_START":console.log(" Background sync started");break;case"BACKGROUND_SYNC_COMPLETE":console.log(" Background sync completed");break;case"BACKGROUND_SYNC_ERROR":console.log(" Background sync failed:",b.data.message);break;default:console.log("Unknown message type:",b.data.type)}};return navigator.serviceWorker.addEventListener("message",T),()=>{navigator.serviceWorker.removeEventListener("message",T)}},[n]),{...t,registration:n,registerServiceWorker:o,updateServiceWorker:a,skipWaiting:u,getCacheInfo:h,clearCache:d,cacheMapTiles:p,requestBackgroundSync:g,requestNotificationPermission:_,subscribeToPushNotifications:v}},r1=()=>{const{cacheMapTiles:t,getCacheInfo:e,clearCache:n}=th(),r=O.useRef([]),o=O.useRef(null),a=O.useRef({}),u={mapTiles:{name:"Map Tiles",priority:"high",maxAge:24*60*60*1e3,maxSize:1e3},images:{name:"Images",priority:"medium",maxAge:7*24*60*60*1e3,maxSize:500},apiResponses:{name:"API Responses",priority:"medium",maxAge:5*60*1e3,maxSize:200},staticAssets:{name:"Static Assets",priority:"high",maxAge:30*24*60*60*1e3,maxSize:100}},h=O.useCallback(()=>{if("connection"in navigator){const P=navigator.connection;return{effectiveType:P.effectiveType||"unknown",downlink:P.downlink||0,rtt:P.rtt||0,saveData:P.saveData||!1}}return null},[]),d=O.useCallback(P=>{const I=h(),M=u[P]||u.staticAssets;return I?I.effectiveType==="slow-2g"||I.effectiveType==="2g"?{...M,maxAge:M.maxAge*2,maxSize:Math.floor(M.maxSize*.5)}:I.effectiveType==="3g"?{...M,maxAge:M.maxAge*1.5,maxSize:Math.floor(M.maxSize*.8)}:I.effectiveType==="4g"?{...M,maxAge:M.maxAge,maxSize:Math.floor(M.maxSize*1.2)}:M:M},[h]),p=O.useCallback(async()=>{const P=a.current,I=[];if(P["add-item"]>2&&I.push({url:"/src/components/AddItemModal.tsx",type:"script",priority:.8,estimatedSize:50}),P["view-map"]>3){const M=y();if(M){const G=w(M).map(V=>({url:V,type:"image",priority:.9,estimatedSize:20}));I.push(...G)}}P["import-data"]>1&&I.push({url:"/src/components/ImportJsonModal.tsx",type:"script",priority:.7,estimatedSize:40}),I.sort((M,z)=>z.priority-M.priority),r.current.push(...I),await g()},[]),g=O.useCallback(async()=>{const P=h(),I=(P==null?void 0:P.effectiveType)==="4g"?6:(P==null?void 0:P.effectiveType)==="3g"?4:2,z=r.current.splice(0,I).map(async G=>{try{switch(G.type){case"image":await _(G.url);break;case"script":await v(G.url);break;case"style":await E(G.url);break;case"data":await T(G.url);break}console.log(` Preloaded: ${G.url}`)}catch(V){console.log(` Failed to preload: ${G.url}`,V)}});await Promise.allSettled(z)},[h]),_=O.useCallback(P=>new Promise((I,M)=>{const z=new Image;z.onload=()=>I(),z.onerror=M,z.src=P}),[]),v=O.useCallback(P=>new Promise((I,M)=>{const z=document.createElement("link");z.rel="prefetch",z.href=P,z.onload=()=>I(),z.onerror=M,document.head.appendChild(z)}),[]),E=O.useCallback(P=>new Promise((I,M)=>{const z=document.createElement("link");z.rel="prefetch",z.href=P,z.onload=()=>I(),z.onerror=M,document.head.appendChild(z)}),[]),T=O.useCallback(async P=>{const I=await fetch(P);if(!I.ok)throw new Error("Failed to preload data");return I.json()},[]),b=O.useCallback(P=>{a.current[P]=(a.current[P]||0)+1,a.current[P]%3===0&&p()},[p]),N=O.useCallback(async(P,I)=>{const M=h();let z=1;(M==null?void 0:M.effectiveType)==="4g"?z=3:(M==null?void 0:M.effectiveType)==="3g"?z=2:(M==null?void 0:M.effectiveType)==="2g"&&(z=1);const G=S(P,I,z);try{await t(G),console.log(` Cached ${G.length} map tiles intelligently`)}catch(V){console.error(" Failed to cache map tiles intelligently:",V)}},[t,h,d]),S=O.useCallback((P,I,M)=>{const z=[],[G,V]=P,re=Math.pow(2,I),ge=Math.floor((V+180)/360*re),ye=Math.floor((1-Math.log(Math.tan(G*Math.PI/180)+1/Math.cos(G*Math.PI/180))/Math.PI)/2*re);for(let pe=ge-M;pe<=ge+M;pe++)for(let F=ye-M;F<=ye+M;F++)pe>=0&&pe<re&&F>=0&&F<re&&z.push(`https://tile.openstreetmap.org/${I}/${pe}/${F}.png`);return z},[]),y=O.useCallback(()=>null,[]),w=O.useCallback(P=>[],[]),k=O.useCallback(async()=>{try{const P=await e();for(const[I,M]of Object.entries(P)){const z=u[I]||u.staticAssets;M.size>z.maxSize&&(console.log(` Cache ${I} exceeds size limit, clearing...`),await n(I))}}catch(P){console.error(" Failed to manage cache:",P)}},[e,n,h]);return O.useEffect(()=>{if(o.current=h(),"connection"in navigator){const P=navigator.connection,I=()=>{o.current=h(),console.log(" Connection changed:",o.current),k()};return P.addEventListener("change",I),()=>P.removeEventListener("change",I)}},[h,k]),O.useEffect(()=>{const P=setInterval(()=>{k()},3e5);return()=>clearInterval(P)},[k]),{cacheStrategies:u,getOptimalCacheStrategy:d,predictAndPreload:p,executePreloadQueue:g,trackUserAction:b,userBehavior:a.current,cacheMapTilesIntelligently:N,manageCache:k,connectionInfo:o.current,getConnectionInfo:h}},s1=()=>{const{requestBackgroundSync:t}=th(),[e,n]=O.useState(null),[r,o]=O.useState(navigator.onLine),a=O.useRef([]),u=O.useRef(new Map),h=O.useRef(null),d=O.useCallback(()=>{if("connection"in navigator){const k=navigator.connection;return{effectiveType:k.effectiveType||"unknown",downlink:k.downlink||0,rtt:k.rtt||0,saveData:k.saveData||!1}}return null},[]),p=O.useCallback(k=>k.effectiveType==="4g"&&k.downlink>10?10:k.effectiveType==="4g"?8:k.effectiveType==="3g"?5:k.effectiveType==="2g"?3:2,[]),g=O.useCallback(k=>k.effectiveType==="4g"&&k.rtt<50?100:k.effectiveType==="4g"?200:k.effectiveType==="3g"?500:k.effectiveType==="2g"?1e3:2e3,[]),_=O.useCallback(k=>{const P={...k,id:`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()},I=a.current.findIndex(M=>M.priority<P.priority);I===-1?a.current.push(P):a.current.splice(I,0,P),v()},[]),v=O.useCallback(()=>{h.current&&clearTimeout(h.current);const k=d();if(!k)return;const P=g(k);h.current=setTimeout(()=>{E()},P)},[d,g]),E=O.useCallback(async()=>{if(a.current.length===0)return;const k=d();if(!k)return;const P=p(k),I=`batch_${Date.now()}`,M=a.current.splice(0,P),z={id:I,requests:M,maxDelay:g(k),createdAt:Date.now()};u.current.set(I,z);try{console.log(` Processing batch ${I} with ${M.length} requests`),await T(z),console.log(` Batch ${I} completed successfully`)}catch(G){console.error(` Batch ${I} failed:`,G),M.forEach(V=>{V.priority=Math.max(0,V.priority-1),a.current.push(V)})}finally{u.current.delete(I)}},[d,p,g]),T=O.useCallback(async k=>{const{requests:P}=k,I=d();if(!I)throw new Error("Network quality information unavailable");const M=P.filter(ye=>ye.method==="GET"),z=P.filter(ye=>ye.method==="POST"),G=P.filter(ye=>ye.method==="PUT"),V=P.filter(ye=>ye.method==="DELETE"),re=I.effectiveType==="4g"?6:I.effectiveType==="3g"?4:2,ge=[];if(M.length>0){const ye=N(M,re);for(const pe of ye){const F=await Promise.allSettled(pe.map(Z=>b(Z)));ge.push(...F)}}for(const ye of[...z,...G,...V])try{const pe=await b(ye);ge.push({status:"fulfilled",value:pe})}catch(pe){ge.push({status:"rejected",reason:pe})}return ge},[d]),b=O.useCallback(async k=>{const{url:P,method:I,data:M}=k,z={method:I,headers:{"Content-Type":"application/json","X-Request-ID":k.id,"X-Batch-Processing":"true"}};M&&(I==="POST"||I==="PUT")&&(z.body=JSON.stringify(M));const G=await fetch(P,z);if(!G.ok)throw new Error(`Request failed: ${G.status} ${G.statusText}`);return G.json()},[]),N=O.useCallback((k,P)=>{const I=[];for(let M=0;M<k.length;M+=P)I.push(k.slice(M,M+P));return I},[]),S=O.useCallback(k=>{const P=d();return!P||P.effectiveType==="4g"&&P.downlink>10?k:P.effectiveType==="4g"?k.replace(/\.(jpg|png)$/,"_medium.$1"):P.effectiveType==="3g"?k.replace(/\.(jpg|png)$/,"_low.$1"):k.replace(/\.(jpg|png)$/,"_verylow.$1")},[d]),y=O.useCallback(()=>{const k=d();return k?k.effectiveType==="4g"&&k.downlink>10?"aggressive":k.effectiveType==="4g"?"balanced":k.effectiveType==="3g"?"conservative":"minimal":"conservative"},[d]),w=O.useCallback(async(k,P)=>{try{await t(k,P),console.log(" Background sync requested for offline operation")}catch(I){throw console.error(" Failed to request background sync:",I),I}},[t]);return O.useEffect(()=>{const k=()=>{console.log(" Network connection restored"),o(!0),a.current.length>0&&v()},P=()=>{console.log(" Network connection lost"),o(!1),h.current&&(clearTimeout(h.current),h.current=null)};return window.addEventListener("online",k),window.addEventListener("offline",P),()=>{window.removeEventListener("online",k),window.removeEventListener("offline",P)}},[v]),O.useEffect(()=>{if("connection"in navigator){const k=navigator.connection,P=()=>{const I=d();n(I),I&&(console.log(" Network quality changed:",I),a.current.length>0&&v())};return P(),k.addEventListener("change",P),()=>{k.removeEventListener("change",P)}}},[d,v]),O.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),{networkQuality:e,isOnline:r,addToBatch:_,processBatch:E,getAdaptiveImageQuality:S,getAdaptiveLoadingStrategy:y,requestOfflineSync:w,getNetworkQuality:d,getOptimalBatchSize:p,getOptimalBatchDelay:g,queueLength:a.current.length,activeBatches:Array.from(u.current.values())}};class o1{constructor(){zr(this,"registration",null);zr(this,"isSupported",!1);zr(this,"isSubscribed",!1);zr(this,"subscription",null);this.isSupported="serviceWorker"in navigator&&"PushManager"in window,this.initialize()}async initialize(){if(!this.isSupported){console.log(" Push notifications not supported");return}try{this.registration=await navigator.serviceWorker.getRegistration()||null,this.registration&&(this.isSubscribed=!!await this.registration.pushManager.getSubscription(),console.log(" Push notification service initialized"))}catch(e){console.error(" Failed to initialize push notifications:",e)}}async requestPermission(){if(!this.isSupported)return console.log(" Push notifications not supported"),!1;if(Notification.permission==="granted")return!0;if(Notification.permission==="denied")return console.log(" Notification permission denied"),!1;try{return await Notification.requestPermission()==="granted"}catch(e){return console.error(" Failed to request notification permission:",e),!1}}async subscribe(){if(!this.isSupported||!this.registration)return console.log(" Push notifications not supported or registration not available"),null;try{if(!await this.requestPermission())return null;const n={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_VAPID_PUBLIC_KEY;if(!n)return console.log(" VAPID public key not configured"),null;const r=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(n)});return this.subscription=r,this.isSubscribed=!0,console.log(" Push notification subscription created:",r),await this.sendSubscriptionToServer(r),r}catch(e){return console.error(" Failed to subscribe to push notifications:",e),null}}async unsubscribe(){if(!this.subscription)return!1;try{return await this.subscription.unsubscribe(),this.subscription=null,this.isSubscribed=!1,console.log(" Push notification subscription removed"),await this.removeSubscriptionFromServer(),!0}catch(e){return console.error(" Failed to unsubscribe from push notifications:",e),!1}}async sendLocalNotification(e){if(!this.isSupported)return null;try{if(!await this.requestPermission())return null;const r=new Notification(e.title,{body:e.body,icon:e.icon||"/icons/icon-192.png",badge:e.badge||"/icons/icon-192.png",data:e.data,requireInteraction:e.requireInteraction||!1,silent:e.silent||!1,tag:e.tag});return r.onclick=o=>{console.log(" Notification clicked:",o),this.handleNotificationClick(e,o)},r.onclose=()=>{console.log(" Notification closed")},r.onshow=()=>{console.log(" Notification shown")},r}catch(n){return console.error(" Failed to send local notification:",n),null}}async sendScheduledNotification(e,n){if(!this.isSupported)return-1;try{const r=setTimeout(async()=>{await this.sendLocalNotification(e)},n);return console.log(` Scheduled notification for ${n}ms from now`),r}catch(r){return console.error(" Failed to schedule notification:",r),-1}}cancelScheduledNotification(e){try{return clearTimeout(e),console.log(" Scheduled notification cancelled"),!0}catch(n){return console.error(" Failed to cancel scheduled notification:",n),!1}}async sendReminderNotification(e,n){const r={title:" Activity Reminder",body:`Time for: ${e.title}`,icon:"/icons/icon-192.png",data:{type:"reminder",activityId:e.id},requireInteraction:!0,actions:[{action:"view",title:"View Details"},{action:"dismiss",title:"Dismiss"}]};return this.sendScheduledNotification(r,n)}async sendLocationNotification(e,n){if(this.calculateDistance(n.lat,n.lng,e.location.lat,e.location.lng)<=.5){const o={title:" Nearby Activity",body:`You're close to: ${e.title}`,icon:"/icons/icon-192.png",data:{type:"location",activityId:e.id},requireInteraction:!1};await this.sendLocalNotification(o)}}async sendOfflineSyncNotification(e,n){const r={title:" Sync Complete",body:`Successfully synced ${n} ${e}`,icon:"/icons/icon-192.png",data:{type:"sync",syncType:e,count:n},requireInteraction:!1};await this.sendLocalNotification(r)}async sendPerformanceAlert(e,n,r){const o={title:" Performance Alert",body:`${e}: ${n} (threshold: ${r})`,icon:"/icons/icon-192.png",data:{type:"performance",metric:e,value:n,threshold:r},requireInteraction:!1};await this.sendLocalNotification(o)}handleNotificationClick(e,n){var o,a,u;const r=n.target;((o=e.data)==null?void 0:o.type)==="reminder"?window.location.href=`/?activity=${e.data.activityId}`:((a=e.data)==null?void 0:a.type)==="location"?window.location.href=`/?view=map&center=${e.data.activityId}`:((u=e.data)==null?void 0:u.type)==="sync"&&(window.location.href="/?view=sync"),r.close()}calculateDistance(e,n,r,o){const u=this.deg2rad(r-e),h=this.deg2rad(o-n),d=Math.sin(u/2)*Math.sin(u/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(r))*Math.sin(h/2)*Math.sin(h/2);return 3959*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))}deg2rad(e){return e*(Math.PI/180)}urlBase64ToUint8Array(e){if(!e)return new Uint8Array(0);const n="=".repeat((4-e.length%4)%4),r=(e+n).replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(r),a=new Uint8Array(o.length);for(let u=0;u<o.length;++u)a[u]=o.charCodeAt(u);return a}async sendSubscriptionToServer(e){try{console.log(" Subscription sent to server:",e)}catch(n){console.error(" Failed to send subscription to server:",n)}}async removeSubscriptionFromServer(){try{console.log(" Unsubscription sent to server")}catch(e){console.error(" Failed to remove subscription from server:",e)}}getSubscriptionStatus(){return{isSupported:this.isSupported,isSubscribed:this.isSubscribed}}getCurrentSubscription(){return this.subscription}}const Of=new o1,a1=()=>{const[t,e]=O.useState({features:{isInstallable:!1,isInstalled:!1,isStandalone:!1,isOnline:navigator.onLine,hasPushSupport:"serviceWorker"in navigator&&"PushManager"in window,hasBackgroundSync:"serviceWorker"in navigator&&"sync"in window,hasFileHandling:"launchQueue"in window,hasShareTarget:"share"in navigator},installPrompt:null,isInstalling:!1,installationProgress:0,lastUpdateCheck:null,updateAvailable:!1,offlineQueue:[],syncStatus:"idle"}),n=O.useRef(null),r=O.useRef(null),o=O.useRef(null),a=O.useCallback(()=>{const k=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;e(P=>({...P,features:{...P.features,isInstalled:k}}))},[]),u=O.useCallback(()=>{const k=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;e(P=>({...P,features:{...P.features,isStandalone:k}}))},[]),h=O.useCallback(k=>{k.preventDefault(),n.current=k,e(P=>({...P,features:{...P.features,isInstallable:!0},installPrompt:k})),console.log(" Install prompt captured")},[]),d=O.useCallback(()=>{e(k=>({...k,features:{...k.features,isInstalled:!0,isInstallable:!1},installPrompt:null})),console.log(" App installed successfully")},[]),p=O.useCallback(()=>{const k=navigator.onLine;e(P=>({...P,features:{...P.features,isOnline:k}})),k&&t.offlineQueue.length>0&&setTimeout(()=>g(),0),console.log(` Network status: ${k?"Online":"Offline"}`)},[t.offlineQueue]),g=O.useCallback(async()=>{if(t.offlineQueue.length!==0){e(k=>({...k,syncStatus:"syncing"}));try{const k=[...t.offlineQueue];let P=0;for(const I of k)try{await _(I),P++}catch(M){console.error(" Failed to process queued item:",M)}e(I=>({...I,offlineQueue:I.offlineQueue.filter(M=>!k.some(z=>z.id===M.id)),syncStatus:"completed"})),P>0&&await Of.sendOfflineSyncNotification("items",P),console.log(` Processed ${P} offline items`)}catch(k){console.error(" Failed to process offline queue:",k),e(P=>({...P,syncStatus:"error"}))}}},[t.offlineQueue]),_=async k=>{await new Promise(P=>setTimeout(P,100))},v=O.useCallback(k=>{const P={...k,id:Date.now(),timestamp:new Date().toISOString()};e(I=>({...I,offlineQueue:[...I.offlineQueue,P]})),console.log(" Item added to offline queue:",P)},[]),E=O.useCallback(async()=>{if(!n.current)return console.log(" No install prompt available"),!1;try{e(I=>({...I,isInstalling:!0,installationProgress:0}));const k=setInterval(()=>{e(I=>({...I,installationProgress:Math.min(I.installationProgress+20,90)}))},200);await n.current.prompt();const{outcome:P}=await n.current.userChoice;return clearInterval(k),P==="accepted"?(e(I=>({...I,installationProgress:100,features:{...I.features,isInstallable:!1}})),n.current=null,console.log(" PWA installation accepted"),!0):(e(I=>({...I,installationProgress:0,isInstalling:!1})),console.log(" PWA installation dismissed"),!1)}catch(k){return console.error(" Failed to install PWA:",k),e(P=>({...P,installationProgress:0,isInstalling:!1})),!1}finally{setTimeout(()=>{e(k=>({...k,isInstalling:!1,installationProgress:0}))},1e3)}},[]),T=O.useCallback(async()=>{try{e(P=>({...P,lastUpdateCheck:new Date}));const k=Math.random()>.7;return e(P=>({...P,updateAvailable:k})),k?(console.log(" App update available"),await Of.sendLocalNotification({title:" Update Available",body:"A new version of the app is available. Refresh to update.",requireInteraction:!0,actions:[{action:"refresh",title:"Refresh Now"},{action:"later",title:"Later"}]})):console.log(" App is up to date"),k}catch(k){return console.error(" Failed to check for updates:",k),!1}},[]),b=O.useCallback(async k=>{if(!navigator.share)return console.log(" Web Share API not supported"),!1;try{return await navigator.share(k),console.log(" Content shared successfully"),!0}catch(P){return P.name!=="AbortError"&&console.error(" Failed to share content:",P),!1}},[]),N=O.useCallback(async k=>{if(!("launchQueue"in window))return console.log(" File handling not supported"),!1;try{if(console.log(" File opened:",k.name),k.type==="application/json"){const P=await k.text(),I=JSON.parse(P);return window.dispatchEvent(new CustomEvent("file-opened",{detail:{file:k,data:I,type:"json"}})),!0}return!1}catch(P){return console.error(" Failed to handle file:",P),!1}},[]),S=O.useCallback(()=>({name:"Itinerary Killer",version:"1.0.0",description:"Plan your perfect Orlando adventure",features:t.features,lastUpdate:t.lastUpdateCheck,updateAvailable:t.updateAvailable}),[t.features,t.lastUpdateCheck,t.updateAvailable]),y=O.useCallback(()=>({count:t.offlineQueue.length,items:t.offlineQueue,syncStatus:t.syncStatus}),[t.offlineQueue,t.syncStatus]),w=O.useCallback(()=>{e(k=>({...k,offlineQueue:[]})),console.log(" Offline queue cleared")},[]);return O.useEffect(()=>{a(),u(),r.current=h,o.current=d,window.addEventListener("beforeinstallprompt",r.current),window.addEventListener("appinstalled",o.current),window.addEventListener("online",p),window.addEventListener("offline",p);const k=setInterval(T,1e3*60*60),P=setInterval(a,1e3*60*5);return()=>{r.current&&window.removeEventListener("beforeinstallprompt",r.current),o.current&&window.removeEventListener("appinstalled",o.current),window.removeEventListener("online",p),window.removeEventListener("offline",p),clearInterval(k),clearInterval(P)}},[a,u,h,d,p,T]),{...t,installPWA:E,checkForUpdates:T,shareContent:b,handleFileOpen:N,addToOfflineQueue:v,clearOfflineQueue:w,processOfflineQueue:g,getAppInfo:S,getOfflineQueueStatus:y}},l1=O.lazy(()=>Zn(()=>import("./AddItemModal-b4542a16.js"),["assets/AddItemModal-b4542a16.js","assets/search-062b1e79.js"])),u1=O.lazy(()=>Zn(()=>import("./ImportJsonModal-674e1023.js"),[])),c1=O.lazy(()=>Zn(()=>import("./ItineraryList-90f9d48e.js"),["assets/ItineraryList-90f9d48e.js","assets/search-062b1e79.js"]));function h1({center:t}){const e=Qm();return O.useEffect(()=>{e.setView(t,13)},[t,e]),null}function d1({onMapClick:t}){return L0({click:t}),null}function f1(){const t=D0(),[e,n]=O.useState(null),[r,o]=O.useState(!1),[a,u]=O.useState(!0),[h,d]=O.useState(!1),[p,g]=O.useState(!1),[_,v]=O.useState(null),[E,T]=O.useState(()=>{try{return localStorage.getItem("site-authed")==="true"}catch{return!1}}),[b,N]=O.useState(()=>{const K={}.VITE_SITE_PASSWORD;return K&&K.length>0?K:void 0}),[S,y]=O.useState(!0),[w,k]=O.useState(0),P=[28.5383,-81.3792],[I,M]=O.useState(P),{items:z,addItem:G,addItems:V,updateItem:re,deleteItem:ge,loading:ye}=Xk(),{trackComponentLoadStart:pe,trackComponentLoadEnd:F}=n1(),{metrics:Z,performanceScore:Y,trackComponentLoadStart:j,trackComponentLoadEnd:H,trackRenderStart:B,trackRenderEnd:Q,trackUserInteraction:ie,generateReport:de}=i1();window.__IK_ADV_METRICS_ACTIVE=!0;const{isSupported:ce,isInstalled:oe,isUpdated:X,isOnline:Ke,skipWaiting:Wt}=th(),{trackUserAction:vr,cacheMapTilesIntelligently:yr}=r1(),{isOnline:Vn,requestOfflineSync:qn}=s1(),{features:Zt,installPWA:ja,isInstalling:ki,installationProgress:Ds,shareContent:wr,offlineQueue:Gn,syncStatus:Si}=a1();O.useEffect(()=>{let K=!1;return(async()=>{if(b)return;let Ee={}.VITE_GOOGLE_PROXY_URL;if(!Ee)try{const Ce=await fetch("/itinerary-killer/"+"runtime-config.json",{cache:"no-store"});if(Ce.ok){const Qe=await Ce.json();Ee=(Qe==null?void 0:Qe.VITE_GOOGLE_PROXY_URL)||Ee,console.log("[secrets] runtime-config (for /keys) VITE_GOOGLE_PROXY_URL =",Qe==null?void 0:Qe.VITE_GOOGLE_PROXY_URL)}}catch{}if(Ee)try{const _e=new URL(Ee);_e.pathname="/keys";const Ce=await fetch(_e.toString(),{method:"GET",mode:"cors"});if(!Ce.ok)return;const Qe=await Ce.json().catch(()=>({}));!K&&(Qe!=null&&Qe.SITE_PASSWORD)&&(N(Qe.SITE_PASSWORD),console.log("[secrets] Loaded SITE_PASSWORD from /keys"))}catch(_e){console.warn("[secrets] Failed to load SITE_PASSWORD from /keys",_e)}})(),()=>{K=!0}},[b]);const Kn=(K=!0,ue=1)=>{if(!navigator.geolocation){const _e="Geolocation is not supported by this browser.";v(_e),K&&alert(_e);return}g(!0),v(null);let Ee;ue===1?Ee={enableHighAccuracy:!0,timeout:3e4,maximumAge:3e5}:ue===2?Ee={enableHighAccuracy:!1,timeout:15e3,maximumAge:6e5}:Ee={enableHighAccuracy:!1,timeout:8e3,maximumAge:9e5},console.log(` Location attempt ${ue} with options:`,Ee),console.log(" GPS Tip: If this times out, try moving to an open area or wait 2-3 minutes for GPS to stabilize"),navigator.geolocation.getCurrentPosition(_e=>{const Ce={lat:_e.coords.latitude,lng:_e.coords.longitude,accuracy:_e.coords.accuracy,timestamp:new Date};n(Ce),M([Ce.lat,Ce.lng]),g(!1),v(null),K&&console.log(" Location obtained successfully:",Ce)},_e=>{if(console.error(` Location attempt ${ue} failed:`,_e),_e.code===_e.TIMEOUT&&ue<3){console.log(` Retrying with attempt ${ue+1}...`),setTimeout(()=>Kn(K,ue+1),1e3);return}g(!1);let Ce="Unable to get your location.";switch(_e.code){case _e.PERMISSION_DENIED:Ce="Location access denied. Please enable location permissions in your browser settings.";break;case _e.POSITION_UNAVAILABLE:Ce="Location information is unavailable. Please try again.";break;case _e.TIMEOUT:Ce="Location request timed out after multiple attempts. Try moving to an open area or use manual location.";break;default:Ce=`Location error: ${_e.message}`}v(Ce),K&&alert(Ce)},Ee)};O.useEffect(()=>{if(!E)return;(async()=>{try{pe("Core Initialization"),j("Core Initialization"),B("App"),k(20),await new Promise(ue=>setTimeout(ue,200)),F("Core Initialization"),H("Core Initialization"),pe("Database Connection"),j("Database Connection"),k(40),await new Promise(ue=>setTimeout(ue,300)),F("Database Connection"),H("Database Connection"),pe("Map Initialization"),j("Map Initialization"),k(60),await new Promise(ue=>setTimeout(ue,400)),F("Map Initialization"),H("Map Initialization"),pe("Location Services"),j("Location Services"),k(80),await Kn(!1),F("Location Services"),H("Location Services"),k(100),await new Promise(ue=>setTimeout(ue,200)),Q("App"),y(!1)}catch(ue){console.error("Loading sequence failed:",ue),y(!1)}})()},[E,pe,F,j,H,B,Q]),O.useEffect(()=>{window.innerWidth<=768&&u(!1)},[]),O.useEffect(()=>{if(window.innerWidth>768)return;let K=0,ue=0,Ee=!1;const _e=It=>{K=It.touches[0].clientX,ue=It.touches[0].clientY,Ee=!1},Ce=It=>{if(!Ee){const vn=Math.abs(It.touches[0].clientX-K),Qn=Math.abs(It.touches[0].clientY-ue);vn>20&&Qn<50&&(Ee=!0)}},Qe=It=>{if(Ee){const vn=It.changedTouches[0].clientX-K,Qn=Math.abs(It.changedTouches[0].clientY-ue);vn>50&&Qn<50&&K<50?u(!0):vn<-50&&Qn<50&&a&&u(!1)}};return document.addEventListener("touchstart",_e,{passive:!0}),document.addEventListener("touchmove",Ce,{passive:!0}),document.addEventListener("touchend",Qe,{passive:!0}),()=>{document.removeEventListener("touchstart",_e),document.removeEventListener("touchmove",Ce),document.removeEventListener("touchend",Qe)}},[a]),O.useEffect(()=>{if(window.innerWidth>768||!a)return;const K=ue=>{const Ee=ue.target;!Ee.closest(".sidebar")&&!Ee.closest(".sidebar-toggle")&&u(!1)};return document.addEventListener("click",K),()=>document.removeEventListener("click",K)},[a]);const kr=async K=>{vr("add-item"),ie("add-item",{itemCategory:K.category});const ue={...K,id:Date.now().toString(),createdAt:new Date,completed:!1};Vn?await G(ue):await qn("add-item",{item:ue}),o(!1)},Sr=K=>{vr("view-map"),ie("view-map",{itemId:K.id,itemCategory:K.category}),M([K.location.lat,K.location.lng]),Ke&&yr([K.location.lat,K.location.lng],13)},Bs=K=>{const{lat:ue,lng:Ee}=K.latlng,_e={lat:ue,lng:Ee,accuracy:100,timestamp:new Date};n(_e),v(null),console.log("Manual location set:",_e)},$s=K=>{if(!e)return null;const ue=e1(e.lat,e.lng,K.location.lat,K.location.lng);return ue<1?`${Math.round(ue*5280)} ft`:`${ue.toFixed(1)} mi`},Na=new hr.Icon({iconUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMloiIGZpbGw9IiMzQjgyRjYiLz4KPHBhdGggZD0iTTEyIDZDNi40OCA2IDIgMTAuNDggMiAxNkMyIDE5LjUyIDQuNDggMjIgOCAyMkMxMS41MiAyMiAxNCAxOS41MiAxNCAxNkMxNCAxMi40OCAxMS41MiA5IDggOUM0LjQ4IDkgMSAxMi40OCAxIDE2QzEgMTkuNTIgNC40OCAyMyA4IDIzQzExLjUyIDIzIDE1IDE5LjUyIDE1IDE2QzE1IDEyLjQ4IDExLjUyIDkgOCA5WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),xr=new hr.Icon({iconUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMloiIGZpbGw9IiMxMEI5NEEiLz4KPHBhdGggZD0iTTEyIDZDNi40OCA2IDIgMTAuNDggMiAxNkMyIDE5LjUyIDQuNDggMjIgOCAyMkMxMS41MiAyMiAxNCAxOS41MiAxNCAxNkMxNCAxMi40OCAxMS41MiA5IDggOUM0LjQ4IDkgMSAxMi40OCAxIDE2QzEgMTkuNTIgNC40OCAyMyA4IDIzQzExLjUyIDIzIDE1IDE5LjUyIDE1IDE2QzE1IDEyLjQ4IDExLjUyIDkgOCA5WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});return t.status==="checking"?C.jsx("div",{className:"app",style:{display:"grid",placeItems:"center",minHeight:"100vh",padding:16},children:C.jsx("div",{children:"Verifying environment"})}):t.status==="locked"?C.jsx(z0,{reason:t.reason}):E?S?C.jsx(t1,{loadingProgress:w}):C.jsxs("div",{className:"app",children:[C.jsxs("div",{className:`sidebar ${a?"open":""}`,children:[C.jsxs("div",{className:"sidebar-header",children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[C.jsxs("div",{children:[C.jsx("h1",{children:" Itinerary Killer"}),C.jsx("p",{children:"Plan your perfect Orlando adventure"})]}),window.innerWidth<=768&&C.jsx("button",{onClick:()=>u(!1),style:{background:"rgba(255, 255, 255, 0.2)",border:"none",color:"white",padding:"0.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"1.5rem",lineHeight:1,minWidth:"44px",minHeight:"44px",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Close sidebar",children:""})]}),C.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[C.jsx("button",{onClick:()=>o(!0),"aria-label":"Add new activity",children:"Add"}),C.jsx("button",{onClick:()=>d(!0),"aria-label":"Import activities JSON",children:"Import"})]}),C.jsx("div",{className:"location-status",children:p?C.jsxs("div",{className:"status-item loading",children:[C.jsx(pf,{size:16,className:"animate-spin"}),C.jsx("span",{children:"Getting location..."})]}):e?C.jsxs("div",{className:"status-item success",children:[C.jsx(xo,{size:16}),C.jsx("span",{children:"Location active"}),C.jsxs("div",{className:"coordinates",children:[e.lat.toFixed(4),", ",e.lng.toFixed(4)]}),C.jsxs("div",{className:"accuracy",children:["",Math.round(e.accuracy),"m"]})]}):_?C.jsxs("div",{className:"status-item error",children:[C.jsx(ff,{size:16}),C.jsx("span",{children:"Location unavailable"}),C.jsx("button",{className:"retry-button",onClick:()=>Kn(!1),children:"Retry"})]}):C.jsxs("div",{className:"status-item",children:[C.jsx(xo,{size:16}),C.jsx("span",{children:"Click map button for location"})]})}),C.jsxs("div",{className:"sw-status",children:[C.jsxs("div",{className:"status-item",children:[C.jsx("div",{className:"status-icon",children:ce?"":""}),C.jsxs("span",{children:["Service Worker: ",ce?oe?"Active":"Installing...":"Not Supported"]}),X&&C.jsx("button",{className:"update-button",onClick:Wt,style:{background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.4)",color:"#3b82f6",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",cursor:"pointer"},children:"Update Available"})]}),C.jsxs("div",{className:"status-item",children:[C.jsx("div",{className:"status-icon",children:Vn?"":""}),C.jsxs("span",{children:["Network: ",Vn?"Online":"Offline"]}),null]})]}),C.jsxs("div",{className:"pwa-status",children:[C.jsxs("div",{className:"status-item",children:[C.jsx("div",{className:"status-icon",children:Zt.isInstallable?"":Zt.isInstalled?"":""}),C.jsxs("span",{children:["PWA: ",Zt.isInstallable?"Installable":Zt.isInstalled?"Installed":"Not Available"]}),Zt.isInstallable&&C.jsx("button",{className:"install-button",onClick:ja,disabled:ki,style:{background:"rgba(34, 197, 94, 0.2)",border:"1px solid rgba(34, 197, 94, 0.4)",color:"#22c55e",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",cursor:ki?"not-allowed":"pointer"},children:ki?`Installing... ${Ds}%`:"Install App"})]}),C.jsxs("div",{className:"status-item",children:[C.jsx("div",{className:"status-icon",children:Y>=90?"":Y>=70?"":""}),C.jsxs("span",{children:["Performance: ",Y,"/100"]}),Z&&C.jsxs("div",{className:"performance-details",children:[C.jsxs("div",{children:["LCP: ",Z.lcp.toFixed(0),"ms"]}),C.jsxs("div",{children:["FID: ",Z.fid.toFixed(0),"ms"]}),C.jsxs("div",{children:["CLS: ",Z.cls.toFixed(3)]})]})]}),Gn.length>0&&C.jsxs("div",{className:"status-item",children:[C.jsx("div",{className:"status-icon",children:Si==="syncing"?"":Si==="completed"?"":""}),C.jsxs("span",{children:["Offline Queue: ",Gn.length," items"]}),C.jsx("div",{className:"sync-status",children:Si==="syncing"?"Syncing...":Si==="completed"?"Synced":"Pending"})]})]})]}),C.jsx("div",{className:"sidebar-content",children:C.jsx(O.Suspense,{fallback:C.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[C.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:""}),C.jsx("p",{children:"Loading itinerary..."})]}),children:C.jsx(c1,{items:z,onItemSelect:Sr,onItemUpdate:re,onItemDelete:ge,userLocation:e,getDistanceFromUser:$s,loading:ye})})})]}),C.jsxs("div",{className:"map-container",children:[C.jsx("button",{className:"sidebar-toggle",onClick:()=>u(!a),"aria-label":"Toggle itinerary sidebar",children:C.jsx(R0,{size:24})}),C.jsx("button",{className:`location-button ${p?"loading":""} ${_?"error":""}`,onClick:()=>Kn(!0),disabled:p,title:_||"Get current location","aria-label":"Get current location",style:{marginTop:"env(safe-area-inset-top)",marginRight:"env(safe-area-inset-right)"},children:p?C.jsxs("div",{className:"loading-content",children:[C.jsx(pf,{size:20,className:"animate-spin"}),C.jsx("span",{className:"loading-text",children:"Getting location..."})]}):C.jsx(xo,{size:20})}),_&&C.jsxs("div",{className:"location-error-tooltip",children:[C.jsx(ff,{size:16}),C.jsx("span",{children:_}),_.includes("timed out")&&C.jsxs("div",{className:"timeout-help",children:[C.jsxs("p",{children:[" ",C.jsx("strong",{children:"GPS Signal Too Weak - Try These:"})]}),C.jsxs("div",{className:"gps-tips",children:[C.jsxs("div",{className:"tip-priority high",children:[C.jsxs("span",{children:[" ",C.jsx("strong",{children:"Immediate:"})]}),C.jsxs("ul",{children:[C.jsx("li",{children:"Click anywhere on the map to set location manually"}),C.jsx("li",{children:"This bypasses GPS and works instantly"})]})]}),C.jsxs("div",{className:"tip-priority medium",children:[C.jsxs("span",{children:[" ",C.jsx("strong",{children:"Better GPS Signal:"})]}),C.jsxs("ul",{children:[C.jsx("li",{children:"Move to an open area (park, parking lot, street)"}),C.jsx("li",{children:"Go outside if you're indoors"}),C.jsx("li",{children:"Wait 2-3 minutes for GPS to stabilize"})]})]}),C.jsxs("div",{className:"tip-priority low",children:[C.jsxs("span",{children:[" ",C.jsx("strong",{children:"Device Settings:"})]}),C.jsxs("ul",{children:[C.jsx("li",{children:"Enable location services on your device"}),C.jsx("li",{children:"Turn on GPS in device settings"}),C.jsx("li",{children:"Try refreshing the page after moving"})]})]})]})]})]}),C.jsx("button",{className:"add-item-button",onClick:()=>o(!0),"aria-label":"Add new activity",style:{marginBottom:"env(safe-area-inset-bottom)",marginRight:"env(safe-area-inset-right)"},children:C.jsx(j0,{size:24})}),Zt.hasShareTarget&&C.jsx("button",{className:"share-button",onClick:()=>wr({title:"My Orlando Adventure",text:`Check out my ${z.length} planned activities in Orlando!`,url:window.location.href}),"aria-label":"Share itinerary",style:{marginBottom:"env(safe-area-inset-bottom)",marginRight:"env(safe-area-inset-right)",marginTop:"1rem"},children:""}),C.jsx("button",{className:"performance-button",onClick:()=>{const K=de();console.log(K),alert("Performance report logged to console. Check developer tools.")},"aria-label":"Generate performance report",style:{marginBottom:"env(safe-area-inset-bottom)",marginRight:"env(safe-area-inset-right)",marginTop:"1rem"},children:""}),C.jsxs(I0,{center:I,zoom:13,className:"map",zoomControl:!1,children:[C.jsx(O0,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),!e&&!p&&C.jsxs("div",{className:"map-instruction",children:[C.jsx(xo,{size:20}),C.jsx("span",{children:"Click anywhere on the map to set your location"}),C.jsxs("div",{className:"manual-location-hint",children:[C.jsx("strong",{children:" Quick Fix:"})," This bypasses GPS and works instantly!"]})]}),window.innerWidth<=768&&C.jsx("div",{className:"swipe-hint",children:" Swipe right from left edge to open itinerary"}),e&&C.jsx(hf,{position:[e.lat,e.lng],icon:xr,children:C.jsx(df,{children:C.jsxs("div",{children:[C.jsx("h3",{children:" You are here"}),C.jsxs("p",{children:["Accuracy: ",Math.round(e.accuracy),"m"]})]})})}),z.map(K=>C.jsx(hf,{position:[K.location.lat,K.location.lng],icon:Na,eventHandlers:{click:()=>Sr(K)},children:C.jsx(df,{children:C.jsxs("div",{children:[C.jsx("h3",{children:K.title}),C.jsx("p",{children:K.description}),C.jsxs("p",{children:[C.jsx("strong",{children:"Category:"})," ",K.category]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Priority:"})," ",K.priority]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Duration:"})," ",K.estimatedDuration," min"]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Cost:"})," $",K.cost]}),e&&C.jsxs("p",{className:"distance",children:[" ",$s(K)]})]})})},K.id)),C.jsx(h1,{center:I}),C.jsx(d1,{onMapClick:Bs})]})]}),r&&C.jsx(O.Suspense,{fallback:C.jsx("div",{className:"modal",children:C.jsx("div",{className:"modal-content",children:C.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[C.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),C.jsx("p",{children:"Loading add activity form..."})]})})}),children:C.jsx(l1,{onClose:()=>o(!1),onAdd:kr,userLocation:e})}),h&&C.jsx(O.Suspense,{fallback:C.jsx("div",{className:"modal",children:C.jsx("div",{className:"modal-content",children:C.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[C.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),C.jsx("p",{children:"Loading import form..."})]})})}),children:C.jsx(u1,{onClose:()=>d(!1),onImport:async K=>{await V(K),d(!1)}})})]}):C.jsx(N0,{expectedPassword:b,onAuthenticated:()=>{T(!0);try{localStorage.setItem("site-authed","true")}catch{}}})}Vl.createRoot(document.getElementById("root")).render(C.jsx(f1,{}));export{xo as M,L1 as a,E1 as b,js as c,_t as d,U_ as e,C1 as f,T1 as g,C as j,O as r};
