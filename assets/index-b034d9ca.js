var F_=Object.defineProperty;var W_=(t,e,n)=>e in t?F_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Dr=(t,e,n)=>(W_(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function H_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Nf={exports:{}},va={},zf={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=Symbol.for("react.element"),V_=Symbol.for("react.portal"),q_=Symbol.for("react.fragment"),G_=Symbol.for("react.strict_mode"),K_=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),J_=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),X_=Symbol.for("react.suspense"),ev=Symbol.for("react.memo"),tv=Symbol.for("react.lazy"),id=Symbol.iterator;function nv(t){return t===null||typeof t!="object"?null:(t=id&&t[id]||t["@@iterator"],typeof t=="function"?t:null)}var Df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bf=Object.assign,$f={};function pr(t,e,n){this.props=t,this.context=e,this.refs=$f,this.updater=n||Df}pr.prototype.isReactComponent={};pr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uf(){}Uf.prototype=pr.prototype;function tc(t,e,n){this.props=t,this.context=e,this.refs=$f,this.updater=n||Df}var nc=tc.prototype=new Uf;nc.constructor=tc;Bf(nc,pr.prototype);nc.isPureReactComponent=!0;var rd=Array.isArray,Ff=Object.prototype.hasOwnProperty,ic={current:null},Wf={key:!0,ref:!0,__self:!0,__source:!0};function Zf(t,e,n){var r,o={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)Ff.call(e,r)&&!Wf.hasOwnProperty(r)&&(o[r]=e[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:As,type:t,key:a,ref:u,props:o,_owner:ic.current}}function iv(t,e){return{$$typeof:As,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rc(t){return typeof t=="object"&&t!==null&&t.$$typeof===As}function rv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sd=/\/+/g;function pl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rv(""+t.key):e.toString(36)}function Mo(t,e,n,r,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case As:case V_:u=!0}}if(u)return u=t,o=o(u),t=r===""?"."+pl(u,0):r,rd(o)?(n="",t!=null&&(n=t.replace(sd,"$&/")+"/"),Mo(o,e,n,"",function(p){return p})):o!=null&&(rc(o)&&(o=iv(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(sd,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=r===""?".":r+":",rd(t))for(var h=0;h<t.length;h++){a=t[h];var d=r+pl(a,h);u+=Mo(a,e,n,d,o)}else if(d=nv(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=r+pl(a,h++),u+=Mo(a,e,n,d,o);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function lo(t,e,n){if(t==null)return t;var r=[],o=0;return Mo(t,r,"","",function(a){return e.call(n,a,o++)}),r}function sv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Ro={transition:null},ov={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ro,ReactCurrentOwner:ic};function Hf(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:lo,forEach:function(t,e,n){lo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lo(t,function(){e++}),e},toArray:function(t){return lo(t,function(e){return e})||[]},only:function(t){if(!rc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=pr;ue.Fragment=q_;ue.Profiler=K_;ue.PureComponent=tc;ue.StrictMode=G_;ue.Suspense=X_;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ov;ue.act=Hf;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bf({},t.props),o=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=ic.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)Ff.call(e,d)&&!Wf.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:As,type:t.type,key:o,ref:a,props:r,_owner:u}};ue.createContext=function(t){return t={$$typeof:J_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q_,_context:t},t.Consumer=t};ue.createElement=Zf;ue.createFactory=function(t){var e=Zf.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Y_,render:t}};ue.isValidElement=rc;ue.lazy=function(t){return{$$typeof:tv,_payload:{_status:-1,_result:t},_init:sv}};ue.memo=function(t,e){return{$$typeof:ev,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Ro.transition;Ro.transition={};try{t()}finally{Ro.transition=e}};ue.unstable_act=Hf;ue.useCallback=function(t,e){return st.current.useCallback(t,e)};ue.useContext=function(t){return st.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return st.current.useDeferredValue(t)};ue.useEffect=function(t,e){return st.current.useEffect(t,e)};ue.useId=function(){return st.current.useId()};ue.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return st.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};ue.useRef=function(t){return st.current.useRef(t)};ue.useState=function(t){return st.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return st.current.useTransition()};ue.version="18.3.1";zf.exports=ue;var O=zf.exports;const Ho=Z_(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=O,lv=Symbol.for("react.element"),uv=Symbol.for("react.fragment"),cv=Object.prototype.hasOwnProperty,hv=av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dv={key:!0,ref:!0,__self:!0,__source:!0};function Vf(t,e,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)cv.call(e,r)&&!dv.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:lv,type:t,key:a,ref:u,props:o,_owner:hv.current}}va.Fragment=uv;va.jsx=Vf;va.jsxs=Vf;Nf.exports=va;var P=Nf.exports,Kl={},qf={exports:{}},wt={},Gf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,V){var B=j.length;j.push(V);e:for(;0<B;){var Q=B-1>>>1,re=j[Q];if(0<o(re,V))j[Q]=V,j[B]=re,B=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var V=j[0],B=j.pop();if(B!==V){j[0]=B;e:for(var Q=0,re=j.length,fe=re>>>1;Q<fe;){var he=2*(Q+1)-1,ae=j[he],X=he+1,Ke=j[X];if(0>o(ae,B))X<re&&0>o(Ke,ae)?(j[Q]=Ke,j[X]=B,Q=X):(j[Q]=ae,j[he]=B,Q=he);else if(X<re&&0>o(Ke,B))j[Q]=Ke,j[X]=B,Q=X;else break e}}return V}function o(j,V){var B=j.sortIndex-V.sortIndex;return B!==0?B:j.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,_=null,v=3,b=!1,E=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var V=n(p);V!==null;){if(V.callback===null)r(p);else if(V.startTime<=j)r(p),V.sortIndex=V.expirationTime,e(d,V);else break;V=n(p)}}function k(j){if(C=!1,w(j),!E)if(n(d)!==null)E=!0,H(T);else{var V=n(p);V!==null&&Y(k,V.startTime-j)}}function T(j,V){E=!1,C&&(C=!1,S(z),z=-1),b=!0;var B=v;try{for(w(V),_=n(d);_!==null&&(!(_.expirationTime>V)||j&&!se());){var Q=_.callback;if(typeof Q=="function"){_.callback=null,v=_.priorityLevel;var re=Q(_.expirationTime<=V);V=t.unstable_now(),typeof re=="function"?_.callback=re:_===n(d)&&r(d),w(V)}else r(d);_=n(d)}if(_!==null)var fe=!0;else{var he=n(p);he!==null&&Y(k,he.startTime-V),fe=!1}return fe}finally{_=null,v=B,b=!1}}var I=!1,M=null,z=-1,K=5,q=-1;function se(){return!(t.unstable_now()-q<K)}function ge(){if(M!==null){var j=t.unstable_now();q=j;var V=!0;try{V=M(!0,j)}finally{V?we():(I=!1,M=null)}}else I=!1}var we;if(typeof y=="function")we=function(){y(ge)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,W=_e.port2;_e.port1.onmessage=ge,we=function(){W.postMessage(null)}}else we=function(){N(ge,0)};function H(j){M=j,I||(I=!0,we())}function Y(j,V){z=N(function(){j(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){E||b||(E=!0,H(T))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var B=v;v=V;try{return j()}finally{v=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,V){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=v;v=j;try{return V()}finally{v=B}},t.unstable_scheduleCallback=function(j,V,B){var Q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,j){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=B+re,j={id:g++,callback:V,priorityLevel:j,startTime:B,expirationTime:re,sortIndex:-1},B>Q?(j.sortIndex=B,e(p,j),n(d)===null&&j===n(p)&&(C?(S(z),z=-1):C=!0,Y(k,B-Q))):(j.sortIndex=re,e(d,j),E||b||(E=!0,H(T))),j},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(j){var V=v;return function(){var B=v;v=V;try{return j.apply(this,arguments)}finally{v=B}}}})(Kf);Gf.exports=Kf;var fv=Gf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=O,yt=fv;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qf=new Set,ps={};function yi(t,e){sr(t,e),sr(t+"Capture",e)}function sr(t,e){for(ps[t]=e,t=0;t<e.length;t++)Qf.add(e[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,mv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,od={},ad={};function gv(t){return Ql.call(ad,t)?!0:Ql.call(od,t)?!1:mv.test(t)?ad[t]=!0:(od[t]=!0,!1)}function _v(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vv(t,e,n,r){if(e===null||typeof e>"u"||_v(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,o,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var sc=/[\-:]([a-z])/g;function oc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sc,oc);Ge[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sc,oc);Ge[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sc,oc);Ge[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function ac(t,e,n,r){var o=Ge.hasOwnProperty(e)?Ge[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vv(e,n,o,r)&&(n=null),r||o===null?gv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yn=pv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uo=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),lc=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),Jf=Symbol.for("react.provider"),Yf=Symbol.for("react.context"),uc=Symbol.for("react.forward_ref"),Yl=Symbol.for("react.suspense"),Xl=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),Xf=Symbol.for("react.offscreen"),ld=Symbol.iterator;function Br(t){return t===null||typeof t!="object"?null:(t=ld&&t[ld]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,ml;function Qr(t){if(ml===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ml=e&&e[1]||""}return`
`+ml+t}var gl=!1;function _l(t,e){if(!t||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qr(t):""}function yv(t){switch(t.tag){case 5:return Qr(t.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return t=_l(t.type,!1),t;case 11:return t=_l(t.type.render,!1),t;case 1:return t=_l(t.type,!0),t;default:return""}}function eu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fi:return"Fragment";case Ui:return"Portal";case Jl:return"Profiler";case lc:return"StrictMode";case Yl:return"Suspense";case Xl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yf:return(t.displayName||"Context")+".Consumer";case Jf:return(t._context.displayName||"Context")+".Provider";case uc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cc:return e=t.displayName||null,e!==null?e:eu(t.type)||"Memo";case Tn:e=t._payload,t=t._init;try{return eu(t(e))}catch{}}return null}function wv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eu(e);case 8:return e===lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ep(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kv(t){var e=ep(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function co(t){t._valueTracker||(t._valueTracker=kv(t))}function tp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ep(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tu(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ud(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function np(t,e){e=e.checked,e!=null&&ac(t,"checked",e,!1)}function nu(t,e){np(t,e);var n=Un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iu(t,e.type,n):e.hasOwnProperty("defaultValue")&&iu(t,e.type,Un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iu(t,e,n){(e!=="number"||Vo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jr=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function ru(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Jr(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Un(n)}}function ip(t,e){var n=Un(e.value),r=Un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function su(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ho,sp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ho=ho||document.createElement("div"),ho.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ho.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sv=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(t){Sv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ts[e]=ts[t]})});function op(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ts.hasOwnProperty(t)&&ts[t]?(""+e).trim():e+"px"}function ap(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=op(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var xv=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ou(t,e){if(e){if(xv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function au(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=null;function hc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uu=null,er=null,tr=null;function fd(t){if(t=js(t)){if(typeof uu!="function")throw Error($(280));var e=t.stateNode;e&&(e=xa(e),uu(t.stateNode,t.type,e))}}function lp(t){er?tr?tr.push(t):tr=[t]:er=t}function up(){if(er){var t=er,e=tr;if(tr=er=null,fd(t),e)for(t=0;t<e.length;t++)fd(e[t])}}function cp(t,e){return t(e)}function hp(){}var vl=!1;function dp(t,e,n){if(vl)return t(e,n);vl=!0;try{return cp(t,e,n)}finally{vl=!1,(er!==null||tr!==null)&&(hp(),up())}}function gs(t,e){var n=t.stateNode;if(n===null)return null;var r=xa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var cu=!1;if(mn)try{var $r={};Object.defineProperty($r,"passive",{get:function(){cu=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{cu=!1}function Pv(t,e,n,r,o,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(g){this.onError(g)}}var ns=!1,qo=null,Go=!1,hu=null,Ev={onError:function(t){ns=!0,qo=t}};function Tv(t,e,n,r,o,a,u,h,d){ns=!1,qo=null,Pv.apply(Ev,arguments)}function bv(t,e,n,r,o,a,u,h,d){if(Tv.apply(this,arguments),ns){if(ns){var p=qo;ns=!1,qo=null}else throw Error($(198));Go||(Go=!0,hu=p)}}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pd(t){if(wi(t)!==t)throw Error($(188))}function Cv(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return pd(o),t;if(a===r)return pd(o),e;a=a.sibling}throw Error($(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,r=a;break}if(h===r){u=!0,r=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=o;break}if(h===r){u=!0,r=a,n=o;break}h=h.sibling}if(!u)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function pp(t){return t=Cv(t),t!==null?mp(t):null}function mp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mp(t);if(e!==null)return e;t=t.sibling}return null}var gp=yt.unstable_scheduleCallback,md=yt.unstable_cancelCallback,Lv=yt.unstable_shouldYield,Iv=yt.unstable_requestPaint,Re=yt.unstable_now,Ov=yt.unstable_getCurrentPriorityLevel,dc=yt.unstable_ImmediatePriority,_p=yt.unstable_UserBlockingPriority,Ko=yt.unstable_NormalPriority,Av=yt.unstable_LowPriority,vp=yt.unstable_IdlePriority,ya=null,en=null;function Mv(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ya,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Nv,Rv=Math.log,jv=Math.LN2;function Nv(t){return t>>>=0,t===0?32:31-(Rv(t)/jv|0)|0}var fo=64,po=4194304;function Yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?r=Yr(h):(a&=u,a!==0&&(r=Yr(a)))}else u=n&~o,u!==0?r=Yr(u):a!==0&&(r=Yr(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ut(e),o=1<<n,r|=t[n],e&=~o;return r}function zv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-Ut(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&r)&&(o[u]=zv(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function du(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yp(){var t=fo;return fo<<=1,!(fo&4194240)&&(fo=64),t}function yl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ms(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ut(e),t[e]=n}function Bv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Ut(n),a=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~a}}function fc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ut(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ve=0;function wp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kp,pc,Sp,xp,Pp,fu=!1,mo=[],Mn=null,Rn=null,jn=null,_s=new Map,vs=new Map,Cn=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gd(t,e){switch(t){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":_s.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(e.pointerId)}}function Ur(t,e,n,r,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},e!==null&&(e=js(e),e!==null&&pc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Uv(t,e,n,r,o){switch(e){case"focusin":return Mn=Ur(Mn,t,e,n,r,o),!0;case"dragenter":return Rn=Ur(Rn,t,e,n,r,o),!0;case"mouseover":return jn=Ur(jn,t,e,n,r,o),!0;case"pointerover":var a=o.pointerId;return _s.set(a,Ur(_s.get(a)||null,t,e,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,vs.set(a,Ur(vs.get(a)||null,t,e,n,r,o)),!0}return!1}function Ep(t){var e=ui(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=fp(n),e!==null){t.blockedOn=e,Pp(t.priority,function(){Sp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lu=r,n.target.dispatchEvent(r),lu=null}else return e=js(n),e!==null&&pc(e),t.blockedOn=n,!1;e.shift()}return!0}function _d(t,e,n){jo(t)&&n.delete(e)}function Fv(){fu=!1,Mn!==null&&jo(Mn)&&(Mn=null),Rn!==null&&jo(Rn)&&(Rn=null),jn!==null&&jo(jn)&&(jn=null),_s.forEach(_d),vs.forEach(_d)}function Fr(t,e){t.blockedOn===e&&(t.blockedOn=null,fu||(fu=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Fv)))}function ys(t){function e(o){return Fr(o,t)}if(0<mo.length){Fr(mo[0],t);for(var n=1;n<mo.length;n++){var r=mo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mn!==null&&Fr(Mn,t),Rn!==null&&Fr(Rn,t),jn!==null&&Fr(jn,t),_s.forEach(e),vs.forEach(e),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&Cn.shift()}var nr=yn.ReactCurrentBatchConfig,Jo=!0;function Wv(t,e,n,r){var o=ve,a=nr.transition;nr.transition=null;try{ve=1,mc(t,e,n,r)}finally{ve=o,nr.transition=a}}function Zv(t,e,n,r){var o=ve,a=nr.transition;nr.transition=null;try{ve=4,mc(t,e,n,r)}finally{ve=o,nr.transition=a}}function mc(t,e,n,r){if(Jo){var o=pu(t,e,n,r);if(o===null)Ll(t,e,r,Yo,n),gd(t,r);else if(Uv(o,t,e,n,r))r.stopPropagation();else if(gd(t,r),e&4&&-1<$v.indexOf(t)){for(;o!==null;){var a=js(o);if(a!==null&&kp(a),a=pu(t,e,n,r),a===null&&Ll(t,e,r,Yo,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Ll(t,e,r,null,n)}}var Yo=null;function pu(t,e,n,r){if(Yo=null,t=hc(r),t=ui(t),t!==null)if(e=wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yo=t,null}function Tp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ov()){case dc:return 1;case _p:return 4;case Ko:case Av:return 16;case vp:return 536870912;default:return 16}default:return 16}}var On=null,gc=null,No=null;function bp(){if(No)return No;var t,e=gc,n=e.length,r,o="value"in On?On.value:On.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===o[a-r];r++);return No=o.slice(t,1<r?1-r:void 0)}function zo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function go(){return!0}function vd(){return!1}function kt(t){function e(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?go:vd,this.isPropagationStopped=vd,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),e}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=kt(mr),Rs=Oe({},mr,{view:0,detail:0}),Hv=kt(Rs),wl,kl,Wr,wa=Oe({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wr&&(Wr&&t.type==="mousemove"?(wl=t.screenX-Wr.screenX,kl=t.screenY-Wr.screenY):kl=wl=0,Wr=t),wl)},movementY:function(t){return"movementY"in t?t.movementY:kl}}),yd=kt(wa),Vv=Oe({},wa,{dataTransfer:0}),qv=kt(Vv),Gv=Oe({},Rs,{relatedTarget:0}),Sl=kt(Gv),Kv=Oe({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qv=kt(Kv),Jv=Oe({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yv=kt(Jv),Xv=Oe({},mr,{data:0}),wd=kt(Xv),ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ny[t])?!!e[t]:!1}function vc(){return iy}var ry=Oe({},Rs,{key:function(t){if(t.key){var e=ey[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ty[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(t){return t.type==="keypress"?zo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sy=kt(ry),oy=Oe({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kd=kt(oy),ay=Oe({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),ly=kt(ay),uy=Oe({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cy=kt(uy),hy=Oe({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dy=kt(hy),fy=[9,13,27,32],yc=mn&&"CompositionEvent"in window,is=null;mn&&"documentMode"in document&&(is=document.documentMode);var py=mn&&"TextEvent"in window&&!is,Cp=mn&&(!yc||is&&8<is&&11>=is),Sd=String.fromCharCode(32),xd=!1;function Lp(t,e){switch(t){case"keyup":return fy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function my(t,e){switch(t){case"compositionend":return Ip(e);case"keypress":return e.which!==32?null:(xd=!0,Sd);case"textInput":return t=e.data,t===Sd&&xd?null:t;default:return null}}function gy(t,e){if(Wi)return t==="compositionend"||!yc&&Lp(t,e)?(t=bp(),No=gc=On=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cp&&e.locale!=="ko"?null:e.data;default:return null}}var _y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_y[t.type]:e==="textarea"}function Op(t,e,n,r){lp(r),e=Xo(e,"onChange"),0<e.length&&(n=new _c("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rs=null,ws=null;function vy(t){Fp(t,0)}function ka(t){var e=Vi(t);if(tp(e))return t}function yy(t,e){if(t==="change")return e}var Ap=!1;if(mn){var xl;if(mn){var Pl="oninput"in document;if(!Pl){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),Pl=typeof Ed.oninput=="function"}xl=Pl}else xl=!1;Ap=xl&&(!document.documentMode||9<document.documentMode)}function Td(){rs&&(rs.detachEvent("onpropertychange",Mp),ws=rs=null)}function Mp(t){if(t.propertyName==="value"&&ka(ws)){var e=[];Op(e,ws,t,hc(t)),dp(vy,e)}}function wy(t,e,n){t==="focusin"?(Td(),rs=e,ws=n,rs.attachEvent("onpropertychange",Mp)):t==="focusout"&&Td()}function ky(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ka(ws)}function Sy(t,e){if(t==="click")return ka(e)}function xy(t,e){if(t==="input"||t==="change")return ka(e)}function Py(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wt=typeof Object.is=="function"?Object.is:Py;function ks(t,e){if(Wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ql.call(e,o)||!Wt(t[o],e[o]))return!1}return!0}function bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cd(t,e){var n=bd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bd(n)}}function Rp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jp(){for(var t=window,e=Vo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vo(t.document)}return e}function wc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ey(t){var e=jp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rp(n.ownerDocument.documentElement,n)){if(r!==null&&wc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!t.extend&&a>r&&(o=r,r=a,a=o),o=Cd(n,a);var u=Cd(n,r);o&&u&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ty=mn&&"documentMode"in document&&11>=document.documentMode,Zi=null,mu=null,ss=null,gu=!1;function Ld(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gu||Zi==null||Zi!==Vo(r)||(r=Zi,"selectionStart"in r&&wc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ss&&ks(ss,r)||(ss=r,r=Xo(mu,"onSelect"),0<r.length&&(e=new _c("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zi)))}function _o(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hi={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},El={},Np={};mn&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Sa(t){if(El[t])return El[t];if(!Hi[t])return t;var e=Hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Np)return El[t]=e[n];return t}var zp=Sa("animationend"),Dp=Sa("animationiteration"),Bp=Sa("animationstart"),$p=Sa("transitionend"),Up=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(t,e){Up.set(t,e),yi(e,[t])}for(var Tl=0;Tl<Id.length;Tl++){var bl=Id[Tl],by=bl.toLowerCase(),Cy=bl[0].toUpperCase()+bl.slice(1);Wn(by,"on"+Cy)}Wn(zp,"onAnimationEnd");Wn(Dp,"onAnimationIteration");Wn(Bp,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn($p,"onTransitionEnd");sr("onMouseEnter",["mouseout","mouseover"]);sr("onMouseLeave",["mouseout","mouseover"]);sr("onPointerEnter",["pointerout","pointerover"]);sr("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function Od(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bv(r,e,void 0,t),t.currentTarget=null}function Fp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;Od(o,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;Od(o,h,p),a=d}}}if(Go)throw t=hu,Go=!1,hu=null,t}function Ee(t,e){var n=e[ku];n===void 0&&(n=e[ku]=new Set);var r=t+"__bubble";n.has(r)||(Wp(e,t,2,!1),n.add(r))}function Cl(t,e,n){var r=0;e&&(r|=4),Wp(n,t,r,e)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Ss(t){if(!t[vo]){t[vo]=!0,Qf.forEach(function(n){n!=="selectionchange"&&(Ly.has(n)||Cl(n,!1,t),Cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vo]||(e[vo]=!0,Cl("selectionchange",!1,e))}}function Wp(t,e,n,r){switch(Tp(e)){case 1:var o=Wv;break;case 4:o=Zv;break;default:o=mc}n=o.bind(null,e,n,t),o=void 0,!cu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Ll(t,e,n,r,o){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=ui(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}dp(function(){var p=a,g=hc(n),_=[];e:{var v=Up.get(t);if(v!==void 0){var b=_c,E=t;switch(t){case"keypress":if(zo(n)===0)break e;case"keydown":case"keyup":b=sy;break;case"focusin":E="focus",b=Sl;break;case"focusout":E="blur",b=Sl;break;case"beforeblur":case"afterblur":b=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=ly;break;case zp:case Dp:case Bp:b=Qv;break;case $p:b=cy;break;case"scroll":b=Hv;break;case"wheel":b=dy;break;case"copy":case"cut":case"paste":b=Yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=kd}var C=(e&4)!==0,N=!C&&t==="scroll",S=C?v!==null?v+"Capture":null:v;C=[];for(var y=p,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,S!==null&&(k=gs(y,S),k!=null&&C.push(xs(y,k,w)))),N)break;y=y.return}0<C.length&&(v=new b(v,E,null,n,g),_.push({event:v,listeners:C}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",v&&n!==lu&&(E=n.relatedTarget||n.fromElement)&&(ui(E)||E[gn]))break e;if((b||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,b?(E=n.relatedTarget||n.toElement,b=p,E=E?ui(E):null,E!==null&&(N=wi(E),E!==N||E.tag!==5&&E.tag!==6)&&(E=null)):(b=null,E=p),b!==E)){if(C=yd,k="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=kd,k="onPointerLeave",S="onPointerEnter",y="pointer"),N=b==null?v:Vi(b),w=E==null?v:Vi(E),v=new C(k,y+"leave",b,n,g),v.target=N,v.relatedTarget=w,k=null,ui(g)===p&&(C=new C(S,y+"enter",E,n,g),C.target=w,C.relatedTarget=N,k=C),N=k,b&&E)t:{for(C=b,S=E,y=0,w=C;w;w=Mi(w))y++;for(w=0,k=S;k;k=Mi(k))w++;for(;0<y-w;)C=Mi(C),y--;for(;0<w-y;)S=Mi(S),w--;for(;y--;){if(C===S||S!==null&&C===S.alternate)break t;C=Mi(C),S=Mi(S)}C=null}else C=null;b!==null&&Ad(_,v,b,C,!1),E!==null&&N!==null&&Ad(_,N,E,C,!0)}}e:{if(v=p?Vi(p):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var T=yy;else if(Pd(v))if(Ap)T=xy;else{T=ky;var I=wy}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(T=Sy);if(T&&(T=T(t,p))){Op(_,T,n,g);break e}I&&I(t,v,p),t==="focusout"&&(I=v._wrapperState)&&I.controlled&&v.type==="number"&&iu(v,"number",v.value)}switch(I=p?Vi(p):window,t){case"focusin":(Pd(I)||I.contentEditable==="true")&&(Zi=I,mu=p,ss=null);break;case"focusout":ss=mu=Zi=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,Ld(_,n,g);break;case"selectionchange":if(Ty)break;case"keydown":case"keyup":Ld(_,n,g)}var M;if(yc)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Wi?Lp(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Cp&&n.locale!=="ko"&&(Wi||z!=="onCompositionStart"?z==="onCompositionEnd"&&Wi&&(M=bp()):(On=g,gc="value"in On?On.value:On.textContent,Wi=!0)),I=Xo(p,z),0<I.length&&(z=new wd(z,t,null,n,g),_.push({event:z,listeners:I}),M?z.data=M:(M=Ip(n),M!==null&&(z.data=M)))),(M=py?my(t,n):gy(t,n))&&(p=Xo(p,"onBeforeInput"),0<p.length&&(g=new wd("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:p}),g.data=M))}Fp(_,e)})}function xs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xo(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=gs(t,n),a!=null&&r.unshift(xs(t,a,o)),a=gs(t,e),a!=null&&r.push(xs(t,a,o))),t=t.return}return r}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ad(t,e,n,r,o){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,o?(d=gs(n,a),d!=null&&u.unshift(xs(n,d,h))):o||(d=gs(n,a),d!=null&&u.push(xs(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Iy=/\r\n?/g,Oy=/\u0000|\uFFFD/g;function Md(t){return(typeof t=="string"?t:""+t).replace(Iy,`
`).replace(Oy,"")}function yo(t,e,n){if(e=Md(e),Md(t)!==e&&n)throw Error($(425))}function ea(){}var _u=null,vu=null;function yu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,My=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(t){return Rd.resolve(null).then(t).catch(Ry)}:wu;function Ry(t){setTimeout(function(){throw t})}function Il(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),ys(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ys(e)}function Nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+gr,Ps="__reactProps$"+gr,gn="__reactContainer$"+gr,ku="__reactEvents$"+gr,jy="__reactListeners$"+gr,Ny="__reactHandles$"+gr;function ui(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gn]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jd(t);t!==null;){if(n=t[Xt])return n;t=jd(t)}return e}t=n,n=t.parentNode}return null}function js(t){return t=t[Xt]||t[gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function xa(t){return t[Ps]||null}var Su=[],qi=-1;function Zn(t){return{current:t}}function Te(t){0>qi||(t.current=Su[qi],Su[qi]=null,qi--)}function xe(t,e){qi++,Su[qi]=t.current,t.current=e}var Fn={},et=Zn(Fn),dt=Zn(!1),pi=Fn;function or(t,e){var n=t.type.contextTypes;if(!n)return Fn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function ft(t){return t=t.childContextTypes,t!=null}function ta(){Te(dt),Te(et)}function Nd(t,e,n){if(et.current!==Fn)throw Error($(168));xe(et,e),xe(dt,n)}function Zp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error($(108,wv(t)||"Unknown",o));return Oe({},n,r)}function na(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fn,pi=et.current,xe(et,t),xe(dt,dt.current),!0}function zd(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Zp(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,Te(dt),Te(et),xe(et,t)):Te(dt),xe(dt,n)}var hn=null,Pa=!1,Ol=!1;function Hp(t){hn===null?hn=[t]:hn.push(t)}function zy(t){Pa=!0,Hp(t)}function Hn(){if(!Ol&&hn!==null){Ol=!0;var t=0,e=ve;try{var n=hn;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hn=null,Pa=!1}catch(o){throw hn!==null&&(hn=hn.slice(t+1)),gp(dc,Hn),o}finally{ve=e,Ol=!1}}return null}var Gi=[],Ki=0,ia=null,ra=0,Tt=[],bt=0,mi=null,dn=1,fn="";function si(t,e){Gi[Ki++]=ra,Gi[Ki++]=ia,ia=t,ra=e}function Vp(t,e,n){Tt[bt++]=dn,Tt[bt++]=fn,Tt[bt++]=mi,mi=t;var r=dn;t=fn;var o=32-Ut(r)-1;r&=~(1<<o),n+=1;var a=32-Ut(e)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,dn=1<<32-Ut(e)+o|n<<o|r,fn=a+t}else dn=1<<a|n<<o|r,fn=t}function kc(t){t.return!==null&&(si(t,1),Vp(t,1,0))}function Sc(t){for(;t===ia;)ia=Gi[--Ki],Gi[Ki]=null,ra=Gi[--Ki],Gi[Ki]=null;for(;t===mi;)mi=Tt[--bt],Tt[bt]=null,fn=Tt[--bt],Tt[bt]=null,dn=Tt[--bt],Tt[bt]=null}var _t=null,gt=null,be=!1,$t=null;function qp(t,e){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_t=t,gt=Nn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_t=t,gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mi!==null?{id:dn,overflow:fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_t=t,gt=null,!0):!1;default:return!1}}function xu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pu(t){if(be){var e=gt;if(e){var n=e;if(!Dd(t,e)){if(xu(t))throw Error($(418));e=Nn(n.nextSibling);var r=_t;e&&Dd(t,e)?qp(r,n):(t.flags=t.flags&-4097|2,be=!1,_t=t)}}else{if(xu(t))throw Error($(418));t.flags=t.flags&-4097|2,be=!1,_t=t}}}function Bd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function wo(t){if(t!==_t)return!1;if(!be)return Bd(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yu(t.type,t.memoizedProps)),e&&(e=gt)){if(xu(t))throw Gp(),Error($(418));for(;e;)qp(t,e),e=Nn(e.nextSibling)}if(Bd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gt=Nn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gt=null}}else gt=_t?Nn(t.stateNode.nextSibling):null;return!0}function Gp(){for(var t=gt;t;)t=Nn(t.nextSibling)}function ar(){gt=_t=null,be=!1}function xc(t){$t===null?$t=[t]:$t.push(t)}var Dy=yn.ReactCurrentBatchConfig;function Zr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var o=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function ko(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $d(t){var e=t._init;return e(t._payload)}function Kp(t){function e(S,y){if(t){var w=S.deletions;w===null?(S.deletions=[y],S.flags|=16):w.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function o(S,y){return S=$n(S,y),S.index=0,S.sibling=null,S}function a(S,y,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<y?(S.flags|=2,y):w):(S.flags|=2,y)):(S.flags|=1048576,y)}function u(S){return t&&S.alternate===null&&(S.flags|=2),S}function h(S,y,w,k){return y===null||y.tag!==6?(y=Dl(w,S.mode,k),y.return=S,y):(y=o(y,w),y.return=S,y)}function d(S,y,w,k){var T=w.type;return T===Fi?g(S,y,w.props.children,k,w.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Tn&&$d(T)===y.type)?(k=o(y,w.props),k.ref=Zr(S,y,w),k.return=S,k):(k=Zo(w.type,w.key,w.props,null,S.mode,k),k.ref=Zr(S,y,w),k.return=S,k)}function p(S,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Bl(w,S.mode,k),y.return=S,y):(y=o(y,w.children||[]),y.return=S,y)}function g(S,y,w,k,T){return y===null||y.tag!==7?(y=fi(w,S.mode,k,T),y.return=S,y):(y=o(y,w),y.return=S,y)}function _(S,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Dl(""+y,S.mode,w),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case uo:return w=Zo(y.type,y.key,y.props,null,S.mode,w),w.ref=Zr(S,null,y),w.return=S,w;case Ui:return y=Bl(y,S.mode,w),y.return=S,y;case Tn:var k=y._init;return _(S,k(y._payload),w)}if(Jr(y)||Br(y))return y=fi(y,S.mode,w,null),y.return=S,y;ko(S,y)}return null}function v(S,y,w,k){var T=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:h(S,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uo:return w.key===T?d(S,y,w,k):null;case Ui:return w.key===T?p(S,y,w,k):null;case Tn:return T=w._init,v(S,y,T(w._payload),k)}if(Jr(w)||Br(w))return T!==null?null:g(S,y,w,k,null);ko(S,w)}return null}function b(S,y,w,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return S=S.get(w)||null,h(y,S,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case uo:return S=S.get(k.key===null?w:k.key)||null,d(y,S,k,T);case Ui:return S=S.get(k.key===null?w:k.key)||null,p(y,S,k,T);case Tn:var I=k._init;return b(S,y,w,I(k._payload),T)}if(Jr(k)||Br(k))return S=S.get(w)||null,g(y,S,k,T,null);ko(y,k)}return null}function E(S,y,w,k){for(var T=null,I=null,M=y,z=y=0,K=null;M!==null&&z<w.length;z++){M.index>z?(K=M,M=null):K=M.sibling;var q=v(S,M,w[z],k);if(q===null){M===null&&(M=K);break}t&&M&&q.alternate===null&&e(S,M),y=a(q,y,z),I===null?T=q:I.sibling=q,I=q,M=K}if(z===w.length)return n(S,M),be&&si(S,z),T;if(M===null){for(;z<w.length;z++)M=_(S,w[z],k),M!==null&&(y=a(M,y,z),I===null?T=M:I.sibling=M,I=M);return be&&si(S,z),T}for(M=r(S,M);z<w.length;z++)K=b(M,S,z,w[z],k),K!==null&&(t&&K.alternate!==null&&M.delete(K.key===null?z:K.key),y=a(K,y,z),I===null?T=K:I.sibling=K,I=K);return t&&M.forEach(function(se){return e(S,se)}),be&&si(S,z),T}function C(S,y,w,k){var T=Br(w);if(typeof T!="function")throw Error($(150));if(w=T.call(w),w==null)throw Error($(151));for(var I=T=null,M=y,z=y=0,K=null,q=w.next();M!==null&&!q.done;z++,q=w.next()){M.index>z?(K=M,M=null):K=M.sibling;var se=v(S,M,q.value,k);if(se===null){M===null&&(M=K);break}t&&M&&se.alternate===null&&e(S,M),y=a(se,y,z),I===null?T=se:I.sibling=se,I=se,M=K}if(q.done)return n(S,M),be&&si(S,z),T;if(M===null){for(;!q.done;z++,q=w.next())q=_(S,q.value,k),q!==null&&(y=a(q,y,z),I===null?T=q:I.sibling=q,I=q);return be&&si(S,z),T}for(M=r(S,M);!q.done;z++,q=w.next())q=b(M,S,z,q.value,k),q!==null&&(t&&q.alternate!==null&&M.delete(q.key===null?z:q.key),y=a(q,y,z),I===null?T=q:I.sibling=q,I=q);return t&&M.forEach(function(ge){return e(S,ge)}),be&&si(S,z),T}function N(S,y,w,k){if(typeof w=="object"&&w!==null&&w.type===Fi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case uo:e:{for(var T=w.key,I=y;I!==null;){if(I.key===T){if(T=w.type,T===Fi){if(I.tag===7){n(S,I.sibling),y=o(I,w.props.children),y.return=S,S=y;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Tn&&$d(T)===I.type){n(S,I.sibling),y=o(I,w.props),y.ref=Zr(S,I,w),y.return=S,S=y;break e}n(S,I);break}else e(S,I);I=I.sibling}w.type===Fi?(y=fi(w.props.children,S.mode,k,w.key),y.return=S,S=y):(k=Zo(w.type,w.key,w.props,null,S.mode,k),k.ref=Zr(S,y,w),k.return=S,S=k)}return u(S);case Ui:e:{for(I=w.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(S,y.sibling),y=o(y,w.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=Bl(w,S.mode,k),y.return=S,S=y}return u(S);case Tn:return I=w._init,N(S,y,I(w._payload),k)}if(Jr(w))return E(S,y,w,k);if(Br(w))return C(S,y,w,k);ko(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(S,y.sibling),y=o(y,w),y.return=S,S=y):(n(S,y),y=Dl(w,S.mode,k),y.return=S,S=y),u(S)):n(S,y)}return N}var lr=Kp(!0),Qp=Kp(!1),sa=Zn(null),oa=null,Qi=null,Pc=null;function Ec(){Pc=Qi=oa=null}function Tc(t){var e=sa.current;Te(sa),t._currentValue=e}function Eu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ir(t,e){oa=t,Pc=Qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ht=!0),t.firstContext=null)}function It(t){var e=t._currentValue;if(Pc!==t)if(t={context:t,memoizedValue:e,next:null},Qi===null){if(oa===null)throw Error($(308));Qi=t,oa.dependencies={lanes:0,firstContext:t}}else Qi=Qi.next=t;return e}var ci=null;function bc(t){ci===null?ci=[t]:ci.push(t)}function Jp(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,bc(e)):(n.next=o.next,o.next=n),e.interleaved=n,_n(t,r)}function _n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bn=!1;function Cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,_n(t,n)}return o=r.interleaved,o===null?(e.next=e,bc(r)):(e.next=o.next,o.next=e),r.interleaved=e,_n(t,n)}function Do(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fc(t,n)}}function Ud(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function aa(t,e,n,r){var o=t.updateQueue;bn=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var g=t.alternate;g!==null&&(g=g.updateQueue,h=g.lastBaseUpdate,h!==u&&(h===null?g.firstBaseUpdate=p:h.next=p,g.lastBaseUpdate=d))}if(a!==null){var _=o.baseState;u=0,g=p=d=null,h=a;do{var v=h.lane,b=h.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:b,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var E=t,C=h;switch(v=e,b=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){_=E.call(b,_,v);break e}_=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,v=typeof E=="function"?E.call(b,_,v):E,v==null)break e;_=Oe({},_,v);break e;case 2:bn=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,v=o.effects,v===null?o.effects=[h]:v.push(h))}else b={eventTime:b,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},g===null?(p=g=b,d=_):g=g.next=b,u|=v;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;v=h,h=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(1);if(g===null&&(d=_),o.baseState=d,o.firstBaseUpdate=p,o.lastBaseUpdate=g,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);_i|=u,t.lanes=u,t.memoizedState=_}}function Fd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error($(191,o));o.call(r)}}}var Ns={},tn=Zn(Ns),Es=Zn(Ns),Ts=Zn(Ns);function hi(t){if(t===Ns)throw Error($(174));return t}function Lc(t,e){switch(xe(Ts,e),xe(Es,t),xe(tn,Ns),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:su(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=su(e,t)}Te(tn),xe(tn,e)}function ur(){Te(tn),Te(Es),Te(Ts)}function Xp(t){hi(Ts.current);var e=hi(tn.current),n=su(e,t.type);e!==n&&(xe(Es,t),xe(tn,n))}function Ic(t){Es.current===t&&(Te(tn),Te(Es))}var Le=Zn(0);function la(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Al=[];function Oc(){for(var t=0;t<Al.length;t++)Al[t]._workInProgressVersionPrimary=null;Al.length=0}var Bo=yn.ReactCurrentDispatcher,Ml=yn.ReactCurrentBatchConfig,gi=0,Ie=null,$e=null,We=null,ua=!1,os=!1,bs=0,By=0;function Je(){throw Error($(321))}function Ac(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wt(t[n],e[n]))return!1;return!0}function Mc(t,e,n,r,o,a){if(gi=a,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bo.current=t===null||t.memoizedState===null?Wy:Zy,t=n(r,o),os){a=0;do{if(os=!1,bs=0,25<=a)throw Error($(301));a+=1,We=$e=null,e.updateQueue=null,Bo.current=Hy,t=n(r,o)}while(os)}if(Bo.current=ca,e=$e!==null&&$e.next!==null,gi=0,We=$e=Ie=null,ua=!1,e)throw Error($(300));return t}function Rc(){var t=bs!==0;return bs=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ie.memoizedState=We=t:We=We.next=t,We}function Ot(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=We===null?Ie.memoizedState:We.next;if(e!==null)We=e,$e=t;else{if(t===null)throw Error($(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},We===null?Ie.memoizedState=We=t:We=We.next=t}return We}function Cs(t,e){return typeof e=="function"?e(t):e}function Rl(t){var e=Ot(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=$e,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=u=null,d=null,p=a;do{var g=p.lane;if((gi&g)===g)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var _={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=_,u=r):d=d.next=_,Ie.lanes|=g,_i|=g}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,Wt(r,e.memoizedState)||(ht=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do a=o.lane,Ie.lanes|=a,_i|=a,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jl(t){var e=Ot(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=t(a,u.action),u=u.next;while(u!==o);Wt(a,e.memoizedState)||(ht=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function em(){}function tm(t,e){var n=Ie,r=Ot(),o=e(),a=!Wt(r.memoizedState,o);if(a&&(r.memoizedState=o,ht=!0),r=r.queue,jc(rm.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Ls(9,im.bind(null,n,r,o,e),void 0,null),Ze===null)throw Error($(349));gi&30||nm(n,e,o)}return o}function nm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function im(t,e,n,r){e.value=n,e.getSnapshot=r,sm(e)&&om(t)}function rm(t,e,n){return n(function(){sm(e)&&om(t)})}function sm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wt(t,n)}catch{return!0}}function om(t){var e=_n(t,1);e!==null&&Ft(e,t,1,-1)}function Wd(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:t},e.queue=t,t=t.dispatch=Fy.bind(null,Ie,t),[e.memoizedState,t]}function Ls(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function am(){return Ot().memoizedState}function $o(t,e,n,r){var o=Jt();Ie.flags|=t,o.memoizedState=Ls(1|e,n,void 0,r===void 0?null:r)}function Ea(t,e,n,r){var o=Ot();r=r===void 0?null:r;var a=void 0;if($e!==null){var u=$e.memoizedState;if(a=u.destroy,r!==null&&Ac(r,u.deps)){o.memoizedState=Ls(e,n,a,r);return}}Ie.flags|=t,o.memoizedState=Ls(1|e,n,a,r)}function Zd(t,e){return $o(8390656,8,t,e)}function jc(t,e){return Ea(2048,8,t,e)}function lm(t,e){return Ea(4,2,t,e)}function um(t,e){return Ea(4,4,t,e)}function cm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hm(t,e,n){return n=n!=null?n.concat([t]):null,Ea(4,4,cm.bind(null,e,t),n)}function Nc(){}function dm(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ac(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fm(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ac(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pm(t,e,n){return gi&21?(Wt(n,e)||(n=yp(),Ie.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ht=!0),t.memoizedState=n)}function $y(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Ml.transition;Ml.transition={};try{t(!1),e()}finally{ve=n,Ml.transition=r}}function mm(){return Ot().memoizedState}function Uy(t,e,n){var r=Bn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gm(t))_m(e,n);else if(n=Jp(t,e,n,r),n!==null){var o=rt();Ft(n,t,r,o),vm(n,e,r)}}function Fy(t,e,n){var r=Bn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gm(t))_m(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,Wt(h,u)){var d=e.interleaved;d===null?(o.next=o,bc(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=Jp(t,e,o,r),n!==null&&(o=rt(),Ft(n,t,r,o),vm(n,e,r))}}function gm(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function _m(t,e){os=ua=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fc(t,n)}}var ca={readContext:It,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Wy={readContext:It,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:It,useEffect:Zd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$o(4194308,4,cm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $o(4194308,4,t,e)},useInsertionEffect:function(t,e){return $o(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Uy.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:Wd,useDebugValue:Nc,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=Wd(!1),e=t[0];return t=$y.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,o=Jt();if(be){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Ze===null)throw Error($(349));gi&30||nm(r,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,Zd(rm.bind(null,r,a,t),[t]),r.flags|=2048,Ls(9,im.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Jt(),e=Ze.identifierPrefix;if(be){var n=fn,r=dn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=By++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zy={readContext:It,useCallback:dm,useContext:It,useEffect:jc,useImperativeHandle:hm,useInsertionEffect:lm,useLayoutEffect:um,useMemo:fm,useReducer:Rl,useRef:am,useState:function(){return Rl(Cs)},useDebugValue:Nc,useDeferredValue:function(t){var e=Ot();return pm(e,$e.memoizedState,t)},useTransition:function(){var t=Rl(Cs)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1},Hy={readContext:It,useCallback:dm,useContext:It,useEffect:jc,useImperativeHandle:hm,useInsertionEffect:lm,useLayoutEffect:um,useMemo:fm,useReducer:jl,useRef:am,useState:function(){return jl(Cs)},useDebugValue:Nc,useDeferredValue:function(t){var e=Ot();return $e===null?e.memoizedState=t:pm(e,$e.memoizedState,t)},useTransition:function(){var t=jl(Cs)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ta={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),o=Bn(t),a=pn(r,o);a.payload=e,n!=null&&(a.callback=n),e=zn(t,a,o),e!==null&&(Ft(e,t,o,r),Do(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),o=Bn(t),a=pn(r,o);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=zn(t,a,o),e!==null&&(Ft(e,t,o,r),Do(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=Bn(t),o=pn(n,r);o.tag=2,e!=null&&(o.callback=e),e=zn(t,o,r),e!==null&&(Ft(e,t,r,n),Do(e,t,r))}};function Hd(t,e,n,r,o,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!ks(n,r)||!ks(o,a):!0}function ym(t,e,n){var r=!1,o=Fn,a=e.contextType;return typeof a=="object"&&a!==null?a=It(a):(o=ft(e)?pi:et.current,r=e.contextTypes,a=(r=r!=null)?or(t,o):Fn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ta,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function Vd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ta.enqueueReplaceState(e,e.state,null)}function bu(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Cc(t);var a=e.contextType;typeof a=="object"&&a!==null?o.context=It(a):(a=ft(e)?pi:et.current,o.context=or(t,a)),o.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Tu(t,e,a,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ta.enqueueReplaceState(o,o.state,null),aa(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function cr(t,e){try{var n="",r=e;do n+=yv(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:o,digest:null}}function Nl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vy=typeof WeakMap=="function"?WeakMap:Map;function wm(t,e,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){da||(da=!0,Du=r),Cu(t,e)},n}function km(t,e,n){n=pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Cu(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Cu(t,e),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function qd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Vy;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=o0.bind(null,t,e,n),e.then(t,t))}function Gd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kd(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pn(-1,1),e.tag=2,zn(n,e,1))),n.lanes|=1),t)}var qy=yn.ReactCurrentOwner,ht=!1;function it(t,e,n,r){e.child=t===null?Qp(e,null,n,r):lr(e,t.child,n,r)}function Qd(t,e,n,r,o){n=n.render;var a=e.ref;return ir(e,o),r=Mc(t,e,n,r,a,o),n=Rc(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,vn(t,e,o)):(be&&n&&kc(e),e.flags|=1,it(t,e,r,o),e.child)}function Jd(t,e,n,r,o){if(t===null){var a=n.type;return typeof a=="function"&&!Zc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Sm(t,e,a,r,o)):(t=Zo(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:ks,n(u,r)&&t.ref===e.ref)return vn(t,e,o)}return e.flags|=1,t=$n(a,r),t.ref=e.ref,t.return=e,e.child=t}function Sm(t,e,n,r,o){if(t!==null){var a=t.memoizedProps;if(ks(a,r)&&t.ref===e.ref)if(ht=!1,e.pendingProps=r=a,(t.lanes&o)!==0)t.flags&131072&&(ht=!0);else return e.lanes=t.lanes,vn(t,e,o)}return Lu(t,e,n,r,o)}function xm(t,e,n){var r=e.pendingProps,o=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Yi,mt),mt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(Yi,mt),mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,xe(Yi,mt),mt|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,xe(Yi,mt),mt|=r;return it(t,e,o,n),e.child}function Pm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lu(t,e,n,r,o){var a=ft(n)?pi:et.current;return a=or(e,a),ir(e,o),n=Mc(t,e,n,r,a,o),r=Rc(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,vn(t,e,o)):(be&&r&&kc(e),e.flags|=1,it(t,e,n,o),e.child)}function Yd(t,e,n,r,o){if(ft(n)){var a=!0;na(e)}else a=!1;if(ir(e,o),e.stateNode===null)Uo(t,e),ym(e,n,r),bu(e,n,r,o),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=It(p):(p=ft(n)?pi:et.current,p=or(e,p));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";_||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&Vd(e,u,r,p),bn=!1;var v=e.memoizedState;u.state=v,aa(e,r,u,o),d=e.memoizedState,h!==r||v!==d||dt.current||bn?(typeof g=="function"&&(Tu(e,n,g,r),d=e.memoizedState),(h=bn||Hd(e,n,h,r,v,d,p))?(_||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,Yp(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:zt(e.type,h),u.props=p,_=e.pendingProps,v=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=It(d):(d=ft(n)?pi:et.current,d=or(e,d));var b=n.getDerivedStateFromProps;(g=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==_||v!==d)&&Vd(e,u,r,d),bn=!1,v=e.memoizedState,u.state=v,aa(e,r,u,o);var E=e.memoizedState;h!==_||v!==E||dt.current||bn?(typeof b=="function"&&(Tu(e,n,b,r),E=e.memoizedState),(p=bn||Hd(e,n,p,r,v,E,d)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,E,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,E,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),u.props=r,u.state=E,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Iu(t,e,n,r,a,o)}function Iu(t,e,n,r,o,a){Pm(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return o&&zd(e,n,!1),vn(t,e,a);r=e.stateNode,qy.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=lr(e,t.child,null,a),e.child=lr(e,null,h,a)):it(t,e,h,a),e.memoizedState=r.state,o&&zd(e,n,!0),e.child}function Em(t){var e=t.stateNode;e.pendingContext?Nd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nd(t,e.context,!1),Lc(t,e.containerInfo)}function Xd(t,e,n,r,o){return ar(),xc(o),e.flags|=256,it(t,e,n,r),e.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Au(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tm(t,e,n){var r=e.pendingProps,o=Le.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(o&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),xe(Le,o&1),t===null)return Pu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=La(u,r,0,null),t=fi(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Au(n),e.memoizedState=Ou,t):zc(e,u));if(o=t.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return Gy(t,e,u,r,h,o,n);if(a){a=r.fallback,u=e.mode,o=t.child,h=o.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=$n(o,d),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=$n(h,a):(a=fi(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?Au(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=Ou,r}return a=t.child,t=a.sibling,r=$n(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zc(t,e){return e=La({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function So(t,e,n,r){return r!==null&&xc(r),lr(e,t.child,null,n),t=zc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gy(t,e,n,r,o,a,u){if(n)return e.flags&256?(e.flags&=-257,r=Nl(Error($(422))),So(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,o=e.mode,r=La({mode:"visible",children:r.children},o,0,null),a=fi(a,o,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&lr(e,t.child,null,u),e.child.memoizedState=Au(u),e.memoizedState=Ou,a);if(!(e.mode&1))return So(t,e,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error($(419)),r=Nl(a,r,void 0),So(t,e,u,r)}if(h=(u&t.childLanes)!==0,ht||h){if(r=Ze,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,_n(t,o),Ft(r,t,o,-1))}return Wc(),r=Nl(Error($(421))),So(t,e,u,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=a0.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,gt=Nn(o.nextSibling),_t=e,be=!0,$t=null,t!==null&&(Tt[bt++]=dn,Tt[bt++]=fn,Tt[bt++]=mi,dn=t.id,fn=t.overflow,mi=e),e=zc(e,r.children),e.flags|=4096,e)}function ef(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Eu(t.return,e,n)}function zl(t,e,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function bm(t,e,n){var r=e.pendingProps,o=r.revealOrder,a=r.tail;if(it(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ef(t,n,e);else if(t.tag===19)ef(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Le,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&la(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),zl(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&la(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}zl(e,!0,n,null,a);break;case"together":zl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=$n(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$n(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ky(t,e,n){switch(e.tag){case 3:Em(e),ar();break;case 5:Xp(e);break;case 1:ft(e.type)&&na(e);break;case 4:Lc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;xe(sa,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?Tm(t,e,n):(xe(Le,Le.current&1),t=vn(t,e,n),t!==null?t.sibling:null);xe(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bm(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),xe(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,xm(t,e,n)}return vn(t,e,n)}var Cm,Mu,Lm,Im;Cm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mu=function(){};Lm=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,hi(tn.current);var a=null;switch(n){case"input":o=tu(t,o),r=tu(t,r),a=[];break;case"select":o=Oe({},o,{value:void 0}),r=Oe({},r,{value:void 0}),a=[];break;case"textarea":o=ru(t,o),r=ru(t,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ea)}ou(n,r);var u;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ps.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ps.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&Ee("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};Im=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hr(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qy(t,e,n){var r=e.pendingProps;switch(Sc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return ft(e.type)&&ta(),Ye(e),null;case 3:return r=e.stateNode,ur(),Te(dt),Te(et),Oc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$t!==null&&(Uu($t),$t=null))),Mu(t,e),Ye(e),null;case 5:Ic(e);var o=hi(Ts.current);if(n=e.type,t!==null&&e.stateNode!=null)Lm(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Ye(e),null}if(t=hi(tn.current),wo(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Xt]=e,r[Ps]=a,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(o=0;o<Xr.length;o++)Ee(Xr[o],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":ud(r,a),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ee("invalid",r);break;case"textarea":hd(r,a),Ee("invalid",r)}ou(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&yo(r.textContent,h,t),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&yo(r.textContent,h,t),o=["children",""+h]):ps.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&Ee("scroll",r)}switch(n){case"input":co(r),cd(r,a,!0);break;case"textarea":co(r),dd(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ea)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Xt]=e,t[Ps]=r,Cm(t,e,!1,!1),e.stateNode=t;e:{switch(u=au(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),o=r;break;case"iframe":case"object":case"embed":Ee("load",t),o=r;break;case"video":case"audio":for(o=0;o<Xr.length;o++)Ee(Xr[o],t);o=r;break;case"source":Ee("error",t),o=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),o=r;break;case"details":Ee("toggle",t),o=r;break;case"input":ud(t,r),o=tu(t,r),Ee("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Oe({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":hd(t,r),o=ru(t,r),Ee("invalid",t);break;default:o=r}ou(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?ap(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&sp(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&ms(t,d):typeof d=="number"&&ms(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ps.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Ee("scroll",t):d!=null&&ac(t,a,d,u))}switch(n){case"input":co(t),cd(t,r,!1);break;case"textarea":co(t),dd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Un(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Xi(t,!!r.multiple,a,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=ea)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)Im(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=hi(Ts.current),hi(tn.current),wo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xt]=e,(a=r.nodeValue!==n)&&(t=_t,t!==null))switch(t.tag){case 3:yo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yo(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=e,e.stateNode=r}return Ye(e),null;case 13:if(Te(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&gt!==null&&e.mode&1&&!(e.flags&128))Gp(),ar(),e.flags|=98560,a=!1;else if(a=wo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error($(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error($(317));a[Xt]=e}else ar(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),a=!1}else $t!==null&&(Uu($t),$t=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?Ue===0&&(Ue=3):Wc())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return ur(),Mu(t,e),t===null&&Ss(e.stateNode.containerInfo),Ye(e),null;case 10:return Tc(e.type._context),Ye(e),null;case 17:return ft(e.type)&&ta(),Ye(e),null;case 19:if(Te(Le),a=e.memoizedState,a===null)return Ye(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)Hr(a,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=la(t),u!==null){for(e.flags|=128,Hr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Le,Le.current&1|2),e.child}t=t.sibling}a.tail!==null&&Re()>hr&&(e.flags|=128,r=!0,Hr(a,!1),e.lanes=4194304)}else{if(!r)if(t=la(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!be)return Ye(e),null}else 2*Re()-a.renderingStartTime>hr&&n!==1073741824&&(e.flags|=128,r=!0,Hr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Re(),e.sibling=null,n=Le.current,xe(Le,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return Fc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Jy(t,e){switch(Sc(e),e.tag){case 1:return ft(e.type)&&ta(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ur(),Te(dt),Te(et),Oc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ic(e),null;case 13:if(Te(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));ar()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Le),null;case 4:return ur(),null;case 10:return Tc(e.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var xo=!1,Xe=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function Ru(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var tf=!1;function Xy(t,e){if(_u=Jo,t=jp(),wc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,g=0,_=t,v=null;t:for(;;){for(var b;_!==n||o!==0&&_.nodeType!==3||(h=u+o),_!==a||r!==0&&_.nodeType!==3||(d=u+r),_.nodeType===3&&(u+=_.nodeValue.length),(b=_.firstChild)!==null;)v=_,_=b;for(;;){if(_===t)break t;if(v===n&&++p===o&&(h=u),v===a&&++g===r&&(d=u),(b=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=b}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(vu={focusedElem:t,selectionRange:n},Jo=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,N=E.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:zt(e.type,C),N);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){Ae(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return E=tf,tf=!1,E}function as(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.destroy;o.destroy=void 0,a!==void 0&&Ru(e,n,a)}o=o.next}while(o!==r)}}function ba(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ju(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Om(t){var e=t.alternate;e!==null&&(t.alternate=null,Om(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xt],delete e[Ps],delete e[ku],delete e[jy],delete e[Ny])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Am(t){return t.tag===5||t.tag===3||t.tag===4}function nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Am(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ea));else if(r!==4&&(t=t.child,t!==null))for(Nu(t,e,n),t=t.sibling;t!==null;)Nu(t,e,n),t=t.sibling}function zu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zu(t,e,n),t=t.sibling;t!==null;)zu(t,e,n),t=t.sibling}var Ve=null,Dt=!1;function xn(t,e,n){for(n=n.child;n!==null;)Mm(t,e,n),n=n.sibling}function Mm(t,e,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 5:Xe||Ji(n,e);case 6:var r=Ve,o=Dt;Ve=null,xn(t,e,n),Ve=r,Dt=o,Ve!==null&&(Dt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Dt?(t=Ve,n=n.stateNode,t.nodeType===8?Il(t.parentNode,n):t.nodeType===1&&Il(t,n),ys(t)):Il(Ve,n.stateNode));break;case 4:r=Ve,o=Dt,Ve=n.stateNode.containerInfo,Dt=!0,xn(t,e,n),Ve=r,Dt=o;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Ru(n,e,u),o=o.next}while(o!==r)}xn(t,e,n);break;case 1:if(!Xe&&(Ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Ae(n,e,h)}xn(t,e,n);break;case 21:xn(t,e,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,xn(t,e,n),Xe=r):xn(t,e,n);break;default:xn(t,e,n)}}function rf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yy),e.forEach(function(r){var o=l0.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Rt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:Ve=h.stateNode,Dt=!1;break e;case 3:Ve=h.stateNode.containerInfo,Dt=!0;break e;case 4:Ve=h.stateNode.containerInfo,Dt=!0;break e}h=h.return}if(Ve===null)throw Error($(160));Mm(a,u,o),Ve=null,Dt=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(p){Ae(o,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rm(e,t),e=e.sibling}function Rm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rt(e,t),Qt(t),r&4){try{as(3,t,t.return),ba(3,t)}catch(C){Ae(t,t.return,C)}try{as(5,t,t.return)}catch(C){Ae(t,t.return,C)}}break;case 1:Rt(e,t),Qt(t),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(Rt(e,t),Qt(t),r&512&&n!==null&&Ji(n,n.return),t.flags&32){var o=t.stateNode;try{ms(o,"")}catch(C){Ae(t,t.return,C)}}if(r&4&&(o=t.stateNode,o!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&np(o,a),au(h,u);var p=au(h,a);for(u=0;u<d.length;u+=2){var g=d[u],_=d[u+1];g==="style"?ap(o,_):g==="dangerouslySetInnerHTML"?sp(o,_):g==="children"?ms(o,_):ac(o,g,_,p)}switch(h){case"input":nu(o,a);break;case"textarea":ip(o,a);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?Xi(o,!!a.multiple,b,!1):v!==!!a.multiple&&(a.defaultValue!=null?Xi(o,!!a.multiple,a.defaultValue,!0):Xi(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ps]=a}catch(C){Ae(t,t.return,C)}}break;case 6:if(Rt(e,t),Qt(t),r&4){if(t.stateNode===null)throw Error($(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(C){Ae(t,t.return,C)}}break;case 3:if(Rt(e,t),Qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ys(e.containerInfo)}catch(C){Ae(t,t.return,C)}break;case 4:Rt(e,t),Qt(t);break;case 13:Rt(e,t),Qt(t),o=t.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||($c=Re())),r&4&&rf(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Xe=(p=Xe)||g,Rt(e,t),Xe=p):Rt(e,t),Qt(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!g&&t.mode&1)for(Z=t,g=t.child;g!==null;){for(_=Z=g;Z!==null;){switch(v=Z,b=v.child,v.tag){case 0:case 11:case 14:case 15:as(4,v,v.return);break;case 1:Ji(v,v.return);var E=v.stateNode;if(typeof E.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(C){Ae(r,n,C)}}break;case 5:Ji(v,v.return);break;case 22:if(v.memoizedState!==null){of(_);continue}}b!==null?(b.return=v,Z=b):of(_)}g=g.sibling}e:for(g=null,_=t;;){if(_.tag===5){if(g===null){g=_;try{o=_.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=_.stateNode,d=_.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=op("display",u))}catch(C){Ae(t,t.return,C)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=p?"":_.memoizedProps}catch(C){Ae(t,t.return,C)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Rt(e,t),Qt(t),r&4&&rf(t);break;case 21:break;default:Rt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Am(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ms(o,""),r.flags&=-33);var a=nf(t);zu(t,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,h=nf(t);Nu(t,h,u);break;default:throw Error($(161))}}catch(d){Ae(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e0(t,e,n){Z=t,jm(t)}function jm(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var o=Z,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||xo;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||Xe;h=xo;var p=Xe;if(xo=u,(Xe=d)&&!p)for(Z=o;Z!==null;)u=Z,d=u.child,u.tag===22&&u.memoizedState!==null?af(o):d!==null?(d.return=u,Z=d):af(o);for(;a!==null;)Z=a,jm(a),a=a.sibling;Z=o,xo=h,Xe=p}sf(t)}else o.subtreeFlags&8772&&a!==null?(a.return=o,Z=a):sf(t)}}function sf(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||ba(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Fd(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fd(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&ys(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Xe||e.flags&512&&ju(e)}catch(v){Ae(e,e.return,v)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function of(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function af(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ba(4,e)}catch(d){Ae(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){Ae(e,o,d)}}var a=e.return;try{ju(e)}catch(d){Ae(e,a,d)}break;case 5:var u=e.return;try{ju(e)}catch(d){Ae(e,u,d)}}}catch(d){Ae(e,e.return,d)}if(e===t){Z=null;break}var h=e.sibling;if(h!==null){h.return=e.return,Z=h;break}Z=e.return}}var t0=Math.ceil,ha=yn.ReactCurrentDispatcher,Dc=yn.ReactCurrentOwner,Lt=yn.ReactCurrentBatchConfig,pe=0,Ze=null,ze=null,qe=0,mt=0,Yi=Zn(0),Ue=0,Is=null,_i=0,Ca=0,Bc=0,ls=null,ut=null,$c=0,hr=1/0,un=null,da=!1,Du=null,Dn=null,Po=!1,An=null,fa=0,us=0,Bu=null,Fo=-1,Wo=0;function rt(){return pe&6?Re():Fo!==-1?Fo:Fo=Re()}function Bn(t){return t.mode&1?pe&2&&qe!==0?qe&-qe:Dy.transition!==null?(Wo===0&&(Wo=yp()),Wo):(t=ve,t!==0||(t=window.event,t=t===void 0?16:Tp(t.type)),t):1}function Ft(t,e,n,r){if(50<us)throw us=0,Bu=null,Error($(185));Ms(t,n,r),(!(pe&2)||t!==Ze)&&(t===Ze&&(!(pe&2)&&(Ca|=n),Ue===4&&Ln(t,qe)),pt(t,r),n===1&&pe===0&&!(e.mode&1)&&(hr=Re()+500,Pa&&Hn()))}function pt(t,e){var n=t.callbackNode;Dv(t,e);var r=Qo(t,t===Ze?qe:0);if(r===0)n!==null&&md(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&md(n),e===1)t.tag===0?zy(lf.bind(null,t)):Hp(lf.bind(null,t)),My(function(){!(pe&6)&&Hn()}),n=null;else{switch(wp(r)){case 1:n=dc;break;case 4:n=_p;break;case 16:n=Ko;break;case 536870912:n=vp;break;default:n=Ko}n=Wm(n,Nm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nm(t,e){if(Fo=-1,Wo=0,pe&6)throw Error($(327));var n=t.callbackNode;if(rr()&&t.callbackNode!==n)return null;var r=Qo(t,t===Ze?qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pa(t,r);else{e=r;var o=pe;pe|=2;var a=Dm();(Ze!==t||qe!==e)&&(un=null,hr=Re()+500,di(t,e));do try{r0();break}catch(h){zm(t,h)}while(1);Ec(),ha.current=a,pe=o,ze!==null?e=0:(Ze=null,qe=0,e=Ue)}if(e!==0){if(e===2&&(o=du(t),o!==0&&(r=o,e=$u(t,o))),e===1)throw n=Is,di(t,0),Ln(t,r),pt(t,Re()),n;if(e===6)Ln(t,r);else{if(o=t.current.alternate,!(r&30)&&!n0(o)&&(e=pa(t,r),e===2&&(a=du(t),a!==0&&(r=a,e=$u(t,a))),e===1))throw n=Is,di(t,0),Ln(t,r),pt(t,Re()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:oi(t,ut,un);break;case 3:if(Ln(t,r),(r&130023424)===r&&(e=$c+500-Re(),10<e)){if(Qo(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=wu(oi.bind(null,t,ut,un),e);break}oi(t,ut,un);break;case 4:if(Ln(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var u=31-Ut(r);a=1<<u,u=e[u],u>o&&(o=u),r&=~a}if(r=o,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t0(r/1960))-r,10<r){t.timeoutHandle=wu(oi.bind(null,t,ut,un),r);break}oi(t,ut,un);break;case 5:oi(t,ut,un);break;default:throw Error($(329))}}}return pt(t,Re()),t.callbackNode===n?Nm.bind(null,t):null}function $u(t,e){var n=ls;return t.current.memoizedState.isDehydrated&&(di(t,e).flags|=256),t=pa(t,e),t!==2&&(e=ut,ut=n,e!==null&&Uu(e)),t}function Uu(t){ut===null?ut=t:ut.push.apply(ut,t)}function n0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Wt(a(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ln(t,e){for(e&=~Bc,e&=~Ca,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ut(e),r=1<<n;t[n]=-1,e&=~r}}function lf(t){if(pe&6)throw Error($(327));rr();var e=Qo(t,0);if(!(e&1))return pt(t,Re()),null;var n=pa(t,e);if(t.tag!==0&&n===2){var r=du(t);r!==0&&(e=r,n=$u(t,r))}if(n===1)throw n=Is,di(t,0),Ln(t,e),pt(t,Re()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oi(t,ut,un),pt(t,Re()),null}function Uc(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(hr=Re()+500,Pa&&Hn())}}function vi(t){An!==null&&An.tag===0&&!(pe&6)&&rr();var e=pe;pe|=1;var n=Lt.transition,r=ve;try{if(Lt.transition=null,ve=1,t)return t()}finally{ve=r,Lt.transition=n,pe=e,!(pe&6)&&Hn()}}function Fc(){mt=Yi.current,Te(Yi)}function di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ay(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(Sc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ta();break;case 3:ur(),Te(dt),Te(et),Oc();break;case 5:Ic(r);break;case 4:ur();break;case 13:Te(Le);break;case 19:Te(Le);break;case 10:Tc(r.type._context);break;case 22:case 23:Fc()}n=n.return}if(Ze=t,ze=t=$n(t.current,null),qe=mt=e,Ue=0,Is=null,Bc=Ca=_i=0,ut=ls=null,ci!==null){for(e=0;e<ci.length;e++)if(n=ci[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}ci=null}return t}function zm(t,e){do{var n=ze;try{if(Ec(),Bo.current=ca,ua){for(var r=Ie.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ua=!1}if(gi=0,We=$e=Ie=null,os=!1,bs=0,Dc.current=null,n===null||n.return===null){Ue=1,Is=e,ze=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=qe,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,g=h,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=Gd(u);if(b!==null){b.flags&=-257,Kd(b,u,h,a,e),b.mode&1&&qd(a,p,e),e=b,d=p;var E=e.updateQueue;if(E===null){var C=new Set;C.add(d),e.updateQueue=C}else E.add(d);break e}else{if(!(e&1)){qd(a,p,e),Wc();break e}d=Error($(426))}}else if(be&&h.mode&1){var N=Gd(u);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Kd(N,u,h,a,e),xc(cr(d,h));break e}}a=d=cr(d,h),Ue!==4&&(Ue=2),ls===null?ls=[a]:ls.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=wm(a,d,e);Ud(a,S);break e;case 1:h=d;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Dn===null||!Dn.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=km(a,h,e);Ud(a,k);break e}}a=a.return}while(a!==null)}$m(n)}catch(T){e=T,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(1)}function Dm(){var t=ha.current;return ha.current=ca,t===null?ca:t}function Wc(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ze===null||!(_i&268435455)&&!(Ca&268435455)||Ln(Ze,qe)}function pa(t,e){var n=pe;pe|=2;var r=Dm();(Ze!==t||qe!==e)&&(un=null,di(t,e));do try{i0();break}catch(o){zm(t,o)}while(1);if(Ec(),pe=n,ha.current=r,ze!==null)throw Error($(261));return Ze=null,qe=0,Ue}function i0(){for(;ze!==null;)Bm(ze)}function r0(){for(;ze!==null&&!Lv();)Bm(ze)}function Bm(t){var e=Fm(t.alternate,t,mt);t.memoizedProps=t.pendingProps,e===null?$m(t):ze=e,Dc.current=null}function $m(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jy(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,ze=null;return}}else if(n=Qy(n,e,mt),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);Ue===0&&(Ue=5)}function oi(t,e,n){var r=ve,o=Lt.transition;try{Lt.transition=null,ve=1,s0(t,e,n,r)}finally{Lt.transition=o,ve=r}return null}function s0(t,e,n,r){do rr();while(An!==null);if(pe&6)throw Error($(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Bv(t,a),t===Ze&&(ze=Ze=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Po||(Po=!0,Wm(Ko,function(){return rr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Lt.transition,Lt.transition=null;var u=ve;ve=1;var h=pe;pe|=4,Dc.current=null,Xy(t,n),Rm(n,t),Ey(vu),Jo=!!_u,vu=_u=null,t.current=n,e0(n),Iv(),pe=h,ve=u,Lt.transition=a}else t.current=n;if(Po&&(Po=!1,An=t,fa=o),a=t.pendingLanes,a===0&&(Dn=null),Mv(n.stateNode),pt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(da)throw da=!1,t=Du,Du=null,t;return fa&1&&t.tag!==0&&rr(),a=t.pendingLanes,a&1?t===Bu?us++:(us=0,Bu=t):us=0,Hn(),null}function rr(){if(An!==null){var t=wp(fa),e=Lt.transition,n=ve;try{if(Lt.transition=null,ve=16>t?16:t,An===null)var r=!1;else{if(t=An,An=null,fa=0,pe&6)throw Error($(331));var o=pe;for(pe|=4,Z=t.current;Z!==null;){var a=Z,u=a.child;if(Z.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(Z=p;Z!==null;){var g=Z;switch(g.tag){case 0:case 11:case 15:as(8,g,a)}var _=g.child;if(_!==null)_.return=g,Z=_;else for(;Z!==null;){g=Z;var v=g.sibling,b=g.return;if(Om(g),g===p){Z=null;break}if(v!==null){v.return=b,Z=v;break}Z=b}}}var E=a.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var N=C.sibling;C.sibling=null,C=N}while(C!==null)}}Z=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,Z=u;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:as(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}var y=t.current;for(Z=y;Z!==null;){u=Z;var w=u.child;if(u.subtreeFlags&2064&&w!==null)w.return=u,Z=w;else e:for(u=y;Z!==null;){if(h=Z,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:ba(9,h)}}catch(T){Ae(h,h.return,T)}if(h===u){Z=null;break e}var k=h.sibling;if(k!==null){k.return=h.return,Z=k;break e}Z=h.return}}if(pe=o,Hn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ya,t)}catch{}r=!0}return r}finally{ve=n,Lt.transition=e}}return!1}function uf(t,e,n){e=cr(n,e),e=wm(t,e,1),t=zn(t,e,1),e=rt(),t!==null&&(Ms(t,1,e),pt(t,e))}function Ae(t,e,n){if(t.tag===3)uf(t,t,n);else for(;e!==null;){if(e.tag===3){uf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){t=cr(n,t),t=km(e,t,1),e=zn(e,t,1),t=rt(),e!==null&&(Ms(e,1,t),pt(e,t));break}}e=e.return}}function o0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(qe&n)===n&&(Ue===4||Ue===3&&(qe&130023424)===qe&&500>Re()-$c?di(t,0):Bc|=n),pt(t,e)}function Um(t,e){e===0&&(t.mode&1?(e=po,po<<=1,!(po&130023424)&&(po=4194304)):e=1);var n=rt();t=_n(t,e),t!==null&&(Ms(t,e,n),pt(t,n))}function a0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Um(t,n)}function l0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Um(t,n)}var Fm;Fm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ht=!1,Ky(t,e,n);ht=!!(t.flags&131072)}else ht=!1,be&&e.flags&1048576&&Vp(e,ra,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uo(t,e),t=e.pendingProps;var o=or(e,et.current);ir(e,n),o=Mc(null,e,r,t,o,n);var a=Rc();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(r)?(a=!0,na(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Cc(e),o.updater=Ta,e.stateNode=o,o._reactInternals=e,bu(e,r,t,n),e=Iu(null,e,r,!0,a,n)):(e.tag=0,be&&a&&kc(e),it(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uo(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=c0(r),t=zt(r,t),o){case 0:e=Lu(null,e,r,t,n);break e;case 1:e=Yd(null,e,r,t,n);break e;case 11:e=Qd(null,e,r,t,n);break e;case 14:e=Jd(null,e,r,zt(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:zt(r,o),Lu(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:zt(r,o),Yd(t,e,r,o,n);case 3:e:{if(Em(e),t===null)throw Error($(387));r=e.pendingProps,a=e.memoizedState,o=a.element,Yp(t,e),aa(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=cr(Error($(423)),e),e=Xd(t,e,r,n,o);break e}else if(r!==o){o=cr(Error($(424)),e),e=Xd(t,e,r,n,o);break e}else for(gt=Nn(e.stateNode.containerInfo.firstChild),_t=e,be=!0,$t=null,n=Qp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ar(),r===o){e=vn(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return Xp(e),t===null&&Pu(e),r=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,u=o.children,yu(r,o)?u=null:a!==null&&yu(r,a)&&(e.flags|=32),Pm(t,e),it(t,e,u,n),e.child;case 6:return t===null&&Pu(e),null;case 13:return Tm(t,e,n);case 4:return Lc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lr(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:zt(r,o),Qd(t,e,r,o,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,xe(sa,r._currentValue),r._currentValue=u,a!==null)if(Wt(a.value,u)){if(a.children===o.children&&!dt.current){e=vn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=pn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?d.next=d:(d.next=g.next,g.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Eu(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error($(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),Eu(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}it(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,ir(e,n),o=It(o),r=r(o),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,o=zt(r,e.pendingProps),o=zt(r.type,o),Jd(t,e,r,o,n);case 15:return Sm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:zt(r,o),Uo(t,e),e.tag=1,ft(r)?(t=!0,na(e)):t=!1,ir(e,n),ym(e,r,o),bu(e,r,o,n),Iu(null,e,r,!0,t,n);case 19:return bm(t,e,n);case 22:return xm(t,e,n)}throw Error($(156,e.tag))};function Wm(t,e){return gp(t,e)}function u0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,e,n,r){return new u0(t,e,n,r)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c0(t){if(typeof t=="function")return Zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uc)return 11;if(t===cc)return 14}return 2}function $n(t,e){var n=t.alternate;return n===null?(n=Ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zo(t,e,n,r,o,a){var u=2;if(r=t,typeof t=="function")Zc(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Fi:return fi(n.children,o,a,e);case lc:u=8,o|=8;break;case Jl:return t=Ct(12,n,e,o|2),t.elementType=Jl,t.lanes=a,t;case Yl:return t=Ct(13,n,e,o),t.elementType=Yl,t.lanes=a,t;case Xl:return t=Ct(19,n,e,o),t.elementType=Xl,t.lanes=a,t;case Xf:return La(n,o,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jf:u=10;break e;case Yf:u=9;break e;case uc:u=11;break e;case cc:u=14;break e;case Tn:u=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Ct(u,n,e,o),e.elementType=t,e.type=r,e.lanes=a,e}function fi(t,e,n,r){return t=Ct(7,t,r,e),t.lanes=n,t}function La(t,e,n,r){return t=Ct(22,t,r,e),t.elementType=Xf,t.lanes=n,t.stateNode={isHidden:!1},t}function Dl(t,e,n){return t=Ct(6,t,null,e),t.lanes=n,t}function Bl(t,e,n){return e=Ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function h0(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Hc(t,e,n,r,o,a,u,h,d){return t=new h0(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ct(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(a),t}function d0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zm(t){if(!t)return Fn;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(ft(n))return Zp(t,n,e)}return e}function Hm(t,e,n,r,o,a,u,h,d){return t=Hc(n,r,!0,t,o,a,u,h,d),t.context=Zm(null),n=t.current,r=rt(),o=Bn(n),a=pn(r,o),a.callback=e??null,zn(n,a,o),t.current.lanes=o,Ms(t,o,r),pt(t,r),t}function Ia(t,e,n,r){var o=e.current,a=rt(),u=Bn(o);return n=Zm(n),e.context===null?e.context=n:e.pendingContext=n,e=pn(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zn(o,e,u),t!==null&&(Ft(t,o,u,a),Do(t,o,u)),u}function ma(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vc(t,e){cf(t,e),(t=t.alternate)&&cf(t,e)}function f0(){return null}var Vm=typeof reportError=="function"?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}Oa.prototype.render=qc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Ia(t,e,null,null)};Oa.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vi(function(){Ia(null,t,null,null)}),e[gn]=null}};function Oa(t){this._internalRoot=t}Oa.prototype.unstable_scheduleHydration=function(t){if(t){var e=xp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cn.length&&e!==0&&e<Cn[n].priority;n++);Cn.splice(n,0,t),n===0&&Ep(t)}};function Gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Aa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hf(){}function p0(t,e,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=ma(u);a.call(p)}}var u=Hm(e,r,t,0,null,!1,!1,"",hf);return t._reactRootContainer=u,t[gn]=u.current,Ss(t.nodeType===8?t.parentNode:t),vi(),u}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=ma(d);h.call(p)}}var d=Hc(t,0,!1,null,null,!1,!1,"",hf);return t._reactRootContainer=d,t[gn]=d.current,Ss(t.nodeType===8?t.parentNode:t),vi(function(){Ia(e,d,n,r)}),d}function Ma(t,e,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=ma(u);h.call(d)}}Ia(e,u,t,o)}else u=p0(n,e,t,o,r);return ma(u)}kp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yr(e.pendingLanes);n!==0&&(fc(e,n|1),pt(e,Re()),!(pe&6)&&(hr=Re()+500,Hn()))}break;case 13:vi(function(){var r=_n(t,1);if(r!==null){var o=rt();Ft(r,t,1,o)}}),Vc(t,1)}};pc=function(t){if(t.tag===13){var e=_n(t,134217728);if(e!==null){var n=rt();Ft(e,t,134217728,n)}Vc(t,134217728)}};Sp=function(t){if(t.tag===13){var e=Bn(t),n=_n(t,e);if(n!==null){var r=rt();Ft(n,t,e,r)}Vc(t,e)}};xp=function(){return ve};Pp=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};uu=function(t,e,n){switch(e){case"input":if(nu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=xa(r);if(!o)throw Error($(90));tp(r),nu(r,o)}}}break;case"textarea":ip(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};cp=Uc;hp=vi;var m0={usingClientEntryPoint:!1,Events:[js,Vi,xa,lp,up,Uc]},Vr={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g0={bundleType:Vr.bundleType,version:Vr.version,rendererPackageName:Vr.rendererPackageName,rendererConfig:Vr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pp(t),t===null?null:t.stateNode},findFiberByHostInstance:Vr.findFiberByHostInstance||f0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{ya=Eo.inject(g0),en=Eo}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m0;wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gc(e))throw Error($(200));return d0(t,e,null,n)};wt.createRoot=function(t,e){if(!Gc(t))throw Error($(299));var n=!1,r="",o=Vm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Hc(t,1,!1,null,null,n,!1,r,o),t[gn]=e.current,Ss(t.nodeType===8?t.parentNode:t),new qc(e)};wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=pp(e),t=t===null?null:t.stateNode,t};wt.flushSync=function(t){return vi(t)};wt.hydrate=function(t,e,n){if(!Aa(e))throw Error($(200));return Ma(null,t,e,!0,n)};wt.hydrateRoot=function(t,e,n){if(!Gc(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=Vm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=Hm(e,null,t,1,n??null,o,!1,a,u),t[gn]=e.current,Ss(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Oa(e)};wt.render=function(t,e,n){if(!Aa(e))throw Error($(200));return Ma(null,t,e,!1,n)};wt.unmountComponentAtNode=function(t){if(!Aa(t))throw Error($(40));return t._reactRootContainer?(vi(function(){Ma(null,null,t,!1,function(){t._reactRootContainer=null,t[gn]=null})}),!0):!1};wt.unstable_batchedUpdates=Uc;wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Aa(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Ma(t,e,n,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function qm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qm)}catch(t){console.error(t)}}qm(),qf.exports=wt;var Gm=qf.exports,df=Gm;Kl.createRoot=df.createRoot,Kl.hydrateRoot=df.hydrateRoot;const _0="modulepreload",v0=function(t){return"/itinerary-killer/"+t},ff={},Vn=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=v0(a),a in ff)return;ff[a]=!0;const u=a.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!r)for(let g=o.length-1;g>=0;g--){const _=o[g];if(_.href===a&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":_0,u||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),u)return new Promise((g,_)=>{p.addEventListener("load",g),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a})};function Km(t,e){const n=O.useRef(e);O.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const y0=1;function w0(t){return Object.freeze({__version:y0,map:t})}function k0(t,e){return Object.freeze({...t,...e})}const Qm=O.createContext(null),Jm=Qm.Provider;function Kc(){const t=O.useContext(Qm);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function S0(t){function e(n,r){const{instance:o,context:a}=t(n).current;return O.useImperativeHandle(r,()=>o),n.children==null?null:Ho.createElement(Jm,{value:a},n.children)}return O.forwardRef(e)}function x0(t){function e(n,r){const[o,a]=O.useState(!1),{instance:u}=t(n,a).current;O.useImperativeHandle(r,()=>u),O.useEffect(function(){o&&u.update()},[u,o,n.children]);const h=u._contentNode;return h?Gm.createPortal(n.children,h):null}return O.forwardRef(e)}function P0(t){function e(n,r){const{instance:o}=t(n).current;return O.useImperativeHandle(r,()=>o),null}return O.forwardRef(e)}function Ym(t,e){const n=O.useRef();O.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Qc(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function E0(t,e){return function(r,o){const a=Kc(),u=t(Qc(r,a),a);return Km(a.map,r.attribution),Ym(u.current,r.eventHandlers),e(u.current,a,r,o),u}}var Fu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(vt,function(n){var r="1.9.4";function o(i){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)i[s]=f[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function u(i,s){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,s,l){var c,f,m,x;return x=function(){c=!1,f&&(m.apply(l,f),f=!1)},m=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(x,s),c=!0)},m}function g(i,s,l){var c=s[1],f=s[0],m=c-f;return i===c&&l?i:((i-f)%m+m)%m+f}function _(){return!1}function v(i,s){if(s===!1)return i;var l=Math.pow(10,s===void 0?6:s);return Math.round(i*l)/l}function b(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function E(i){return b(i).split(/\s+/)}function C(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in s)i.options[l]=s[l];return i.options}function N(i,s,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function y(i,s){return i.replace(S,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var w=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function k(i,s){for(var l=0;l<i.length;l++)if(i[l]===s)return l;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var M=0;function z(i){var s=+new Date,l=Math.max(0,16-(s-M));return M=s+l,window.setTimeout(i,l)}var K=window.requestAnimationFrame||I("RequestAnimationFrame")||z,q=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function se(i,s,l){if(l&&K===z)i.call(s);else return K.call(window,u(i,s))}function ge(i){i&&q.call(window,i)}var we={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:g,falseFn:_,formatNum:v,trim:b,splitWords:E,setOptions:C,getParamString:N,template:y,isArray:w,indexOf:k,emptyImageUrl:T,requestFn:K,cancelFn:q,requestAnimFrame:se,cancelAnimFrame:ge};function _e(){}_e.extend=function(i){var s=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return i.statics&&o(s,i.statics),i.includes&&(W(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,x=c._initHooks.length;m<x;m++)c._initHooks[m].call(this)}},s},_e.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},_e.mergeOptions=function(i){return o(this.prototype.options,i),this},_e.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function W(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=w(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s);else{i=E(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l)}return this},off:function(i,s,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],s);else{i=E(i);for(var f=arguments.length===1,m=0,x=i.length;m<x;m++)f?this._off(i[m]):this._off(i[m],s,l)}return this},_on:function(i,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,s,l){var c,f,m;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,m=c.length;f<m;f++)c[f].fn=_;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var x=this._listens(i,s,l);if(x!==!1){var A=c[x];this._firingCount&&(A.fn=_,this._events[i]=c=c.slice()),c.splice(x,1)}}},fire:function(i,s,l){if(!this.listens(i,l))return this;var c=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,x=f.length;m<x;m++){var A=f[m],R=A.fn;A.once&&this.off(i,R,A.ctx),R.call(A.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,s,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var x in this._eventParents)if(this._eventParents[x].listens(i,s,l,c))return!0}return!1},_listens:function(i,s,l){if(!this._events)return!1;var c=this._events[i]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,m=c.length;f<m;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s,!0);else{i=E(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var Y=_e.extend(H);function j(i,s,l){this.x=l?Math.round(i):i,this.y=l?Math.round(s):s}var V=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(i){return this.clone()._add(B(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(B(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new j(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new j(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(i){i=B(i);var s=i.x-this.x,l=i.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(i){return i=B(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=B(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function B(i,s,l){return i instanceof j?i:w(i)?new j(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new j(i.x,i.y):new j(i,s,l)}function Q(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Q.prototype={extend:function(i){var s,l;if(!i)return this;if(i instanceof j||typeof i[0]=="number"||"x"in i)s=l=B(i);else if(i=re(i),s=i.min,l=i.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,l;return typeof i[0]=="number"||i instanceof j?i=B(i):i=re(i),i instanceof Q?(s=i.min,l=i.max):s=l=i,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=re(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>=s.x&&c.x<=l.x,x=f.y>=s.y&&c.y<=l.y;return m&&x},overlaps:function(i){i=re(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>s.x&&c.x<l.x,x=f.y>s.y&&c.y<l.y;return m&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*i,f=Math.abs(s.y-l.y)*i;return re(B(s.x-c,s.y-f),B(l.x+c,l.y+f))},equals:function(i){return i?(i=re(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function re(i,s){return!i||i instanceof Q?i:new Q(i,s)}function fe(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}fe.prototype={extend:function(i){var s=this._southWest,l=this._northEast,c,f;if(i instanceof ae)c=i,f=i;else if(i instanceof fe){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(X(i)||he(i)):this;return!s&&!l?(this._southWest=new ae(c.lat,c.lng),this._northEast=new ae(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*i,f=Math.abs(s.lng-l.lng)*i;return new fe(new ae(s.lat-c,s.lng-f),new ae(l.lat+c,l.lng+f))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ae||"lat"in i?i=X(i):i=he(i);var s=this._southWest,l=this._northEast,c,f;return i instanceof fe?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(i){i=he(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>=s.lat&&c.lat<=l.lat,x=f.lng>=s.lng&&c.lng<=l.lng;return m&&x},overlaps:function(i){i=he(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>s.lat&&c.lat<l.lat,x=f.lng>s.lng&&c.lng<l.lng;return m&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=he(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(i,s){return i instanceof fe?i:new fe(i,s)}function ae(i,s,l){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,l!==void 0&&(this.alt=+l)}ae.prototype={equals:function(i,s){if(!i)return!1;i=X(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return Zt.distance(this,X(i))},wrap:function(){return Zt.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,l=s/Math.cos(Math.PI/180*this.lat);return he([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function X(i,s,l){return i instanceof ae?i:w(i)&&typeof i[0]!="object"?i.length===3?new ae(i[0],i[1],i[2]):i.length===2?new ae(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ae(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new ae(i,s,l)}var Ke={latLngToPoint:function(i,s){var l=this.projection.project(i),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(i,s){var l=this.scale(s),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new Q(c,f)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new ae(l,s,c)},wrapLatLngBounds:function(i){var s=i.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return i;var m=i.getSouthWest(),x=i.getNorthEast(),A=new ae(m.lat-c,m.lng-f),R=new ae(x.lat-c,x.lng-f);return new fe(A,R)}},Zt=o({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var l=Math.PI/180,c=i.lat*l,f=s.lat*l,m=Math.sin((s.lat-i.lat)*l/2),x=Math.sin((s.lng-i.lng)*l/2),A=m*m+Math.cos(c)*Math.cos(f)*x*x,R=2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));return this.R*R}}),yr=6378137,wr={R:yr,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*s);return new j(this.R*i.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var s=180/Math.PI;return new ae((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=yr*Math.PI;return new Q([-i,-i],[i,i])}()};function Gn(i,s,l,c){if(w(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=l,this._d=c}Gn.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new j((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function Kn(i,s,l,c){return new Gn(i,s,l,c)}var Ht=o({},Zt,{code:"EPSG:3857",projection:wr,transformation:function(){var i=.5/(Math.PI*wr.R);return Kn(i,.5,-i,.5)}()}),Ba=o({},Ht,{code:"EPSG:900913"});function Si(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function $s(i,s){var l="",c,f,m,x,A,R;for(c=0,m=i.length;c<m;c++){for(A=i[c],f=0,x=A.length;f<x;f++)R=A[f],l+=(f?"L":"M")+R.x+" "+R.y;l+=s?G.svg?"z":"x":""}return l||"M0 0"}var kr=document.documentElement.style,Qn="ActiveXObject"in window,xi=Qn&&!document.addEventListener,Jn="msLaunchUri"in navigator&&!("documentMode"in document),Sr=Vt("webkit"),xr=Vt("android"),Us=Vt("android 2")||Vt("android 3"),Fs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$a=xr&&Vt("Google")&&Fs<537&&!("AudioNode"in window),Pr=!!window.opera,U=!Jn&&Vt("chrome"),ne=Vt("gecko")&&!Sr&&!Pr&&!Qn,ye=!U&&Vt("safari"),ce=Vt("phantom"),Pe="OTransition"in kr,Qe=navigator.platform.indexOf("Win")===0,Er=Qn&&"transition"in kr,at="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Us,St="MozPerspective"in kr,nn=!window.L_DISABLE_3D&&(Er||at||St)&&!Pe&&!ce,wn=typeof orientation<"u"||Vt("mobile"),Ws=wn&&Sr,Tg=wn&&at,sh=!window.PointerEvent&&window.MSPointerEvent,oh=!!(window.PointerEvent||sh),ah="ontouchstart"in window||!!window.TouchEvent,bg=!window.L_NO_TOUCH&&(ah||oh),Cg=wn&&Pr,Lg=wn&&ne,Ig=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Og=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",_,s),window.removeEventListener("testPassiveEventSupport",_,s)}catch{}return i}(),Ag=function(){return!!document.createElement("canvas").getContext}(),Ua=!!(document.createElementNS&&Si("svg").createSVGRect),Mg=!!Ua&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Rg=!Ua&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),jg=navigator.platform.indexOf("Mac")===0,Ng=navigator.platform.indexOf("Linux")===0;function Vt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var G={ie:Qn,ielt9:xi,edge:Jn,webkit:Sr,android:xr,android23:Us,androidStock:$a,opera:Pr,chrome:U,gecko:ne,safari:ye,phantom:ce,opera12:Pe,win:Qe,ie3d:Er,webkit3d:at,gecko3d:St,any3d:nn,mobile:wn,mobileWebkit:Ws,mobileWebkit3d:Tg,msPointer:sh,pointer:oh,touch:bg,touchNative:ah,mobileOpera:Cg,mobileGecko:Lg,retina:Ig,passiveEvents:Og,canvas:Ag,svg:Ua,vml:Rg,inlineSvg:Mg,mac:jg,linux:Ng},lh=G.msPointer?"MSPointerDown":"pointerdown",uh=G.msPointer?"MSPointerMove":"pointermove",ch=G.msPointer?"MSPointerUp":"pointerup",hh=G.msPointer?"MSPointerCancel":"pointercancel",Fa={touchstart:lh,touchmove:uh,touchend:ch,touchcancel:hh},dh={touchstart:Fg,touchmove:Zs,touchend:Zs,touchcancel:Zs},Pi={},fh=!1;function zg(i,s,l){return s==="touchstart"&&Ug(),dh[s]?(l=dh[s].bind(this,l),i.addEventListener(Fa[s],l,!1),l):(console.warn("wrong event specified:",s),_)}function Dg(i,s,l){if(!Fa[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Fa[s],l,!1)}function Bg(i){Pi[i.pointerId]=i}function $g(i){Pi[i.pointerId]&&(Pi[i.pointerId]=i)}function ph(i){delete Pi[i.pointerId]}function Ug(){fh||(document.addEventListener(lh,Bg,!0),document.addEventListener(uh,$g,!0),document.addEventListener(ch,ph,!0),document.addEventListener(hh,ph,!0),fh=!0)}function Zs(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in Pi)s.touches.push(Pi[l]);s.changedTouches=[s],i(s)}}function Fg(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&He(s),Zs(i,s)}function Wg(i){var s={},l,c;for(c in i)l=i[c],s[c]=l&&l.bind?l.bind(i):l;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Zg=200;function Hg(i,s){i.addEventListener("dblclick",s);var l=0,c;function f(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var x=yh(m);if(!(x.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!x.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var A=Date.now();A-l<=Zg?(c++,c===2&&s(Wg(m))):c=1,l=A}}}return i.addEventListener("click",f),{dblclick:s,simDblclick:f}}function Vg(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var Wa=qs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tr=qs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),mh=Tr==="webkitTransition"||Tr==="OTransition"?Tr+"End":"transitionend";function gh(i){return typeof i=="string"?document.getElementById(i):i}function br(i,s){var l=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[s]:null}return l==="auto"?null:l}function me(i,s,l){var c=document.createElement(i);return c.className=s||"",l&&l.appendChild(c),c}function Ce(i){var s=i.parentNode;s&&s.removeChild(i)}function Hs(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Ei(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function Ti(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function Za(i,s){if(i.classList!==void 0)return i.classList.contains(s);var l=Vs(i);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function ie(i,s){if(i.classList!==void 0)for(var l=E(s),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!Za(i,s)){var m=Vs(i);Ha(i,(m?m+" ":"")+s)}}function Me(i,s){i.classList!==void 0?i.classList.remove(s):Ha(i,b((" "+Vs(i)+" ").replace(" "+s+" "," ")))}function Ha(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function Vs(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function xt(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&qg(i,s)}function qg(i,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):i.style.filter+=" progid:"+c+"(opacity="+s+")"}function qs(i){for(var s=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in s)return i[l];return!1}function Yn(i,s,l){var c=s||new j(0,0);i.style[Wa]=(G.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function je(i,s){i._leaflet_pos=s,G.any3d?Yn(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function Xn(i){return i._leaflet_pos||new j(0,0)}var Cr,Lr,Va;if("onselectstart"in document)Cr=function(){ee(window,"selectstart",He)},Lr=function(){ke(window,"selectstart",He)};else{var Ir=qs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cr=function(){if(Ir){var i=document.documentElement.style;Va=i[Ir],i[Ir]="none"}},Lr=function(){Ir&&(document.documentElement.style[Ir]=Va,Va=void 0)}}function qa(){ee(window,"dragstart",He)}function Ga(){ke(window,"dragstart",He)}var Gs,Ka;function Qa(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Ks(),Gs=i,Ka=i.style.outlineStyle,i.style.outlineStyle="none",ee(window,"keydown",Ks))}function Ks(){Gs&&(Gs.style.outlineStyle=Ka,Gs=void 0,Ka=void 0,ke(window,"keydown",Ks))}function _h(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Ja(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var Gg={__proto__:null,TRANSFORM:Wa,TRANSITION:Tr,TRANSITION_END:mh,get:gh,getStyle:br,create:me,remove:Ce,empty:Hs,toFront:Ei,toBack:Ti,hasClass:Za,addClass:ie,removeClass:Me,setClass:Ha,getClass:Vs,setOpacity:xt,testProp:qs,setTransform:Yn,setPosition:je,getPosition:Xn,get disableTextSelection(){return Cr},get enableTextSelection(){return Lr},disableImageDrag:qa,enableImageDrag:Ga,preventOutline:Qa,restoreOutline:Ks,getSizedParentNode:_h,getScale:Ja};function ee(i,s,l,c){if(s&&typeof s=="object")for(var f in s)Xa(i,f,s[f],l);else{s=E(s);for(var m=0,x=s.length;m<x;m++)Xa(i,s[m],l,c)}return this}var qt="_leaflet_events";function ke(i,s,l,c){if(arguments.length===1)vh(i),delete i[qt];else if(s&&typeof s=="object")for(var f in s)el(i,f,s[f],l);else if(s=E(s),arguments.length===2)vh(i,function(A){return k(s,A)!==-1});else for(var m=0,x=s.length;m<x;m++)el(i,s[m],l,c);return this}function vh(i,s){for(var l in i[qt]){var c=l.split(/\d/)[0];(!s||s(c))&&el(i,c,null,null,l)}}var Ya={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Xa(i,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(i[qt]&&i[qt][f])return this;var m=function(A){return l.call(c||i,A||window.event)},x=m;!G.touchNative&&G.pointer&&s.indexOf("touch")===0?m=zg(i,s,m):G.touch&&s==="dblclick"?m=Hg(i,m):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Ya[s]||s,m,G.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(m=function(A){A=A||window.event,nl(i,A)&&x(A)},i.addEventListener(Ya[s],m,!1)):i.addEventListener(s,x,!1):i.attachEvent("on"+s,m),i[qt]=i[qt]||{},i[qt][f]=m}function el(i,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var m=i[qt]&&i[qt][f];if(!m)return this;!G.touchNative&&G.pointer&&s.indexOf("touch")===0?Dg(i,s,m):G.touch&&s==="dblclick"?Vg(i,m):"removeEventListener"in i?i.removeEventListener(Ya[s]||s,m,!1):i.detachEvent("on"+s,m),i[qt][f]=null}function ei(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function tl(i){return Xa(i,"wheel",ei),this}function Or(i){return ee(i,"mousedown touchstart dblclick contextmenu",ei),i._leaflet_disable_click=!0,this}function He(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ti(i){return He(i),ei(i),this}function yh(i){if(i.composedPath)return i.composedPath();for(var s=[],l=i.target;l;)s.push(l),l=l.parentNode;return s}function wh(i,s){if(!s)return new j(i.clientX,i.clientY);var l=Ja(s),c=l.boundingClientRect;return new j((i.clientX-c.left)/l.x-s.clientLeft,(i.clientY-c.top)/l.y-s.clientTop)}var Kg=G.linux&&G.chrome?window.devicePixelRatio:G.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kh(i){return G.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Kg:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function nl(i,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var Qg={__proto__:null,on:ee,off:ke,stopPropagation:ei,disableScrollPropagation:tl,disableClickPropagation:Or,preventDefault:He,stop:ti,getPropagationPath:yh,getMousePosition:wh,getWheelDelta:kh,isExternalTarget:nl,addListener:ee,removeListener:ke},Sh=Y.extend({run:function(i,s,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Xn(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=se(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var l=this._startPos.add(this._offset.multiplyBy(i));s&&l._round(),je(this._el,l),this.fire("step")},_complete:function(){ge(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),de=Y.extend({options:{crs:Ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=C(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(X(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tr&&G.any3d&&!G.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,mh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(X(i),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(G.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(G.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),m=i instanceof j?i:this.latLngToContainerPoint(i),x=m.subtract(f).multiplyBy(1-1/c),A=this.containerPointToLatLng(f.add(x));return this.setView(A,s,{zoom:l})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():he(i);var l=B(s.paddingTopLeft||s.padding||[0,0]),c=B(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var m=c.subtract(l).divideBy(2),x=this.project(i.getSouthWest(),f),A=this.project(i.getNorthEast(),f),R=this.unproject(x.add(A).divideBy(2).add(m),f);return{center:R,zoom:f}},fitBounds:function(i,s){if(i=he(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=B(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Sh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){ie(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,l){if(l=l||{},l.animate===!1||!G.any3d)return this.setView(i,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),m=this.getSize(),x=this._zoom;i=X(i),s=s===void 0?x:s;var A=Math.max(m.x,m.y),R=A*this.getZoomScale(x,s),D=f.distanceTo(c)||1,F=1.42,J=F*F;function oe(Ne){var ao=Ne?-1:1,D_=Ne?R:A,B_=R*R-A*A+ao*J*J*D*D,$_=2*D_*J*D,fl=B_/$_,nd=Math.sqrt(fl*fl+1)-fl,U_=nd<1e-9?-18:Math.log(nd);return U_}function tt(Ne){return(Math.exp(Ne)-Math.exp(-Ne))/2}function Fe(Ne){return(Math.exp(Ne)+Math.exp(-Ne))/2}function Et(Ne){return tt(Ne)/Fe(Ne)}var lt=oe(0);function Ai(Ne){return A*(Fe(lt)/Fe(lt+F*Ne))}function R_(Ne){return A*(Fe(lt)*Et(lt+F*Ne)-tt(lt))/J}function j_(Ne){return 1-Math.pow(1-Ne,1.5)}var N_=Date.now(),ed=(oe(1)-lt)/F,z_=l.duration?1e3*l.duration:1e3*ed*.8;function td(){var Ne=(Date.now()-N_)/z_,ao=j_(Ne)*ed;Ne<=1?(this._flyToFrame=se(td,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(R_(ao)/D)),x),this.getScaleZoom(A/Ai(ao),x),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),td.call(this),this},flyToBounds:function(i,s){var l=this._getBoundsCenterZoom(i,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(i){return i=he(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,he(i));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var l=B(s.paddingTopLeft||s.padding||[0,0]),c=B(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(i),x=this.getPixelBounds(),A=re([x.min.add(l),x.max.subtract(c)]),R=A.getSize();if(!A.contains(m)){this._enforcingBounds=!0;var D=m.subtract(A.getCenter()),F=A.extend(m).getSize().subtract(R);f.x+=D.x<0?-F.x:F.x,f.y+=D.y<0?-F.y:F.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),m=c.subtract(f);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,i):navigator.geolocation.getCurrentPosition(s,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,l=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,l=i.coords.longitude,c=new ae(s,l),f=c.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var x=this.getBoundsZoom(f);this.setView(c,m.maxZoom?Math.min(x,m.maxZoom):x)}var A={latlng:c,bounds:f,timestamp:i.timestamp};for(var R in i.coords)typeof i.coords[R]=="number"&&(A[R]=i.coords[R]);this.fire("locationfound",A)}},addHandler:function(i,s){if(!s)return this;var l=this[i]=new s(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ge(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ce(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=me("div",l,s||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new fe(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,l){i=he(i),l=B(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),x=i.getNorthWest(),A=i.getSouthEast(),R=this.getSize().subtract(l),D=re(this.project(A,c),this.project(x,c)).getSize(),F=G.any3d?this.options.zoomSnap:1,J=R.x/D.x,oe=R.y/D.y,tt=s?Math.max(J,oe):Math.min(J,oe);return c=this.getScaleZoom(tt,c),F&&(c=Math.round(c/(F/100))*(F/100),c=s?Math.ceil(c/F)*F:Math.floor(c/F)*F),Math.max(f,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var l=this._getTopLeftPoint(i,s);return new Q(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(i)/l.scale(s)},getScaleZoom:function(i,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(i*l.scale(s));return isNaN(c)?1/0:c},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(X(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(B(i),s)},layerPointToLatLng:function(i){var s=B(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(X(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(X(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(he(i))},distance:function(i,s){return this.options.crs.distance(X(i),X(s))},containerPointToLayerPoint:function(i){return B(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return B(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(B(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(i)))},mouseEventToContainerPoint:function(i){return wh(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=gh(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&G.any3d,ie(i,"leaflet-container"+(G.touch?" leaflet-touch":"")+(G.retina?" leaflet-retina":"")+(G.ielt9?" leaflet-oldie":"")+(G.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=br(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),je(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ie(i.markerPane,"leaflet-zoom-hide"),ie(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,l){je(this._mapPane,new j(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(i,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ge(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){je(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var s=i?ke:ee;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),G.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ge(this._resizeRequest),this._resizeRequest=se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",m=i.target||i.srcElement,x=!1;m;){if(c=this._targets[d(m)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){x=!0;break}if(c&&c.listens(s,!0)&&(f&&!nl(m,i)||(l.push(c),f))||m===this._container)break;m=m.parentNode}return!l.length&&!x&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var l=i.type;l==="mousedown"&&Qa(s),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,l){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,s);if(l){for(var m=[],x=0;x<l.length;x++)l[x].listens(s,!0)&&m.push(l[x]);f=m.concat(f)}if(f.length){s==="contextmenu"&&He(i);var A=f[0],R={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var D=A.getLatLng&&(!A._radius||A._radius<=10);R.containerPoint=D?this.latLngToContainerPoint(A.getLatLng()):this.mouseEventToContainerPoint(i),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=D?A.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(x=0;x<f.length;x++)if(f[x].fire(s,R,!0),R.originalEvent._stopped||f[x].options.bubblingMouseEvents===!1&&k(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return Xn(this._mapPane)||new j(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var l=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var l=this.getSize()._divideBy(2);return this.project(i,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(i,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return re([this.project(i.getSouthWest(),s)._subtract(c),this.project(i.getNorthWest(),s)._subtract(c),this.project(i.getSouthEast(),s)._subtract(c),this.project(i.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,l){if(!l)return i;var c=this.project(i,s),f=this.getSize().divideBy(2),m=new Q(c.subtract(f),c.add(f)),x=this._getBoundsOffset(m,l,s);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?i:this.unproject(c.add(x),s)},_limitOffset:function(i,s){if(!s)return i;var l=this.getPixelBounds(),c=new Q(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(i,s,l){var c=re(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(i.min),m=c.max.subtract(i.max),x=this._rebound(f.x,-m.x),A=this._rebound(f.y,-m.y);return new j(x,A)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),l=this.getMaxZoom(),c=G.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(s,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var l=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var i=this._proxy=me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var l=Wa,c=this._proxy.style[l];Yn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();Yn(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(se(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jg(i,s){return new de(i,s)}var At=_e.extend({options:{position:"topright"},initialize:function(i){C(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return ie(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Ar=function(i){return new At(i)};de.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",l=this._controlContainer=me("div",s+"control-container",this._container);function c(f,m){var x=s+f+" "+s+m;i[f+m]=me("div",x,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ce(this._controlCorners[i]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xh=At.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,s,l){C(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return At.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Me(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=me("div",i),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Or(s),tl(s);var c=this._section=me("section",i+"-list");l&&(this._map.on("click",this.collapse,this),ee(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=me("a",i+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),ee(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){He(m),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=me("div",i+"-base",c),this._separator=me("div",i+"-separator",c),this._overlaysList=me("div",i+"-overlays",c),s.appendChild(c)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hs(this._baseLayersList),Hs(this._overlaysList),this._layerControlInputs=[];var i,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(d(i.target)),l=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(i,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var s=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),ee(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var m=document.createElement("span");s.appendChild(m),m.appendChild(c),m.appendChild(f);var x=i.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)s=i[m],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)s=i[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,ee(i,"click",He),this.expand();var s=this;setTimeout(function(){ke(i,"click",He),s._preventClick=!1})}}),Yg=function(i,s,l){return new xh(i,s,l)},il=At.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",l=me("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,l,c,f){var m=me("a",l,c);return m.innerHTML=i,m.href="#",m.title=s,m.setAttribute("role","button"),m.setAttribute("aria-label",s),Or(m),ee(m,"click",ti),ee(m,"click",f,this),ee(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";Me(this._zoomInButton,s),Me(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ie(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ie(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});de.mergeOptions({zoomControl:!0}),de.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new il,this.addControl(this.zoomControl))});var Xg=function(i){return new il(i)},Ph=At.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",l=me("div",s),c=this.options;return this._addScales(c,s+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,l){i.metric&&(this._mScale=me("div",s,l)),i.imperial&&(this._iScale=me("div",s,l))},_update:function(){var i=this._map,s=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/i)},_updateImperial:function(i){var s=i*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(i,s,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),l=i/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),e_=function(i){return new Ph(i)},t_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',rl=At.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(G.inlineSvg?t_+" ":"")+"Leaflet</a>"},initialize:function(i){C(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=me("div","leaflet-control-attribution"),Or(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});de.mergeOptions({attributionControl:!0}),de.addInitHook(function(){this.options.attributionControl&&new rl().addTo(this)});var n_=function(i){return new rl(i)};At.Layers=xh,At.Zoom=il,At.Scale=Ph,At.Attribution=rl,Ar.layers=Yg,Ar.zoom=Xg,Ar.scale=e_,Ar.attribution=n_;var Gt=_e.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gt.addTo=function(i,s){return i.addHandler(s,this),this};var i_={Events:H},Eh=G.touch?"touchstart mousedown":"mousedown",kn=Y.extend({options:{clickTolerance:3},initialize:function(i,s,l,c){C(this,c),this._element=i,this._dragStartTarget=s||i,this._preventOutline=l},enable:function(){this._enabled||(ee(this._dragStartTarget,Eh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(kn._dragging===this&&this.finishDrag(!0),ke(this._dragStartTarget,Eh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Za(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){kn._dragging===this&&this.finishDrag();return}if(!(kn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(kn._dragging=this,this._preventOutline&&Qa(this._element),qa(),Cr(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,l=_h(this._element);this._startPoint=new j(s.clientX,s.clientY),this._startPos=Xn(this._element),this._parentScale=Ja(l);var c=i.type==="mousedown";ee(document,c?"mousemove":"touchmove",this._onMove,this),ee(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,l=new j(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,He(i),this._moved||(this.fire("dragstart"),this._moved=!0,ie(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),je(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Me(document.body,"leaflet-dragging"),this._lastTarget&&(Me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ke(document,"mousemove touchmove",this._onMove,this),ke(document,"mouseup touchend touchcancel",this._onUp,this),Ga(),Lr();var s=this._moved&&this._moving;this._moving=!1,kn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Th(i,s,l){var c,f=[1,4,2,8],m,x,A,R,D,F,J,oe;for(m=0,F=i.length;m<F;m++)i[m]._code=ni(i[m],s);for(A=0;A<4;A++){for(J=f[A],c=[],m=0,F=i.length,x=F-1;m<F;x=m++)R=i[m],D=i[x],R._code&J?D._code&J||(oe=Qs(D,R,J,s,l),oe._code=ni(oe,s),c.push(oe)):(D._code&J&&(oe=Qs(D,R,J,s,l),oe._code=ni(oe,s),c.push(oe)),c.push(R));i=c}return i}function bh(i,s){var l,c,f,m,x,A,R,D,F;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var J=X([0,0]),oe=he(i),tt=oe.getNorthWest().distanceTo(oe.getSouthWest())*oe.getNorthEast().distanceTo(oe.getNorthWest());tt<1700&&(J=sl(i));var Fe=i.length,Et=[];for(l=0;l<Fe;l++){var lt=X(i[l]);Et.push(s.project(X([lt.lat-J.lat,lt.lng-J.lng])))}for(A=R=D=0,l=0,c=Fe-1;l<Fe;c=l++)f=Et[l],m=Et[c],x=f.y*m.x-m.y*f.x,R+=(f.x+m.x)*x,D+=(f.y+m.y)*x,A+=x*3;A===0?F=Et[0]:F=[R/A,D/A];var Ai=s.unproject(B(F));return X([Ai.lat+J.lat,Ai.lng+J.lng])}function sl(i){for(var s=0,l=0,c=0,f=0;f<i.length;f++){var m=X(i[f]);s+=m.lat,l+=m.lng,c++}return X([s/c,l/c])}var r_={__proto__:null,clipPolygon:Th,polygonCenter:bh,centroid:sl};function Ch(i,s){if(!s||!i.length)return i.slice();var l=s*s;return i=a_(i,l),i=o_(i,l),i}function Lh(i,s,l){return Math.sqrt(Mr(i,s,l,!0))}function s_(i,s,l){return Mr(i,s,l)}function o_(i,s){var l=i.length,c=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,ol(i,f,s,0,l-1);var m,x=[];for(m=0;m<l;m++)f[m]&&x.push(i[m]);return x}function ol(i,s,l,c,f){var m=0,x,A,R;for(A=c+1;A<=f-1;A++)R=Mr(i[A],i[c],i[f],!0),R>m&&(x=A,m=R);m>l&&(s[x]=1,ol(i,s,l,c,x),ol(i,s,l,x,f))}function a_(i,s){for(var l=[i[0]],c=1,f=0,m=i.length;c<m;c++)l_(i[c],i[f])>s&&(l.push(i[c]),f=c);return f<m-1&&l.push(i[m-1]),l}var Ih;function Oh(i,s,l,c,f){var m=c?Ih:ni(i,l),x=ni(s,l),A,R,D;for(Ih=x;;){if(!(m|x))return[i,s];if(m&x)return!1;A=m||x,R=Qs(i,s,A,l,f),D=ni(R,l),A===m?(i=R,m=D):(s=R,x=D)}}function Qs(i,s,l,c,f){var m=s.x-i.x,x=s.y-i.y,A=c.min,R=c.max,D,F;return l&8?(D=i.x+m*(R.y-i.y)/x,F=R.y):l&4?(D=i.x+m*(A.y-i.y)/x,F=A.y):l&2?(D=R.x,F=i.y+x*(R.x-i.x)/m):l&1&&(D=A.x,F=i.y+x*(A.x-i.x)/m),new j(D,F,f)}function ni(i,s){var l=0;return i.x<s.min.x?l|=1:i.x>s.max.x&&(l|=2),i.y<s.min.y?l|=4:i.y>s.max.y&&(l|=8),l}function l_(i,s){var l=s.x-i.x,c=s.y-i.y;return l*l+c*c}function Mr(i,s,l,c){var f=s.x,m=s.y,x=l.x-f,A=l.y-m,R=x*x+A*A,D;return R>0&&(D=((i.x-f)*x+(i.y-m)*A)/R,D>1?(f=l.x,m=l.y):D>0&&(f+=x*D,m+=A*D)),x=i.x-f,A=i.y-m,c?x*x+A*A:new j(f,m)}function Pt(i){return!w(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Ah(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pt(i)}function Mh(i,s){var l,c,f,m,x,A,R,D;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var F=X([0,0]),J=he(i),oe=J.getNorthWest().distanceTo(J.getSouthWest())*J.getNorthEast().distanceTo(J.getNorthWest());oe<1700&&(F=sl(i));var tt=i.length,Fe=[];for(l=0;l<tt;l++){var Et=X(i[l]);Fe.push(s.project(X([Et.lat-F.lat,Et.lng-F.lng])))}for(l=0,c=0;l<tt-1;l++)c+=Fe[l].distanceTo(Fe[l+1])/2;if(c===0)D=Fe[0];else for(l=0,m=0;l<tt-1;l++)if(x=Fe[l],A=Fe[l+1],f=x.distanceTo(A),m+=f,m>c){R=(m-c)/f,D=[A.x-R*(A.x-x.x),A.y-R*(A.y-x.y)];break}var lt=s.unproject(B(D));return X([lt.lat+F.lat,lt.lng+F.lng])}var u_={__proto__:null,simplify:Ch,pointToSegmentDistance:Lh,closestPointOnSegment:s_,clipSegment:Oh,_getEdgeIntersection:Qs,_getBitCode:ni,_sqClosestPointOnSegment:Mr,isFlat:Pt,_flat:Ah,polylineCenter:Mh},al={project:function(i){return new j(i.lng,i.lat)},unproject:function(i){return new ae(i.y,i.x)},bounds:new Q([-180,-90],[180,90])},ll={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,l=this.R,c=i.lat*s,f=this.R_MINOR/l,m=Math.sqrt(1-f*f),x=m*Math.sin(c),A=Math.tan(Math.PI/4-c/2)/Math.pow((1-x)/(1+x),m/2);return c=-l*Math.log(Math.max(A,1e-10)),new j(i.lng*s*l,c)},unproject:function(i){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),m=Math.exp(-i.y/l),x=Math.PI/2-2*Math.atan(m),A=0,R=.1,D;A<15&&Math.abs(R)>1e-7;A++)D=f*Math.sin(x),D=Math.pow((1-D)/(1+D),f/2),R=Math.PI/2-2*Math.atan(m*D)-x,x+=R;return new ae(x*s,i.x*s/l)}},c_={__proto__:null,LonLat:al,Mercator:ll,SphericalMercator:wr},h_=o({},Zt,{code:"EPSG:3395",projection:ll,transformation:function(){var i=.5/(Math.PI*ll.R);return Kn(i,.5,-i,.5)}()}),Rh=o({},Zt,{code:"EPSG:4326",projection:al,transformation:Kn(1/180,1,-1/180,.5)}),d_=o({},Ke,{projection:al,transformation:Kn(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var l=s.lng-i.lng,c=s.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Ke.Earth=Zt,Ke.EPSG3395=h_,Ke.EPSG3857=Ht,Ke.EPSG900913=Ba,Ke.EPSG4326=Rh,Ke.Simple=d_;var Mt=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});de.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=d(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},_addLayers:function(i){i=i?w(i)?i:[i]:[];for(var s=0,l=i.length;s<l;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=d(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bi=Mt.extend({initialize:function(i,s){C(this,s),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),f_=function(i,s){return new bi(i,s)},rn=bi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),bi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),bi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new fe;for(var s in this._layers){var l=this._layers[s];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),p_=function(i,s){return new rn(i,s)},Ci=_e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){C(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=B(c),m=B(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(l.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return G.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function m_(i){return new Ci(i)}var Rr=Ci.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Rr.imagePath!="string"&&(Rr.imagePath=this._detectIconPath()),(this.options.imagePath||Rr.imagePath)+Ci.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(l,c,f){var m=c.exec(l);return m&&m[f]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=me("div","leaflet-default-icon-path",document.body),s=br(i,"background-image")||br(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),jh=Gt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new kn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ie(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=Xn(s._icon),x=l.getPixelBounds(),A=l.getPixelOrigin(),R=re(x.min._subtract(A).add(f),x.max._subtract(A).subtract(f));if(!R.contains(m)){var D=B((Math.max(R.max.x,m.x)-R.max.x)/(x.max.x-R.max.x)-(Math.min(R.min.x,m.x)-R.min.x)/(x.min.x-R.min.x),(Math.max(R.max.y,m.y)-R.max.y)/(x.max.y-R.max.y)-(Math.min(R.min.y,m.y)-R.min.y)/(x.min.y-R.min.y)).multiplyBy(c);l.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),je(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=se(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(ge(this._panRequest),this._panRequest=se(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,l=s._shadow,c=Xn(s._icon),f=s._map.layerPointToLatLng(c);l&&je(l,c),s._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){ge(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Js=Mt.extend({options:{icon:new Rr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){C(this,s),this._latlng=X(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=X(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),ie(l,s),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(ie(f,s),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&je(this._icon,i),this._shadow&&je(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),jh)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new jh(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&xt(this._icon,i),this._shadow&&xt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,l=s.iconSize?B(s.iconSize):B(0,0),c=s.iconAnchor?B(s.iconAnchor):B(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function g_(i,s){return new Js(i,s)}var Sn=Mt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return C(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ys=Sn.extend({options:{fill:!0,radius:10},initialize:function(i,s){C(this,s),this._latlng=X(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=X(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return Sn.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,l=this._clickTolerance(),c=[i+l,s+l];this._pxBounds=new Q(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function __(i,s){return new Ys(i,s)}var ul=Ys.extend({initialize:function(i,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),C(this,s),this._latlng=X(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new fe(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Sn.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===Zt.distance){var f=Math.PI/180,m=this._mRadius/Zt.R/f,x=l.project([s+m,i]),A=l.project([s-m,i]),R=x.add(A).divideBy(2),D=l.unproject(R).lat,F=Math.acos((Math.cos(m*f)-Math.sin(s*f)*Math.sin(D*f))/(Math.cos(s*f)*Math.cos(D*f)))/f;(isNaN(F)||F===0)&&(F=m/Math.cos(Math.PI/180*s)),this._point=R.subtract(l.getPixelOrigin()),this._radius=isNaN(F)?0:R.x-l.project([D,i-F]).x,this._radiusY=R.y-x.y}else{var J=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(J).x}this._updateBounds()}});function v_(i,s,l){return new ul(i,s,l)}var sn=Sn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){C(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,l=null,c=Mr,f,m,x=0,A=this._parts.length;x<A;x++)for(var R=this._parts[x],D=1,F=R.length;D<F;D++){f=R[D-1],m=R[D];var J=c(i,f,m,!0);J<s&&(s=J,l=c(i,f,m))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=X(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new fe,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],l=Pt(i),c=0,f=i.length;c<f;c++)l?(s[c]=X(i[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(i[c]);return s},_project:function(){var i=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new j(i,i);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,l){var c=i[0]instanceof ae,f=i.length,m,x;if(c){for(x=[],m=0;m<f;m++)x[m]=this._map.latLngToLayerPoint(i[m]),l.extend(x[m]);s.push(x)}else for(m=0;m<f;m++)this._projectLatlngs(i[m],s,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,m,x,A,R;for(l=0,f=0,m=this._rings.length;l<m;l++)for(R=this._rings[l],c=0,x=R.length;c<x-1;c++)A=Oh(R[c],R[c+1],i,c,!0),A&&(s[f]=s[f]||[],s[f].push(A[0]),(A[1]!==R[c+1]||c===x-2)&&(s[f].push(A[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=Ch(i[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var l,c,f,m,x,A,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,m=this._parts.length;l<m;l++)for(A=this._parts[l],c=0,x=A.length,f=x-1;c<x;f=c++)if(!(!s&&c===0)&&Lh(i,A[f],A[c])<=R)return!0;return!1}});function y_(i,s){return new sn(i,s)}sn._flat=Ah;var Li=sn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=sn.prototype._convertLatLngs.call(this,i),l=s.length;return l>=2&&s[0]instanceof ae&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(i){sn.prototype._setLatLngs.call(this,i),Pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,l=new j(s,s);if(i=new Q(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,m;c<f;c++)m=Th(this._rings[c],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,l,c,f,m,x,A,R,D;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,R=this._parts.length;m<R;m++)for(l=this._parts[m],x=0,D=l.length,A=D-1;x<D;A=x++)c=l[x],f=l[A],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||sn.prototype._containsPoint.call(this,i,!0)}});function w_(i,s){return new Li(i,s)}var on=rn.extend({initialize:function(i,s){C(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=w(i)?i:i.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var x=Xs(i,m);return x?(x.feature=no(i),x.defaultOptions=x.options,this.resetStyle(x),m.onEachFeature&&m.onEachFeature(i,x),this.addLayer(x)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function Xs(i,s){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],m=s&&s.pointToLayer,x=s&&s.coordsToLatLng||cl,A,R,D,F;if(!c&&!l)return null;switch(l.type){case"Point":return A=x(c),Nh(m,i,A,s);case"MultiPoint":for(D=0,F=c.length;D<F;D++)A=x(c[D]),f.push(Nh(m,i,A,s));return new rn(f);case"LineString":case"MultiLineString":return R=eo(c,l.type==="LineString"?0:1,x),new sn(R,s);case"Polygon":case"MultiPolygon":return R=eo(c,l.type==="Polygon"?1:2,x),new Li(R,s);case"GeometryCollection":for(D=0,F=l.geometries.length;D<F;D++){var J=Xs({geometry:l.geometries[D],type:"Feature",properties:i.properties},s);J&&f.push(J)}return new rn(f);case"FeatureCollection":for(D=0,F=l.features.length;D<F;D++){var oe=Xs(l.features[D],s);oe&&f.push(oe)}return new rn(f);default:throw new Error("Invalid GeoJSON object.")}}function Nh(i,s,l,c){return i?i(s,l):new Js(l,c&&c.markersInheritOptions&&c)}function cl(i){return new ae(i[1],i[0],i[2])}function eo(i,s,l){for(var c=[],f=0,m=i.length,x;f<m;f++)x=s?eo(i[f],s-1,l):(l||cl)(i[f]),c.push(x);return c}function hl(i,s){return i=X(i),i.alt!==void 0?[v(i.lng,s),v(i.lat,s),v(i.alt,s)]:[v(i.lng,s),v(i.lat,s)]}function to(i,s,l,c){for(var f=[],m=0,x=i.length;m<x;m++)f.push(s?to(i[m],Pt(i[m])?0:s-1,l,c):hl(i[m],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function Ii(i,s){return i.feature?o({},i.feature,{geometry:s}):no(s)}function no(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var dl={toGeoJSON:function(i){return Ii(this,{type:"Point",coordinates:hl(this.getLatLng(),i)})}};Js.include(dl),ul.include(dl),Ys.include(dl),sn.include({toGeoJSON:function(i){var s=!Pt(this._latlngs),l=to(this._latlngs,s?1:0,!1,i);return Ii(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),Li.include({toGeoJSON:function(i){var s=!Pt(this._latlngs),l=s&&!Pt(this._latlngs[0]),c=to(this._latlngs,l?2:s?1:0,!0,i);return s||(c=[c]),Ii(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),bi.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(i).geometry.coordinates)}),Ii(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(i);if(l)c.push(m.geometry);else{var x=no(m);x.type==="FeatureCollection"?c.push.apply(c,x.features):c.push(x)}}}),l?Ii(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function zh(i,s){return new on(i,s)}var k_=zh,io=Mt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,l){this._url=i,this._bounds=he(s),C(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Ei(this._image),this},bringToBack:function(){return this._map&&Ti(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=he(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:me("img");if(ie(s,"leaflet-image-layer"),this._zoomAnimated&&ie(s,"leaflet-zoom-animated"),this.options.className&&ie(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Yn(this._image,l,s)},_reset:function(){var i=this._image,s=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();je(i,s.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),S_=function(i,s,l){return new io(i,s,l)},Dh=io.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:me("video");if(ie(s,"leaflet-image-layer"),this._zoomAnimated&&ie(s,"leaflet-zoom-animated"),this.options.className&&ie(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onloadeddata=u(this.fire,this,"load"),i){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var x=me("source");x.src=this._url[m],s.appendChild(x)}}});function x_(i,s,l){return new Dh(i,s,l)}var Bh=io.extend({_initImage:function(){var i=this._image=this._url;ie(i,"leaflet-image-layer"),this._zoomAnimated&&ie(i,"leaflet-zoom-animated"),this.options.className&&ie(i,this.options.className),i.onselectstart=_,i.onmousemove=_}});function P_(i,s,l){return new Bh(i,s,l)}var Kt=Mt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof ae||w(i))?(this._latlng=X(i),C(this,s)):(C(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&xt(this._container,1),this.bringToFront(),this.options.interactive&&(ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(xt(this._container,0),this._removeTimeout=setTimeout(u(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=X(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ei(this._container),this},bringToBack:function(){return this._map&&Ti(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof rn){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=B(this.options.offset),l=this._getAnchor();this._zoomAnimated?je(this._container,i.add(l)):s=s.add(i).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});de.include({_initOverlay:function(i,s,l,c){var f=s;return f instanceof i||(f=new i(c).setContent(s)),l&&f.setLatLng(l),f}}),Mt.include({_initOverlay:function(i,s,l,c){var f=l;return f instanceof i?(C(f,c),f._source=this):(f=s&&!c?s:new i(c,this),f.setContent(l)),f}});var ro=Kt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Kt.prototype.openOn.call(this,i)},onAdd:function(i){Kt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Sn||this._source.on("preclick",ei))},onRemove:function(i){Kt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Sn||this._source.off("preclick",ei))},getEvents:function(){var i=Kt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=me("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=me("div",i+"-content-wrapper",s);if(this._contentNode=me("div",i+"-content",l),Or(s),tl(this._contentNode),ee(s,"contextmenu",ei),this._tipContainer=me("div",i+"-tip-container",s),this._tip=me("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=me("a",i+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',ee(c,"click",function(f){He(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=i.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",ie(i,m)):Me(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();je(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(br(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new j(this._containerLeft,-l-this._containerBottom);f._add(Xn(this._container));var m=i.layerPointToContainerPoint(f),x=B(this.options.autoPanPadding),A=B(this.options.autoPanPaddingTopLeft||x),R=B(this.options.autoPanPaddingBottomRight||x),D=i.getSize(),F=0,J=0;m.x+c+R.x>D.x&&(F=m.x+c-D.x+R.x),m.x-F-A.x<0&&(F=m.x-A.x),m.y+l+R.y>D.y&&(J=m.y+l-D.y+R.y),m.y-J-A.y<0&&(J=m.y-A.y),(F||J)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([F,J]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),E_=function(i,s){return new ro(i,s)};de.mergeOptions({closePopupOnClick:!0}),de.include({openPopup:function(i,s,l){return this._initOverlay(ro,i,s,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Mt.include({bindPopup:function(i,s){return this._popup=this._initOverlay(ro,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ti(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof Sn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var so=Kt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Kt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Kt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Kt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=me("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,l,c=this._map,f=this._container,m=c.latLngToContainerPoint(c.getCenter()),x=c.layerPointToContainerPoint(i),A=this.options.direction,R=f.offsetWidth,D=f.offsetHeight,F=B(this.options.offset),J=this._getAnchor();A==="top"?(s=R/2,l=D):A==="bottom"?(s=R/2,l=0):A==="center"?(s=R/2,l=D/2):A==="right"?(s=0,l=D/2):A==="left"?(s=R,l=D/2):x.x<m.x?(A="right",s=0,l=D/2):(A="left",s=R+(F.x+J.x)*2,l=D/2),i=i.subtract(B(s,l,!0)).add(F).add(J),Me(f,"leaflet-tooltip-right"),Me(f,"leaflet-tooltip-left"),Me(f,"leaflet-tooltip-top"),Me(f,"leaflet-tooltip-bottom"),ie(f,"leaflet-tooltip-"+A),je(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&xt(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),T_=function(i,s){return new so(i,s)};de.include({openTooltip:function(i,s,l){return this._initOverlay(so,i,s,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Mt.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(so,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(ee(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),ee(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var $h=Ci.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Hs(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=B(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function b_(i){return new $h(i)}Ci.Default=Rr;var jr=Mt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:G.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){C(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ce(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ei(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof j?i:new j(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,l=-i(-1/0,1/0),c=0,f=s.length,m;c<f;c++)m=s[c].style.zIndex,s[c]!==this._container&&m&&(l=i(l,+m));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!G.ielt9){xt(this._container,this.options.opacity);var i=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var m=Math.min(1,(i-f.loaded)/200);xt(f.el,m),m<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(ge(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=s-Math.abs(i-l),this._onUpdateLevel(l)):(Ce(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=me("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),_(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var i,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ce(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,l,c){var f=Math.floor(i/2),m=Math.floor(s/2),x=l-1,A=new j(+f,+m);A.z=+x;var R=this._tileCoordsToKey(A),D=this._tiles[R];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),x>c?this._retainParent(f,m,x,c):!1)},_retainChildren:function(i,s,l,c){for(var f=2*i;f<2*i+2;f++)for(var m=2*s;m<2*s+2;m++){var x=new j(f,m);x.z=l+1;var A=this._tileCoordsToKey(x),R=this._tiles[A];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);l+1<c&&this._retainChildren(f,m,l+1,c)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,s)},_setZoomTransform:function(i,s,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();G.any3d?Yn(i.el,f,c):je(i.el,f)},_resetGrid:function(){var i=this._map,s=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(i,this._tileZoom).floor(),m=s.getSize().divideBy(c*2);return new Q(f.subtract(m),f.add(m))},_update:function(i){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),m=f.getCenter(),x=[],A=this.options.keepBuffer,R=new Q(f.getBottomLeft().subtract([A,-A]),f.getTopRight().add([A,-A]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var F=this._tiles[D].coords;(F.z!==this._tileZoom||!R.contains(new j(F.x,F.y)))&&(this._tiles[D].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var J=f.min.y;J<=f.max.y;J++)for(var oe=f.min.x;oe<=f.max.x;oe++){var tt=new j(oe,J);if(tt.z=this._tileZoom,!!this._isValidTile(tt)){var Fe=this._tiles[this._tileCoordsToKey(tt)];Fe?Fe.current=!0:x.push(tt)}}if(x.sort(function(lt,Ai){return lt.distanceTo(m)-Ai.distanceTo(m)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Et=document.createDocumentFragment();for(oe=0;oe<x.length;oe++)this._addTile(x[oe],Et);this._level.el.appendChild(Et)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!s.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return he(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),m=s.unproject(c,i.z),x=s.unproject(f,i.z);return[m,x]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),l=new fe(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),l=new j(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(i){var s=this._tiles[i];s&&(Ce(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ie(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=_,i.onmousemove=_,G.ielt9&&this.options.opacity<1&&xt(i,this.options.opacity)},_addTile:function(i,s){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&se(u(this._tileReady,this,i,null,f)),je(f,l),this._tiles[c]={el:f,coords:i,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(xt(l.el,0),ge(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(ie(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),G.ielt9||!this._map._fadeAnimated?se(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new j(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new Q(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function C_(i){return new jr(i)}var Oi=jr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=C(this,s),s.detectRetina&&G.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var l=document.createElement("img");return ee(l,"load",u(this._tileOnLoad,this,s,l)),ee(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var s={r:G.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=l),s["-y"]=l}return y(this._url,o(s,this.options))},_tileOnLoad:function(i,s){G.ielt9?setTimeout(u(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),i(l,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=s-i),i+c},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=_,s.onerror=_,!s.complete)){s.src=T;var l=this._tiles[i].coords;Ce(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",T),jr.prototype._removeTile.call(this,i)},_tileReady:function(i,s,l){if(!(!this._map||l&&l.getAttribute("src")===T))return jr.prototype._tileReady.call(this,i,s,l)}});function Uh(i,s){return new Oi(i,s)}var Fh=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=C(this,s);var f=s.detectRetina&&G.retina?2:1,m=this.getTileSize();l.width=m.x*f,l.height=m.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Oi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),l=this._crs,c=re(l.project(s[0]),l.project(s[1])),f=c.min,m=c.max,x=(this._wmsVersion>=1.3&&this._crs===Rh?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),A=Oi.prototype.getTileUrl.call(this,i);return A+N(this.wmsParams,A,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function L_(i,s){return new Fh(i,s)}Oi.WMS=Fh,Uh.wms=L_;var an=Mt.extend({options:{padding:.1},initialize:function(i){C(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),m=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,s));G.any3d?Yn(this._container,m,l):je(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new Q(l,l.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wh=an.extend({options:{tolerance:0},getEvents:function(){var i=an.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");ee(i,"mousemove",this._onMouseMove,this),ee(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){ge(this._redrawRequest),delete this._ctx,Ce(this._container),ke(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var i=this._bounds,s=this._container,l=i.getSize(),c=G.retina?2:1;je(s,i.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",G.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||se(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var l,c,f,m,x=i._parts,A=x.length,R=this._ctx;if(A){for(R.beginPath(),l=0;l<A;l++){for(c=0,f=x[l].length;c<f;c++)m=x[l][c],R[c?"lineTo":"moveTo"](m.x,m.y);s&&R.closePath()}this._fillStroke(R,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,s){var l=s.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(Me(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(ie(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,l){this._map._fireDOMEvent(s,l||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function Zh(i){return G.canvas?new Wh(i):null}var Nr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),I_={_initContainer:function(){this._container=me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=Nr("shape");ie(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=Nr("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;Ce(s),i.removeInteractiveTarget(s),delete this._layers[d(i)]},_updateStyle:function(i){var s=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=i._stroke=Nr("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=w(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),i._stroke=null),c.fill?(l||(l=i._fill=Nr("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){Ei(i._container)},_bringToBack:function(i){Ti(i._container)}},oo=G.vml?Nr:Si,zr=an.extend({_initContainer:function(){this._container=oo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=oo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),ke(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var i=this._bounds,s=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),je(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=oo("path");i.options.className&&ie(s,i.options.className),i.options.interactive&&ie(s,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ce(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,l=i.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,$s(i._parts,s))},_updateCircle:function(i){var s=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,m)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){Ei(i._path)},_bringToBack:function(i){Ti(i._path)}});G.vml&&zr.include(I_);function Hh(i){return G.svg||G.vml?new zr(i):null}de.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&Zh(i)||Hh(i)}});var Vh=Li.extend({initialize:function(i,s){Li.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=he(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function O_(i,s){return new Vh(i,s)}zr.create=oo,zr.pointsToPath=$s,on.geometryToLayer=Xs,on.coordsToLatLng=cl,on.coordsToLatLngs=eo,on.latLngToCoords=hl,on.latLngsToCoords=to,on.getFeature=Ii,on.asFeature=no,de.mergeOptions({boxZoom:!0});var qh=Gt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cr(),qa(),this._startPoint=this._map.mouseEventToContainerPoint(i),ee(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=me("div","leaflet-zoom-box",this._container),ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new Q(this._point,this._startPoint),l=s.getSize();je(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Ce(this._box),Me(this._container,"leaflet-crosshair")),Lr(),Ga(),ke(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});de.addInitHook("addHandler","boxZoom",qh),de.mergeOptions({doubleClickZoom:!0});var Gh=Gt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(i.containerPoint,f)}});de.addInitHook("addHandler","doubleClickZoom",Gh),de.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Kh=Gt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new kn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Me(this._map._container,"leaflet-grab"),Me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=he(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%i+s-l,m=(c+s+l)%i-s-l,x=Math.abs(f+l)<Math.abs(m+l)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(i){var s=this._map,l=s.options,c=!l.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,x=l.easeLinearity,A=f.multiplyBy(x/m),R=A.distanceTo([0,0]),D=Math.min(l.inertiaMaxSpeed,R),F=A.multiplyBy(D/R),J=D/(l.inertiaDeceleration*x),oe=F.multiplyBy(-J/2).round();!oe.x&&!oe.y?s.fire("moveend"):(oe=s._limitOffset(oe,s.options.maxBounds),se(function(){s.panBy(oe,{duration:J,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});de.addInitHook("addHandler","dragging",Kh),de.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qh=Gt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),ee(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ke(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,l=i.scrollTop||s.scrollTop,c=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-i},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],i.shiftKey&&(c=B(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(B(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;ti(i)}}});de.addInitHook("addHandler","keyboard",Qh),de.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Jh=Gt.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=kh(i),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),ti(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=l?Math.ceil(f/l)*l:f,x=i._limitZoom(s+(this._delta>0?m:-m))-s;this._delta=0,this._startTime=null,x&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+x):i.setZoomAround(this._lastMousePos,s+x))}});de.addInitHook("addHandler","scrollWheelZoom",Jh);var A_=600;de.mergeOptions({tapHold:G.touchNative&&G.safari&&G.mobile,tapTolerance:15});var Yh=Gt.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new j(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",He),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),A_),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ke(document,"touchend",He),ke(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new j(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});de.addInitHook("addHandler","tapHold",Yh),de.mergeOptions({touchZoom:G.touch,bounceAtZoomLimits:!0});var Xh=Gt.extend({addHooks:function(){ie(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),He(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ge(this._animRequest);var x=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=se(x,this,!0),He(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ge(this._animRequest),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});de.addInitHook("addHandler","touchZoom",Xh),de.BoxZoom=qh,de.DoubleClickZoom=Gh,de.Drag=Kh,de.Keyboard=Qh,de.ScrollWheelZoom=Jh,de.TapHold=Yh,de.TouchZoom=Xh,n.Bounds=Q,n.Browser=G,n.CRS=Ke,n.Canvas=Wh,n.Circle=ul,n.CircleMarker=Ys,n.Class=_e,n.Control=At,n.DivIcon=$h,n.DivOverlay=Kt,n.DomEvent=Qg,n.DomUtil=Gg,n.Draggable=kn,n.Evented=Y,n.FeatureGroup=rn,n.GeoJSON=on,n.GridLayer=jr,n.Handler=Gt,n.Icon=Ci,n.ImageOverlay=io,n.LatLng=ae,n.LatLngBounds=fe,n.Layer=Mt,n.LayerGroup=bi,n.LineUtil=u_,n.Map=de,n.Marker=Js,n.Mixin=i_,n.Path=Sn,n.Point=j,n.PolyUtil=r_,n.Polygon=Li,n.Polyline=sn,n.Popup=ro,n.PosAnimation=Sh,n.Projection=c_,n.Rectangle=Vh,n.Renderer=an,n.SVG=zr,n.SVGOverlay=Bh,n.TileLayer=Oi,n.Tooltip=so,n.Transformation=Gn,n.Util=we,n.VideoOverlay=Dh,n.bind=u,n.bounds=re,n.canvas=Zh,n.circle=v_,n.circleMarker=__,n.control=Ar,n.divIcon=b_,n.extend=o,n.featureGroup=p_,n.geoJSON=zh,n.geoJson=k_,n.gridLayer=C_,n.icon=m_,n.imageOverlay=S_,n.latLng=X,n.latLngBounds=he,n.layerGroup=f_,n.map=Jg,n.marker=g_,n.point=B,n.polygon=w_,n.polyline=y_,n.popup=E_,n.rectangle=O_,n.setOptions=C,n.stamp=d,n.svg=Hh,n.svgOverlay=P_,n.tileLayer=Uh,n.tooltip=T_,n.transformation=Kn,n.version=r,n.videoOverlay=x_;var M_=window.L;n.noConflict=function(){return window.L=M_,this},window.L=n})})(Fu,Fu.exports);var dr=Fu.exports;function Jc(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Yc(t,e){return e==null?function(r,o){const a=O.useRef();return a.current||(a.current=t(r,o)),a}:function(r,o){const a=O.useRef();a.current||(a.current=t(r,o));const u=O.useRef(r),{instance:h}=a.current;return O.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,o]),a}}function T0(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Xm(t){return function(n){const r=Kc(),o=t(Qc(n,r),r);return Km(r.map,n.attribution),Ym(o.current,n.eventHandlers),T0(o.current,r),o}}function b0(t,e){const n=Yc(t,e),r=Xm(n);return S0(r)}function C0(t,e){const n=Yc(t),r=E0(n,e);return x0(r)}function L0(t,e){const n=Yc(t,e),r=Xm(n);return P0(r)}function I0(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function eg(){return Kc().map}function O0(t){const e=eg();return O.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function Wu(){return Wu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}function A0({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...g},_){const[v]=O.useState({className:o,id:a,style:h}),[b,E]=O.useState(null);O.useImperativeHandle(_,()=>(b==null?void 0:b.map)??null,[b]);const C=O.useCallback(S=>{if(S!==null&&b===null){const y=new dr.Map(S,g);n!=null&&p!=null?y.setView(n,p):t!=null&&y.fitBounds(t,e),d!=null&&y.whenReady(d),E(w0(y))}},[]);O.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const N=b?Ho.createElement(Jm,{value:b},r):u??null;return Ho.createElement("div",Wu({},v,{ref:C}),N)}const M0=O.forwardRef(A0),pf=b0(function({position:e,...n},r){const o=new dr.Marker(e,n);return Jc(o,k0(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),mf=C0(function(e,n){const r=new dr.Popup(e,n.overlayContainer);return Jc(r,n)},function(e,n,{position:r},o){O.useEffect(function(){const{instance:u}=e;function h(p){p.popup===u&&(u.update(),o(!0))}function d(p){p.popup===u&&o(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var g;n.map.off({popupopen:h,popupclose:d}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(u)}},[e,n,o,r])}),R0=L0(function({url:e,...n},r){const o=new dr.TileLayer(e,Qc(n,r));return Jc(o,r)},function(e,n,r){I0(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),zs=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:d,...p},g)=>O.createElement("svg",{ref:g,...j0,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${N0(t)}`,h].join(" "),...p},[...e.map(([_,v])=>O.createElement(_,v)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=zs("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=zs("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=zs("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=zs("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=zs("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),D0={primary:"ik-btn--primary",neutral:"ik-btn--neutral",danger:"ik-btn--danger",ghost:"ik-btn--ghost"},B0={sm:"ik-btn--sm",md:"ik-btn--md",lg:"ik-btn--lg"};function cs({variant:t="primary",size:e="md",leftIcon:n,rightIcon:r,className:o,children:a,...u}){const h=["ik-btn",D0[t],B0[e],o].filter(Boolean).join(" ");return P.jsxs("button",{className:h,...u,children:[n,a,r]})}function $0({id:t,label:e,required:n,helpText:r,error:o,children:a}){const u=Ho.cloneElement(a,{id:t,"aria-invalid":!!o||void 0,"aria-describedby":[r?`${t}-help`:null,o?`${t}-error`:null].filter(Boolean).join(" ")||void 0,className:["ik-field__control",a.props.className].filter(Boolean).join(" ")});return P.jsxs("div",{className:"ik-field",children:[P.jsxs("label",{className:"ik-field__label",htmlFor:t,children:[e,n?P.jsx("span",{className:"ik-field__required","aria-hidden":!0,children:" *"}):null]}),u,r?P.jsx("div",{id:`${t}-help`,className:"ik-field__help",children:r}):null,o?P.jsx("div",{id:`${t}-error`,className:"ik-field__error",children:o}):null]})}function tg({align:t="end",className:e,children:n,...r}){const o={justifyContent:t==="start"?"flex-start":t==="center"?"center":t==="end"?"flex-end":"space-between"};return P.jsx("footer",{className:["ik-safe-footer",e].filter(Boolean).join(" "),...r,children:P.jsx("div",{className:"ik-safe-footer__row",style:o,children:n})})}function U0({expectedPassword:t,onAuthenticated:e}){const[n,r]=O.useState(""),[o,a]=O.useState(null),u=O.useMemo(()=>typeof t=="string"&&t.length>0,[t]),h=()=>{if(a(null),!u){a("Site is currently unavailable. Please contact administrator.");return}if(n===t){e();return}a("Incorrect password")};return P.jsx("div",{className:"app",style:{display:"grid",placeItems:"center",minHeight:"100dvh",padding:16},children:P.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true","aria-labelledby":"password-title",style:{maxWidth:420,width:"100%",background:"white",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.15)",padding:20},children:[P.jsxs("div",{className:"modal-header",style:{marginBottom:12},children:[P.jsx("h2",{id:"password-title",style:{margin:0},children:"Enter Password"}),P.jsx("p",{style:{margin:"8px 0 0 0",color:"#666"},children:"This site is password protected."})]}),P.jsx("div",{className:"modal-body",children:P.jsx($0,{id:"password",label:"Password",error:o||void 0,children:P.jsx("input",{type:"password",value:n,onChange:d=>r(d.target.value),onKeyDown:d=>{d.key==="Enter"&&h()},placeholder:"Enter password",inputMode:"text"})})}),P.jsx(tg,{children:P.jsx(cs,{onClick:h,variant:"primary",children:"Unlock"})})]})})}function F0({reason:t}){return P.jsx("div",{className:"app",style:{display:"grid",placeItems:"center",minHeight:"100dvh",padding:16},children:P.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true","aria-labelledby":"site-locked-title",style:{maxWidth:420,width:"100%",background:"white",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.15)",padding:20},children:[P.jsxs("div",{className:"modal-header",style:{marginBottom:12},children:[P.jsx("h2",{id:"site-locked-title",style:{margin:0,color:"#dc2626"},children:"🚫 Site Unavailable"}),P.jsx("p",{style:{margin:"8px 0 0 0",color:"#666"},children:"Required secrets are not configured."})]}),P.jsx("div",{className:"modal-body",children:P.jsx("div",{style:{padding:"16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#991b1b"},children:P.jsxs("p",{style:{margin:0},children:["The site is locked until Cloudflare Worker secrets are set.",t?` (${t})`:""]})})}),P.jsx("div",{className:"modal-footer",style:{display:"flex",justifyContent:"center",marginTop:12},children:P.jsx(cs,{onClick:()=>window.location.reload(),variant:"primary",children:"Refresh"})})]})})}function W0(){const[t,e]=O.useState({status:"checking"});return O.useEffect(()=>{let n=!1;return(async()=>{try{if(/\.github\.io$/.test(window.location.host)){n||e({status:"ok"});return}let a={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_URL;if(!a)try{const d=await fetch("/itinerary-killer/runtime-config.json",{cache:"no-store"});if(d.ok){const p=await d.json();a=(p==null?void 0:p.VITE_GOOGLE_PROXY_URL)||a}}catch{}if(!a){n||e({status:"ok"});return}const u=new URL(a);u.pathname="/verify";let h=!1;try{const d=await fetch(u.toString(),{method:"GET",mode:"cors"}),p=d.headers.get("X-Password-Secret"),g=await d.json().catch(()=>({}));h=p==="present"||(g==null?void 0:g.sitePassword)===!0}catch{h=!0}if(n)return;e(h?{status:"ok"}:{status:"locked",reason:"Required secrets missing"})}catch{n||e({status:"ok"})}})(),()=>{n=!0}},[]),t}const Z0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Vn(()=>Promise.resolve().then(()=>_r),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Xc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class H0 extends Xc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yf extends Xc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wf extends Xc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zu||(Zu={}));var V0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class q0{constructor(e,{headers:n={},customFetch:r,region:o=Zu.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Z0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return V0(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:u}=n;let h={},{region:d}=n;d||(d=this.region);const p=new URL(`${this.url}/${e}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const _=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:g}).catch(C=>{throw new H0(C)}),v=_.headers.get("x-relay-error");if(v&&v==="true")throw new yf(_);if(!_.ok)throw new wf(_);let b=((r=_.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield _.json():b==="application/octet-stream"?E=yield _.blob():b==="text/event-stream"?E=_:b==="multipart/form-data"?E=yield _.formData():E=yield _.text(),{data:E,error:null,response:_}}catch(o){return{data:null,error:o,response:o instanceof wf||o instanceof yf?o.context:void 0}}})}}var ct={},eh={},Ra={},Ds={},ja={},Na={},G0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fr=G0();const K0=fr.fetch,ng=fr.fetch.bind(fr),ig=fr.Headers,Q0=fr.Request,J0=fr.Response,_r=Object.freeze(Object.defineProperty({__proto__:null,Headers:ig,Request:Q0,Response:J0,default:ng,fetch:K0},Symbol.toStringTag,{value:"Module"})),Y0=H_(_r);var za={};Object.defineProperty(za,"__esModule",{value:!0});let X0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};za.default=X0;var rg=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Na,"__esModule",{value:!0});const ew=rg(Y0),tw=rg(za);let nw=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ew.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,h,d,p;let g=null,_=null,v=null,b=a.status,E=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?_=y:_=JSON.parse(y))}const N=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=a.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");N&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(g={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,v=null,b=406,E="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const N=await a.text();try{g=JSON.parse(N),Array.isArray(g)&&a.status===404&&(_=[],g=null,b=200,E="OK")}catch{a.status===404&&N===""?(b=204,E="No Content"):g={message:N}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,b=200,E="OK"),g&&this.shouldThrowOnError)throw new tw.default(g)}return{error:g,data:_,count:v,status:b,statusText:E}});return this.shouldThrowOnError||(o=o.catch(a=>{var u,h,d;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Na.default=nw;var iw=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ja,"__esModule",{value:!0});const rw=iw(Na);let sw=class extends rw.default{select(e){let n=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:u="text"}={}){var h;const d=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ja.default=sw;var ow=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ds,"__esModule",{value:!0});const aw=ow(ja);let lw=class extends aw.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ds.default=lw;var uw=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ra,"__esModule",{value:!0});const qr=uw(Ds);let cw=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),r&&this.headers.append("Prefer",`count=${r}`),new qr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new qr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new qr.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:n}={}){var r;const o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new qr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new qr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ra.default=cw;var sg=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eh,"__esModule",{value:!0});const hw=sg(Ra),dw=sg(Ds);let fw=class og{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){const n=new URL(`${this.url}/${e}`);return new hw.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new og(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:a}={}){var u;let h;const d=new URL(`${this.url}/rpc/${e}`);let p;r||o?(h=r?"HEAD":"GET",Object.entries(n).filter(([_,v])=>v!==void 0).map(([_,v])=>[_,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([_,v])=>{d.searchParams.append(_,v)})):(h="POST",p=n);const g=new Headers(this.headers);return a&&g.set("Prefer",`count=${a}`),new dw.default({method:h,url:d,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};eh.default=fw;var vr=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ct,"__esModule",{value:!0});ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const ag=vr(eh);ct.PostgrestClient=ag.default;const lg=vr(Ra);ct.PostgrestQueryBuilder=lg.default;const ug=vr(Ds);ct.PostgrestFilterBuilder=ug.default;const cg=vr(ja);ct.PostgrestTransformBuilder=cg.default;const hg=vr(Na);ct.PostgrestBuilder=hg.default;const dg=vr(za);ct.PostgrestError=dg.default;var pw=ct.default={PostgrestClient:ag.default,PostgrestQueryBuilder:lg.default,PostgrestFilterBuilder:ug.default,PostgrestTransformBuilder:cg.default,PostgrestBuilder:hg.default,PostgrestError:dg.default};const{PostgrestClient:mw,PostgrestQueryBuilder:ES,PostgrestFilterBuilder:TS,PostgrestTransformBuilder:bS,PostgrestBuilder:CS,PostgrestError:LS}=pw;class gw{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _w="2.15.4",vw=`realtime-js/${_w}`,yw="1.0.0",Hu=1e4,ww=1e3,kw=100;var hs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hs||(hs={}));var De;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(De||(De={}));var Bt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Bt||(Bt={}));var Vu;(function(t){t.websocket="websocket"})(Vu||(Vu={}));var li;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(li||(li={}));class Sw{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+o));u=u+o;const d=r.decode(e.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:d,payload:p}}}class fg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const kf=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,u)=>(a[u]=xw(u,t,e,o),a),{})},xw=(t,e,n,r)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!r.includes(a)?pg(a,u):qu(u)},pg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return bw(e,n)}switch(t){case Se.bool:return Pw(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Ew(e);case Se.json:case Se.jsonb:return Tw(e);case Se.timestamp:return Cw(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return qu(e);default:return qu(e)}},qu=t=>t,Pw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ew=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bw=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>pg(e,h))}return t},Cw=t=>typeof t=="string"?t.replace(" ","T"):t,mg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class $l{constructor(e,n,r={},o=Hu){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sf||(Sf={}));class ds{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ds.syncState(this.state,o,a,u),this.pendingDiffs.forEach(d=>{this.state=ds.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ds.syncDiff(this.state,o,a,u),h())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const a=this.cloneDeep(e),u=this.transformState(n),h={},d={};return this.map(a,(p,g)=>{u[p]||(d[p]=g)}),this.map(u,(p,g)=>{const _=a[p];if(_){const v=g.map(N=>N.presence_ref),b=_.map(N=>N.presence_ref),E=g.filter(N=>b.indexOf(N.presence_ref)<0),C=_.filter(N=>v.indexOf(N.presence_ref)<0);E.length>0&&(h[p]=E),C.length>0&&(d[p]=C)}else h[p]=g}),this.syncDiff(a,{joins:h,leaves:d},r,o)}static syncDiff(e,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(h,d)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(d),g.length>0){const _=e[h].map(b=>b.presence_ref),v=g.filter(b=>_.indexOf(b.presence_ref)<0);e[h].unshift(...v)}r(h,g,d)}),this.map(u,(h,d)=>{let p=e[h];if(!p)return;const g=d.map(_=>_.presence_ref);p=p.filter(_=>g.indexOf(_.presence_ref)<0),e[h]=p,o(h,p,d),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xf||(xf={}));var fs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(fs||(fs={}));var cn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(cn||(cn={}));class th{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $l(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ds(this),this.broadcastEndpointURL=mg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[fs.PRESENCE]&&this.bindings[fs.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,_={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(cn.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(cn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var E;if(this.socket.setAuth(),b===void 0){e==null||e(cn.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,N=(E=C==null?void 0:C.length)!==null&&E!==void 0?E:0,S=[];for(let y=0;y<N;y++){const w=C[y],{filter:{event:k,schema:T,table:I,filter:M}}=w,z=b&&b[y];if(z&&z.event===k&&z.schema===T&&z.table===I&&z.filter===M)S.push(Object.assign(Object.assign({},w),{id:z.id}));else{this.unsubscribe(),this.state=De.errored,e==null||e(cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(cn.SUBSCRIBED);return}}).receive("error",b=>{this.state=De.errored,e==null||e(cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===De.joined&&e===fs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,d;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new $l(this,Bt.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new $l(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>kw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,a;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:p,join:g}=Bt;if(r&&[h,d,p,g].indexOf(u)>=0&&r!==this._joinRef())return;let v=this._onMessage(u,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var E,C,N;return((E=b.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(C=b.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(b=>b.callback(v,r)):(a=this.bindings[u])===null||a===void 0||a.filter(b=>{var E,C,N,S,y,w;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const k=b.id,T=(E=b.filter)===null||E===void 0?void 0:E.event;return k&&((C=n.ids)===null||C===void 0?void 0:C.includes(k))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const k=(y=(S=b==null?void 0:b.filter)===null||S===void 0?void 0:S.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof v=="object"&&"ids"in v){const E=v.data,{schema:C,table:N,commit_timestamp:S,type:y,errors:w}=E;v=Object.assign(Object.assign({},{schema:C,table:N,commit_timestamp:S,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(E))}b.callback(v,r)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&th.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bt.close,{},e)}_onError(e){this._on(Bt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=kf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=kf(e.columns,e.old_record)),n}}const Ul=()=>{},bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lw=[1e3,2e3,5e3,1e4],Iw=1e4,Ow=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Aw{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hu,this.transport=null,this.heartbeatIntervalMs=bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ul,this.ref=0,this.reconnectTimer=null,this.logger=Ul,this.conn=null,this.sendBuffer=[],this.serializer=new Sw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...u)=>Vn(()=>Promise.resolve().then(()=>_r),void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Vu.websocket}`,this.httpEndpoint=mg(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yw}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hs.connecting:return li.Connecting;case hs.open:return li.Open;case hs.closing:return li.Closing;default:return li.Closed}}isConnected(){return this.connectionState()===li.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new th(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:o,ref:a}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ww,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:u}=n,h=u?`(${u})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${o} ${h}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ow],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:vw};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Bt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new fg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,a,u,h,d,p,g;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Hu,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:bo.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Ul,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:_=>Lw[_-1]||Iw,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(_,v)=>v(JSON.stringify(_)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class nh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Mw extends nh{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gu extends nh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Rw=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const gg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Vn(()=>Promise.resolve().then(()=>_r),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},jw=()=>Rw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vn(()=>Promise.resolve().then(()=>_r),void 0)).Response:Response}),Ku=t=>{if(Array.isArray(t))return t.map(n=>Ku(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Ku(r)}),e},Nw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ki=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const Fl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zw=(t,e,n)=>ki(void 0,void 0,void 0,function*(){const r=yield jw();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new Mw(Fl(o),a,u))}).catch(o=>{e(new Gu(Fl(o),o))}):e(new Gu(Fl(t),t))}),Dw=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(Nw(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Bs(t,e,n,r,o,a){return ki(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,Dw(e,r,o,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>zw(d,h,r))})})}function ga(t,e,n,r){return ki(this,void 0,void 0,function*(){return Bs(t,"GET",e,n,r)})}function Yt(t,e,n,r,o){return ki(this,void 0,void 0,function*(){return Bs(t,"POST",e,r,o,n)})}function Qu(t,e,n,r,o){return ki(this,void 0,void 0,function*(){return Bs(t,"PUT",e,r,o,n)})}function Bw(t,e,n,r){return ki(this,void 0,void 0,function*(){return Bs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _g(t,e,n,r,o){return ki(this,void 0,void 0,function*(){return Bs(t,"DELETE",e,r,o,n)})}var nt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const $w={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uw{constructor(e,n={},r,o){this.url=e,this.headers=n,this.bucketId=r,this.fetch=gg(o)}uploadOrUpdate(e,n,r,o){return nt(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Pf),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),_=yield(e=="PUT"?Qu:Yt)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}upload(e,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return nt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let d;const p=Object.assign({upsert:Pf.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const _=yield Qu(this.fetch,h.toString(),d,{headers:g});return{data:{path:a,fullPath:_.Key},error:null}}catch(d){if(Be(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return nt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new nh("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}update(e,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return nt(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}copy(e,n,r){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return nt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Yt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return nt(this,void 0,void 0,function*(){try{const o=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}download(e,n){return nt(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield ga(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Be(h))return{data:null,error:h};throw h}})}info(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ga(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ku(r),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}exists(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Bw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Be(r)&&r instanceof Gu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return nt(this,void 0,void 0,function*(){try{return{data:yield _g(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}list(e,n,r){return nt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},$w),n),{prefix:e||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}listV2(e,n){return nt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Yt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Fw="2.11.0",Ww={"X-Client-Info":`storage-js/${Fw}`};var Ri=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class Zw{constructor(e,n={},r,o){const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Ww),n),this.fetch=gg(r)}listBuckets(){return Ri(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Be(e))return{data:null,error:e};throw e}})}getBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ri(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ri(this,void 0,void 0,function*(){try{return{data:yield Qu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield _g(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}}class Hw extends Zw{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new Uw(this.url,this.headers,e,this.fetch)}}const Vw="2.56.1";let es="";typeof Deno<"u"?es="deno":typeof document<"u"?es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?es="react-native":es="node";const qw={"X-Client-Info":`supabase-js-${es}/${Vw}`},Gw={headers:qw},Kw={schema:"public"},Qw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jw={};var Yw=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const Xw=t=>{let e;return t?e=t:typeof fetch>"u"?e=ng:e=fetch,(...n)=>e(...n)},ek=()=>typeof Headers>"u"?ig:Headers,tk=(t,e,n)=>{const r=Xw(n),o=ek();return(a,u)=>Yw(void 0,void 0,void 0,function*(){var h;const d=(h=yield e())!==null&&h!==void 0?h:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var nk=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};function ik(t){return t.endsWith("/")?t:t+"/"}function rk(t,e){var n,r;const{db:o,auth:a,realtime:u,global:h}=t,{db:d,auth:p,realtime:g,global:_}=e,v={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>nk(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const vg="2.71.1",Bi=30*1e3,Ju=3,Wl=Ju*Bi,sk="http://localhost:9999",ok="supabase.auth.token",ak={"X-Client-Info":`gotrue-js/${vg}`},Yu="X-Supabase-Api-Version",yg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uk=10*60*1e3;class ih extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ck extends ih{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function hk(t){return te(t)&&t.name==="AuthApiError"}class wg extends ih{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class qn extends ih{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class En extends qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dk(t){return te(t)&&t.name==="AuthSessionMissingError"}class Co extends qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lo extends qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Io extends qn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fk(t){return te(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ef extends qn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xu extends qn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Zl(t){return te(t)&&t.name==="AuthRetryableFetchError"}class Tf extends qn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ec extends qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bf=` 	
\r=`.split(""),pk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bf.length;e+=1)t[bf[e].charCodeAt(0)]=-2;for(let e=0;e<_a.length;e+=1)t[_a[e].charCodeAt(0)]=e;return t})();function Cf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(_a[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(_a[r]),e.queuedBits-=6}}function kg(t,e,n){const r=pk[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lf(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{_k(u,r,n)};for(let u=0;u<t.length;u+=1)kg(t.charCodeAt(u),o,a);return e.join("")}function mk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gk(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}mk(r,e)}}function _k(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function vk(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)kg(t.charCodeAt(o),n,r);return new Uint8Array(e)}function yk(t){const e=[];return gk(t,n=>e.push(n)),new Uint8Array(e)}function wk(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Cf(o,n,r)),Cf(null,n,r),e.join("")}function kk(t){return Math.round(Date.now()/1e3)+t}function Sk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Nt=()=>typeof window<"u"&&typeof document<"u",ii={tested:!1,writable:!1},Sg=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ii.tested)return ii.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ii.tested=!0,ii.writable=!0}catch{ii.tested=!0,ii.writable=!1}return ii.writable};function xk(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const xg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Vn(()=>Promise.resolve().then(()=>_r),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Pk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$i=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ri=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pn=async(t,e)=>{await t.removeItem(e)};class Da{constructor(){this.promise=new Da.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Da.promiseConstructor=Promise;function Hl(t){const e=t.split(".");if(e.length!==3)throw new ec("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!lk.test(e[r]))throw new ec("JWT not in base64url format");return{header:JSON.parse(Lf(e[0])),payload:JSON.parse(Lf(e[1])),signature:vk(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ek(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Tk(t,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function bk(t){return("0"+t.toString(16)).substr(-2)}function Ck(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,bk).join("")}async function Lk(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function Ik(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Lk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ji(t,e,n=!1){const r=Ck();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await $i(t,`${e}-code-verifier`,o);const a=await Ik(r);return[a,r===a?"plain":"s256"]}const Ok=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ak(t){const e=t.headers.get(Yu);if(!e||!e.match(Ok))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Mk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Rk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ni(t){if(!jk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function If(t){return JSON.parse(JSON.stringify(t))}var Nk=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const ai=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zk=[502,503,504];async function Of(t){var e;if(!Pk(t))throw new Xu(ai(t),0);if(zk.includes(t.status))throw new Xu(ai(t),t.status);let n;try{n=await t.json()}catch(a){throw new wg(ai(a),a)}let r;const o=Ak(t);if(o&&o.getTime()>=yg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Tf(ai(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new En}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Tf(ai(n),t.status,n.weak_password.reasons);throw new ck(ai(n),t.status||500,r)}const Dk=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function le(t,e,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[Yu]||(a[Yu]=yg["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await Bk(t,e,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function Bk(t,e,n,r,o,a){const u=Dk(e,r,o,a);let h;try{h=await t(n,Object.assign({},u))}catch(d){throw console.error(d),new Xu(ai(d),0)}if(h.ok||await Of(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(d){await Of(d)}}function ln(t){var e;let n=null;Wk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=kk(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Af(t){const e=ln(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function In(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $k(t){return{data:t,error:null}}function Uk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=t,u=Nk(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function Fk(t){return t}function Wk(t){return t.access_token&&t.refresh_token&&t.expires_in}const ql=["global","local","others"];var Zk=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};class Hk{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ql[0]){if(ql.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ql.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:In})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Zk(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Uk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:In})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,a,u,h,d;try{const p={nextPage:null,lastPage:0,total:0},g=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Fk});if(g.error)throw g.error;const _=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(d=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(E=>{const C=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);p[`${N}Page`]=C}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(te(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ni(e);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:In})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ni(e);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:In})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ni(e);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:In})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ni(e.userId);try{const{data:n,error:r}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ni(e.userId),Ni(e.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}function Mf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Vk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zi={debug:!!(globalThis&&Sg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qk extends Pg{}async function Gk(t,e,n){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Vk();const Kk={url:sk,storageKey:ok,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ak,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rf(t,e,n){return await n()}const Di={};class Os{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Os.nextInstanceID,Os.nextInstanceID+=1,this.instanceID>0&&Nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Kk),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Hk({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=xg(o.fetch),this.lock=o.lock||Rf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Nt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Gk:this.lock=Rf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Sg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Mf(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Di[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Di[this.storageKey]=Object.assign(Object.assign({},Di[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Di[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Di[this.storageKey]=Object.assign(Object.assign({},Di[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=xk(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Nt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),fk(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return te(n)?{error:n}:{error:new wg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const a=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:ln}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,o;try{let a;if("email"in e){const{email:g,password:_,options:v}=e;let b=null,E=null;this.flowType==="pkce"&&([b,E]=await ji(this.storage,this.storageKey)),a=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:_,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:E},xform:ln})}else if("phone"in e){const{phone:g,password:_,options:v}=e;a=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:ln})}else throw new Lo("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:h}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Af})}else if("phone"in e){const{phone:a,password:u,options:h}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Af})}else throw new Lo("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Co}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,o,a,u,h,d,p,g,_,v,b;let E,C;if("message"in e)E=e.message,C=e.signature;else{const{chain:N,wallet:S,statement:y,options:w}=e;let k;if(Nt())if(typeof S=="object")k=S;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))k=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=S}const T=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const I=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),y?{statement:y}:null));let M;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")M=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)M=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)E=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),C=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${T.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(o=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((h=w==null?void 0:w.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((p=w==null?void 0:w.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((_=(g=w==null?void 0:w.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...w.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const I=await k.signMessage(new TextEncoder().encode(E),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=I}}try{const{data:N,error:S}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:wk(C)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ln});if(S)throw S;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Co}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:S})}catch(N){if(te(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const n=await ri(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ln});if(await Pn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Co}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(te(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=e,h=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ln}),{data:d,error:p}=h;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Co}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,o,a,u;try{if("email"in e){const{email:h,options:d}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ji(this.storage,this.storageKey));const{error:_}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:d}=e,{data:p,error:g}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new Lo("You must provide either an email or phone number.")}catch(h){if(te(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:ln});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,p=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(o){if(te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,r,o;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await ji(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:$k})}catch(a){if(te(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new En;const{error:o}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:u}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:u,error:h}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Lo("You must provide either an email or phone number and a type")}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Wl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await ri(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Vl()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,g))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:In}):await this._useSession(async n=>{var r,o,a;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:In})})}catch(n){if(te(n))return dk(n)&&(await this._removeSession(),await Pn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new En;const u=o.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await ji(this.storage,this.storageKey));const{data:p,error:g}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:In});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new En;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:u}=Hl(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{session:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(te(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new En;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Nt())throw new Io("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Io(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ef("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Io("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ef("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:h,expires_at:d,token_type:p}=e;if(!a||!h||!u||!p)throw new Io("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(h);let v=g+_;d&&(v=parseInt(d));const b=v-g;b*1e3<=Bi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${_}s`);const E=v-_;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,v,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,v,g);const{data:C,error:N}=await this._getUser(a);if(N)throw N;const S={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:_,expires_at:v,refresh_token:u,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ri(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(hk(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Pn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Sk(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await ji(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(te(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,h,d,p,g;const{data:_,error:v}=a;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return Nt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(te(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Tk(async o=>(o>0&&await Ek(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ln})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Zl(a)&&Date.now()+u-r<Bi})}catch(r){if(this._debug(n,"error",r),te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await ri(this.storage,this.storageKey);if(o&&this.userStorage){let u=await ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await $i(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Vl()}else if(o&&!o.user&&!o.user){const u=await ri(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await Pn(this.storage,this.storageKey+"-user"),await $i(this.storage,this.storageKey,o)):o.user=Vl()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Wl;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Wl}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Zl(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Da;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new En;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),te(a)){const u={session:null,error:a};return Zl(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){a.push(d)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $i(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=If(o);await $i(this.storage,this.storageKey,a)}else{const o=If(n);await $i(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Pn(this.storage,this.storageKey),await Pn(this.storage,this.storageKey+"-code-verifier"),await Pn(this.storage,this.storageKey+"-user"),this.userStorage&&await Pn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Bi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Bi}ms, refresh threshold is ${Ju} ticks`),o<=Ju&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await ji(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:p}=await le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:h}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Hl(o.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+uk>o)return r;const{data:a,error:u}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:E}=await this.getSession();if(E||!b.session)return{data:null,error:E};r=b.session.access_token}const{header:o,payload:a,signature:u,raw:{header:h,payload:d}}=Hl(r);n!=null&&n.allowExpired||Mk(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:o,signature:u},error:null}}const g=Rk(o.alg),_=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,_,u,yk(`${h}.${d}`)))throw new ec("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}}Os.nextInstanceID=0;const Qk=Os;class Jk extends Qk{constructor(e){super(e)}}var Yk=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(_){u(_)}}function d(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class Xk{constructor(e,n,r){var o,a,u;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=ik(e),d=new URL(h);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:Kw,realtime:Jw,auth:Object.assign(Object.assign({},Qw),{storageKey:p}),global:Gw},_=rk(r??{},g);this.storageKey=(o=_.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=_.global.headers)!==null&&a!==void 0?a:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=_.auth)!==null&&u!==void 0?u:{},this.headers,_.global.fetch),this.fetch=tk(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new mw(new URL("rest/v1",d).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new Hw(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new q0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Yk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:a,flowType:u,lock:h,debug:d},p,g){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jk({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,flowType:u,lock:h,debug:d,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Aw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eS=(t,e,n)=>new Xk(t,e,n);function tS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}tS()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Oo=null;async function Eg(){try{const e=await fetch("/itinerary-killer/"+"runtime-config.json",{cache:"no-store"});return e.ok?await e.json():null}catch{return null}}async function nS(){try{let t={}.VITE_GOOGLE_PROXY_URL;if(!t){const o=await Eg();o!=null&&o.VITE_GOOGLE_PROXY_URL&&(t=o.VITE_GOOGLE_PROXY_URL)}if(!t)return null;const e=new URL(t);e.pathname="/keys";const n=await fetch(e.toString(),{method:"GET",mode:"cors"});if(!n.ok)return null;const r=await n.json().catch(()=>({}));return{url:r==null?void 0:r.SUPABASE_URL,key:r==null?void 0:r.SUPABASE_ANON_KEY}}catch{return null}}async function Gr(){if(Oo)return Oo;let t={}.VITE_SUPABASE_URL,e={}.VITE_SUPABASE_ANON_KEY;if(!t||!e){const n=await Eg();n&&(t=t||n.VITE_SUPABASE_URL,e=e||n.VITE_SUPABASE_ANON_KEY)}if(!t||!e){const n=await nS();n&&(t=t||n.url,e=e||n.key)}if(!t||!e)throw new Error("Supabase credentials not configured");return Oo=eS(t,e),Oo}const iS=t=>({id:t.id,title:t.title,description:t.description||"",category:t.category||"Other",priority:t.priority||"low",cost:Number(t.cost||0),estimatedDuration:Number(t.estimated_duration||0),address:t.address||"",location:{lat:Number(t.location_lat||0),lng:Number(t.location_lng||0)},notes:"",isOpen:!!t.is_open,createdAt:t.created_at?new Date(t.created_at):new Date,completed:!!t.completed}),Gl=t=>{if(!t.id||!t.title||!t.description)throw new Error(`Invalid item data: missing required fields - id: ${!!t.id}, title: ${!!t.title}, description: ${!!t.description}`);if(!t.location||typeof t.location.lat!="number"||typeof t.location.lng!="number")throw new Error(`Invalid item data: invalid location - ${JSON.stringify(t.location)}`);return{id:t.id,title:t.title,description:t.description,category:t.category,priority:t.priority,cost:t.cost,estimated_duration:t.estimatedDuration,address:t.address,location_lat:t.location.lat,location_lng:t.location.lng,created_at:t.createdAt.toISOString(),completed:t.completed,is_open:t.isOpen}};function rS(){const[t,e]=O.useState([]),[n,r]=O.useState(!1);return O.useEffect(()=>{(async()=>{r(!0);try{const v=await Gr(),{data:b,error:E}=await v.from("items").select("*").order("created_at",{ascending:!1});if(E)throw E;e((b||[]).map(iS))}catch(v){console.error("Supabase fetch failed:",v)}finally{r(!1)}})()},[]),{items:t,loading:n,addItem:async _=>{r(!0);try{const v=await Gr(),{error:b}=await v.from("items").insert([Gl(_)]);if(b)throw b;e(E=>[_,...E])}catch(v){throw console.error("Supabase insert failed:",v),v}finally{r(!1)}},addItems:async _=>{r(!0);try{const v=await Gr(),b=_.map(Gl);console.log("Attempting to insert items:",b.map(C=>({id:C.id,title:C.title,category:C.category,priority:C.priority})));const{error:E}=await v.from("items").insert(b);if(E)throw console.error("Supabase bulk insert error details:",E),E;console.log(`Successfully inserted ${_.length} items`),e(C=>[..._,...C])}catch(v){throw console.error("Supabase bulk insert failed:",v),v}finally{r(!1)}},updateItem:async(_,v)=>{r(!0);try{const b=t.find(S=>S.id===_);if(!b)return;const E={...b,...v},C=await Gr(),{error:N}=await C.from("items").update(Gl(E)).eq("id",_);if(N)throw N;e(S=>S.map(y=>y.id===_?E:y))}catch(b){throw console.error("Supabase update failed:",b),b}finally{r(!1)}},deleteItem:async _=>{r(!0);try{const v=await Gr(),{error:b}=await v.from("items").delete().eq("id",_);if(b)throw b;e(E=>E.filter(C=>C.id!==_))}catch(v){throw console.error("Supabase delete failed:",v),v}finally{r(!1)}},getItemsByCategory:_=>t.filter(v=>v.category===_),getItemsByPriority:_=>t.filter(v=>v.priority===_),getNearbyItems:(_,v,b=10)=>t.filter(E=>Math.sqrt(Math.pow(E.location.lat-_,2)+Math.pow(E.location.lng-v,2))*69<=b)}}function sS(t,e,n,r){const a=(n-t)*Math.PI/180,u=(r-e)*Math.PI/180,h=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2);return 3959*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))}async function IS(t,e){var v;const n={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_BASE||"",o=`${n}?endpoint=${encodeURIComponent("/maps/api/place/findplacefromtext/json")}&input=${encodeURIComponent(t+" "+e)}&inputtype=textquery&fields=place_id`,u=await(await fetch(o)).json();if(!u.candidates||!((v=u.candidates[0])!=null&&v.place_id))throw new Error("No place found");const h=u.candidates[0].place_id,p=`${n}?endpoint=${encodeURIComponent("/maps/api/place/details/json")}&place_id=${encodeURIComponent(h)}&fields=${encodeURIComponent("name,opening_hours,formatted_address,geometry/location,types,editorial_summary,rating,user_ratings_total,price_level,business_status")}`,_=await(await fetch(p)).json();if(_.status!=="OK")throw new Error("Failed to fetch place details");return _.result}async function OS(t){const r=`${{BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_BASE||""}?endpoint=${encodeURIComponent("/maps/api/place/autocomplete/json")}&input=${encodeURIComponent(t)}`,a=await(await fetch(r)).json();if(a.status!=="OK"&&a.status!=="ZERO_RESULTS")throw new Error("Autocomplete failed");return(a.predictions||[]).map(u=>({description:u.description,place_id:u.place_id}))}async function AS(t){const e={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_GOOGLE_PROXY_BASE||"",n="/maps/api/place/details/json",r=["name","formatted_address","geometry/location","opening_hours","types","editorial_summary","rating","user_ratings_total","price_level","website","formatted_phone_number","international_phone_number","url","photos","reviews","business_status","wheelchair_accessible_entrance","delivery","dine_in","takeout","reservable","serves_beer","serves_wine","outdoor_seating"].join(","),o=`${e}?endpoint=${encodeURIComponent(n)}&place_id=${encodeURIComponent(t)}&fields=${encodeURIComponent(r)}`,u=await(await fetch(o)).json();if(u.status!=="OK")throw new Error("Failed to fetch place details");return u.result}const jt=({width:t="100%",height:e="20px",className:n="",animated:r=!0})=>P.jsx("div",{className:`skeleton ${r?"skeleton-animated":""} ${n}`,style:{width:typeof t=="number"?`${t}px`:t,height:typeof e=="number"?`${e}px`:e}}),oS=({loadingProgress:t})=>P.jsxs("div",{className:"app-skeleton",children:[P.jsxs("div",{className:"skeleton-header",children:[P.jsx(jt,{width:200,height:32,className:"skeleton-title"}),P.jsx(jt,{width:300,height:16,className:"skeleton-subtitle"})]}),P.jsxs("div",{className:"skeleton-progress",children:[P.jsx("div",{className:"progress-bar",children:P.jsx("div",{className:"progress-fill",style:{width:`${t}%`}})}),P.jsxs("div",{className:"progress-text",children:["Loading... ",t,"%"]})]}),P.jsxs("div",{className:"skeleton-sidebar",children:[P.jsxs("div",{className:"skeleton-location-status",children:[P.jsx(jt,{width:120,height:16}),P.jsx(jt,{width:80,height:12})]}),P.jsxs("div",{className:"skeleton-filters",children:[P.jsx(jt,{width:"100%",height:40}),P.jsx(jt,{width:"100%",height:40})]}),P.jsx("div",{className:"skeleton-items",children:[1,2,3,4].map(e=>P.jsxs("div",{className:"skeleton-item",children:[P.jsx(jt,{width:"70%",height:20}),P.jsx(jt,{width:"100%",height:16}),P.jsx(jt,{width:"60%",height:14})]},e))})]}),P.jsxs("div",{className:"skeleton-map",children:[P.jsxs("div",{className:"skeleton-map-placeholder",children:[P.jsx("div",{className:"map-loading-icon",children:"🗺️"}),P.jsx("div",{className:"map-loading-text",children:"Loading Map..."})]}),P.jsxs("div",{className:"skeleton-floating-buttons",children:[P.jsx(jt,{width:56,height:56,className:"skeleton-button"}),P.jsx(jt,{width:72,height:72,className:"skeleton-button"})]})]})]}),aS=()=>{const t=O.useRef(performance.now()),e=O.useRef({}),n=O.useRef({timeToFirstByte:0,timeToInteractive:0,totalLoadTime:0,componentLoadTimes:{}}),r=a=>{e.current[a]=performance.now()},o=a=>{const u=e.current[a];if(u){const h=performance.now()-u;n.current.componentLoadTimes[a]=h,console.log(`📊 ${a} loaded in ${h.toFixed(2)}ms`)}};return O.useEffect(()=>{const a=window.__IK_ADV_METRICS_ACTIVE===!0;!a&&"PerformanceObserver"in window&&new PerformanceObserver(p=>{var g;for(const _ of p.getEntries())switch(_.entryType){case"largest-contentful-paint":{const v=_.startTime;console.log("🎯 LCP:",v.toFixed(2),"ms");break}case"first-input":{const v=_,b=(v.processingStart??0)-(v.startTime??0);console.log("⚡ FID:",b.toFixed(2),"ms");break}case"layout-shift":{const v=_.value;console.log("📐 CLS:",(g=v==null?void 0:v.toFixed)==null?void 0:g.call(v,3));break}}}).observe({entryTypes:["largest-contentful-paint","first-input","layout-shift"]});const u=()=>{const d=performance.now()-t.current;n.current.timeToInteractive=d,a||console.log("🚀 Time to Interactive:",d.toFixed(2),"ms")},h=()=>{document.readyState==="complete"?u():setTimeout(h,100)};return h(),()=>{const d=performance.now()-t.current;n.current.totalLoadTime=d,a||console.log("📊 Performance Summary:",{totalLoadTime:`${d.toFixed(2)}ms`,componentLoadTimes:n.current.componentLoadTimes,timeToInteractive:`${n.current.timeToInteractive.toFixed(2)}ms`})}},[]),{trackComponentLoadStart:r,trackComponentLoadEnd:o,getMetrics:()=>n.current}},lS=()=>{const[t,e]=O.useState(null),[n,r]=O.useState({sessionStart:Date.now(),lastActivity:Date.now(),pageViews:0,interactions:{},navigationPath:[],timeOnPage:0,scrollEvents:0,clickEvents:0,touchEvents:0}),[o,a]=O.useState(!1),[u,h]=O.useState(0),d=O.useRef({}),p=O.useRef({}),g=O.useRef(null),_=O.useRef(null),v=O.useRef(null),b=O.useRef(!1),E=O.useRef(null),C=O.useRef(null),N=O.useRef(null),S={excellent:{lcp:2500,fid:100,cls:.1},good:{lcp:4e3,fid:300,cls:.25},needsImprovement:{lcp:7e3,fid:500,cls:.4}},y=O.useCallback(W=>{let H=100;return W.lcp<=S.excellent.lcp?H-=0:W.lcp<=S.good.lcp?H-=10:W.lcp<=S.needsImprovement.lcp?H-=25:H-=40,W.fid<=S.excellent.fid?H-=0:W.fid<=S.good.fid?H-=10:W.fid<=S.needsImprovement.fid?H-=25:H-=40,W.cls<=S.excellent.cls?H-=0:W.cls<=S.good.cls?H-=10:W.cls<=S.needsImprovement.cls?H-=25:H-=40,W.ttfb<=800?H-=0:W.ttfb<=1800?H-=5:W.ttfb<=3e3?H-=15:H-=25,W.timeToInteractive<=3800?H-=0:W.timeToInteractive<=7300?H-=5:W.timeToInteractive<=10200?H-=10:H-=20,Math.max(0,H)},[S]),w=O.useCallback(W=>{d.current[W]=performance.now(),console.log(`📊 Component load started: ${W}`)},[]),k=O.useCallback(W=>{const H=d.current[W];if(H){const Y=performance.now()-H;e(j=>j?{...j,componentLoadTimes:{...j.componentLoadTimes,[W]:Y}}:null),console.log(`📊 ${W} loaded in ${Y.toFixed(2)}ms`)}},[]),T=O.useCallback(W=>{p.current[W]=performance.now()},[]),I=O.useCallback(W=>{const H=p.current[W];if(H){const Y=performance.now()-H;e(j=>j?{...j,renderTimes:{...j.renderTimes,[W]:Y}}:null),console.log(`🎨 ${W} rendered in ${Y.toFixed(2)}ms`)}},[]),M=O.useCallback((W,H)=>{r(Y=>({...Y,lastActivity:Date.now(),interactions:{...Y.interactions,[W]:(Y.interactions[W]||0)+1}}))},[]),z=O.useCallback(W=>{r(H=>({...H,pageViews:H.pageViews+1,navigationPath:[...H.navigationPath,W],timeOnPage:Date.now()-H.lastActivity}))},[]),K=O.useCallback(()=>{if("memory"in performance){const W=performance.memory;return{usage:W.usedJSHeapSize,limit:W.jsHeapSizeLimit}}return{usage:0,limit:0}},[]),q=O.useCallback(()=>{const W=performance.getEntriesByType("resource"),H=W.reduce((j,V)=>j+(V.transferSize||0),0),Y=W.reduce((j,V)=>j+(V.responseEnd||0)-(V.responseStart||0),0)/W.length;return{requests:W.length,transferSize:H,avgResponseTime:Y||0}},[]),se=O.useCallback(()=>{if(b.current)return;console.log("🚀 Starting advanced performance monitoring..."),a(!0),b.current=!0,e({lcp:0,fid:0,cls:0,ttfb:0,timeToInteractive:0,timeToFirstPaint:0,timeToFirstContentfulPaint:0,totalLoadTime:0,componentLoadTimes:{},renderTimes:{},firstClickTime:0,scrollDepth:0,interactionCount:0,memoryUsage:0,memoryLimit:0,networkRequests:0,totalTransferSize:0,averageResponseTime:0}),"PerformanceObserver"in window&&(g.current=new PerformanceObserver(Y=>{var j,V;for(const B of Y.getEntries())switch(B.entryType){case"largest-contentful-paint":e(fe=>fe?{...fe,lcp:B.startTime}:null),console.log("🎯 LCP:",B.startTime.toFixed(2),"ms");break;case"first-input":const Q=B.processingStart-B.startTime;e(fe=>fe?{...fe,fid:Q}:null),console.log("⚡ FID:",Q.toFixed(2),"ms");break;case"layout-shift":e(fe=>fe?{...fe,cls:B.value}:null),console.log("📐 CLS:",(V=(j=B.value)==null?void 0:j.toFixed)==null?void 0:V.call(j,3));break;case"navigation":const re=B;e(fe=>{var he,ae;return fe?{...fe,ttfb:re.responseStart-re.requestStart,timeToFirstPaint:((he=performance.getEntriesByName("first-paint")[0])==null?void 0:he.startTime)||0,timeToFirstContentfulPaint:((ae=performance.getEntriesByName("first-contentful-paint")[0])==null?void 0:ae.startTime)||0}:null});break}}),g.current.observe({entryTypes:["largest-contentful-paint","first-input","layout-shift","navigation"]}));const H=()=>{r(Y=>({...Y,lastActivity:Date.now()}))};E.current=()=>{H(),M("click"),r(Y=>({...Y,clickEvents:Y.clickEvents+1}))},document.addEventListener("click",E.current),C.current=()=>{H(),M("touch"),r(Y=>({...Y,touchEvents:Y.touchEvents+1}))},document.addEventListener("touchstart",C.current,{passive:!0}),N.current=()=>{H(),r(Y=>({...Y,scrollEvents:Y.scrollEvents+1}))},document.addEventListener("scroll",N.current,{passive:!0}),v.current=setInterval(()=>{const Y=K(),j=q();e(V=>V&&{...V,memoryUsage:Y.usage,memoryLimit:Y.limit,networkRequests:j.requests,totalTransferSize:j.transferSize,averageResponseTime:j.avgResponseTime})},5e3),_.current=setInterval(()=>{r(Y=>({...Y,timeOnPage:Date.now()-Y.sessionStart}))},1e3)},[K,q,M]),ge=O.useCallback(()=>{b.current&&(console.log("🛑 Stopping performance monitoring..."),a(!1),b.current=!1,g.current&&(g.current.disconnect(),g.current=null),v.current&&(clearInterval(v.current),v.current=null),_.current&&(clearInterval(_.current),_.current=null),E.current&&(document.removeEventListener("click",E.current),E.current=null),C.current&&(document.removeEventListener("touchstart",C.current),C.current=null),N.current&&(document.removeEventListener("scroll",N.current),N.current=null))},[]),we=O.useCallback(()=>{if(!t)return"No performance data available";const W=y(t);return`
🚀 Performance Report
====================

📊 Performance Score: ${W}/100
${W>=90?"🟢 Excellent":W>=70?"🟡 Good":W>=50?"🟠 Needs Improvement":"🔴 Poor"}

🎯 Core Web Vitals:
• LCP: ${t.lcp.toFixed(2)}ms ${t.lcp<=S.excellent.lcp?"🟢":t.lcp<=S.good.lcp?"🟡":"🔴"}
• FID: ${t.fid.toFixed(2)}ms ${t.fid<=S.excellent.fid?"🟢":t.fid<=S.good.fid?"🟡":"🔴"}
• CLS: ${t.cls.toFixed(3)} ${t.cls<=S.excellent.cls?"🟢":t.cls<=S.good.cls?"🟡":"🔴"}

⏱️ Timing Metrics:
• TTFB: ${t.ttfb.toFixed(2)}ms
• First Paint: ${t.timeToFirstPaint.toFixed(2)}ms
• First Contentful Paint: ${t.timeToFirstContentfulPaint.toFixed(2)}ms
• Time to Interactive: ${t.timeToInteractive.toFixed(2)}ms

🧠 Memory Usage: ${(t.memoryUsage/1024/1024).toFixed(2)}MB / ${(t.memoryLimit/1024/1024).toFixed(2)}MB

🌐 Network: ${t.networkRequests} requests, ${(t.totalTransferSize/1024).toFixed(2)}KB transferred

👤 User Behavior:
• Session Duration: ${Math.round(n.timeOnPage/1e3)}s
• Page Views: ${n.pageViews}
• Interactions: ${Object.values(n.interactions).reduce((Y,j)=>Y+j,0)}
• Scroll Events: ${n.scrollEvents}
• Click Events: ${n.clickEvents}
• Touch Events: ${n.touchEvents}
• Scroll Events: ${n.scrollEvents}
    `},[t,n,y,S]),_e=O.useCallback(()=>t?{timestamp:new Date().toISOString(),metrics:t,userBehavior:n,performanceScore:y(t),userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight},connection:navigator.connection?{effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}:null}:null,[t,n,y]);return O.useEffect(()=>(se(),()=>{ge()}),[]),O.useEffect(()=>{if(t){const W=y(t);h(W)}},[t,y]),{metrics:t,userBehavior:n,isMonitoring:o,performanceScore:u,startMonitoring:se,stopMonitoring:ge,trackComponentLoadStart:w,trackComponentLoadEnd:k,trackRenderStart:T,trackRenderEnd:I,trackUserInteraction:M,trackNavigation:z,generateReport:we,exportData:_e,calculatePerformanceScore:y}};let Ao=null,Kr=null;const rh=()=>{const[t,e]=O.useState({isSupported:"serviceWorker"in navigator,isInstalled:!1,isUpdated:!1,isOnline:navigator.onLine,cacheInfo:{}}),[n,r]=O.useState(null),o=O.useCallback(async()=>{if(!("serviceWorker"in navigator))return console.log("❌ Service Worker not supported"),null;try{if(Ao)return r(Ao),e(w=>({...w,isInstalled:!0})),Ao;if(Kr){const w=await Kr;return w&&(r(w),e(k=>({...k,isInstalled:!0}))),w}console.log("🚀 Registering Service Worker...");const E="/itinerary-killer/",N=((w,k)=>`${w.replace(/\/+$/,"/")}${k.replace(/^\/+/,"")}`)(E,"sw.js"),S=E;Kr=navigator.serviceWorker.register(N,{scope:S,updateViaCache:"none"});const y=await Kr;return Ao=y,Kr=null,console.log("✅ Service Worker registered successfully:",y),r(y),e(w=>({...w,isInstalled:!0})),y.addEventListener("updatefound",()=>{console.log("🔄 Service Worker update found");const w=y.installing;w&&w.addEventListener("statechange",()=>{w.state==="installed"&&navigator.serviceWorker.controller&&(console.log("🆕 New Service Worker available"),e(k=>({...k,isUpdated:!0})))})}),y}catch(E){return console.error("❌ Service Worker registration failed:",E),null}},[]),a=O.useCallback(async()=>{if(n)try{console.log("🔄 Updating Service Worker..."),await n.update(),e(E=>({...E,isUpdated:!1}))}catch(E){console.error("❌ Service Worker update failed:",E)}},[n]),u=O.useCallback(async()=>{if(n&&n.waiting)try{console.log("⏭️ Skipping waiting for Service Worker..."),n.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}catch(E){console.error("❌ Failed to skip waiting:",E)}},[n]),h=O.useCallback(async()=>{if(n&&n.active)try{const E=new MessageChannel;return new Promise((C,N)=>{E.port1.onmessage=S=>{S.data.type==="CACHE_INFO"?(e(y=>({...y,cacheInfo:S.data.data})),C(S.data.data)):S.data.type==="CACHE_INFO_ERROR"&&N(new Error(S.data.error))},n.active.postMessage({type:"GET_CACHE_INFO"},[E.port2])})}catch(E){return console.error("❌ Failed to get cache info:",E),{}}return{}},[n]),d=O.useCallback(async E=>{if(n&&n.active)try{const C=new MessageChannel;return new Promise((N,S)=>{C.port1.onmessage=y=>{y.data.type==="CACHE_CLEARED"?(console.log("🗑️ Cache cleared successfully"),N()):y.data.type==="CACHE_CLEAR_ERROR"&&S(new Error(y.data.error))},n.active.postMessage({type:"CLEAR_CACHE",cacheName:E},[C.port2])})}catch(C){throw console.error("❌ Failed to clear cache:",C),C}},[n]),p=O.useCallback(async E=>{if(n&&n.active)try{const C=new MessageChannel;return new Promise((N,S)=>{C.port1.onmessage=y=>{y.data.type==="MAP_TILES_CACHED"?(console.log("🗺️ Map tiles cached successfully"),N(y.data.results)):y.data.type==="MAP_TILES_CACHE_ERROR"&&S(new Error(y.data.error))},n.active.postMessage({type:"CACHE_MAP_TILES",tiles:E},[C.port2])})}catch(C){throw console.error("❌ Failed to cache map tiles:",C),C}},[n]),g=O.useCallback(async(E,C)=>{if(n&&"sync"in n)try{console.log("🔄 Requesting background sync:",E),await n.sync.register(E,C),console.log("✅ Background sync registered")}catch(N){throw console.error("❌ Background sync registration failed:",N),N}else console.log("⚠️ Background sync not supported")},[n]),_=O.useCallback(async()=>{if(!("Notification"in window))return console.log("❌ Notifications not supported"),!1;if(Notification.permission==="granted")return!0;if(Notification.permission==="denied")return console.log("❌ Notification permission denied"),!1;try{return await Notification.requestPermission()==="granted"}catch(E){return console.error("❌ Failed to request notification permission:",E),!1}},[]),v=O.useCallback(async()=>{if(!n)return console.log("❌ Service Worker not registered"),null;try{if(!await _())return null;const C={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_VAPID_PUBLIC_KEY||"",N=await n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:b(C)});return console.log("🔔 Push notification subscription created:",N),N}catch(E){return console.error("❌ Failed to subscribe to push notifications:",E),null}},[n,_]),b=E=>{const C="=".repeat((4-E.length%4)%4),N=(E+C).replace(/-/g,"+").replace(/_/g,"/"),S=window.atob(N),y=new Uint8Array(S.length);for(let w=0;w<S.length;++w)y[w]=S.charCodeAt(w);return y};return O.useEffect(()=>{o()},[]),O.useEffect(()=>{const E=()=>{console.log("🌐 App is online"),e(N=>({...N,isOnline:!0}))},C=()=>{console.log("📱 App is offline"),e(N=>({...N,isOnline:!1}))};return window.addEventListener("online",E),window.addEventListener("offline",C),()=>{window.removeEventListener("online",E),window.removeEventListener("offline",C)}},[]),O.useEffect(()=>{if(!n)return;const E=C=>{switch(console.log("📨 Message from Service Worker:",C.data),C.data.type){case"BACKGROUND_SYNC_START":console.log("🔄 Background sync started");break;case"BACKGROUND_SYNC_COMPLETE":console.log("✅ Background sync completed");break;case"BACKGROUND_SYNC_ERROR":console.log("❌ Background sync failed:",C.data.message);break;default:console.log("Unknown message type:",C.data.type)}};return navigator.serviceWorker.addEventListener("message",E),()=>{navigator.serviceWorker.removeEventListener("message",E)}},[n]),{...t,registration:n,registerServiceWorker:o,updateServiceWorker:a,skipWaiting:u,getCacheInfo:h,clearCache:d,cacheMapTiles:p,requestBackgroundSync:g,requestNotificationPermission:_,subscribeToPushNotifications:v}},uS=()=>{const{cacheMapTiles:t,getCacheInfo:e,clearCache:n}=rh(),r=O.useRef([]),o=O.useRef(null),a=O.useRef({}),u={mapTiles:{name:"Map Tiles",priority:"high",maxAge:24*60*60*1e3,maxSize:1e3},images:{name:"Images",priority:"medium",maxAge:7*24*60*60*1e3,maxSize:500},apiResponses:{name:"API Responses",priority:"medium",maxAge:5*60*1e3,maxSize:200},staticAssets:{name:"Static Assets",priority:"high",maxAge:30*24*60*60*1e3,maxSize:100}},h=O.useCallback(()=>{if("connection"in navigator){const T=navigator.connection;return{effectiveType:T.effectiveType||"unknown",downlink:T.downlink||0,rtt:T.rtt||0,saveData:T.saveData||!1}}return null},[]),d=O.useCallback(T=>{const I=h(),M=u[T]||u.staticAssets;return I?I.effectiveType==="slow-2g"||I.effectiveType==="2g"?{...M,maxAge:M.maxAge*2,maxSize:Math.floor(M.maxSize*.5)}:I.effectiveType==="3g"?{...M,maxAge:M.maxAge*1.5,maxSize:Math.floor(M.maxSize*.8)}:I.effectiveType==="4g"?{...M,maxAge:M.maxAge,maxSize:Math.floor(M.maxSize*1.2)}:M:M},[h]),p=O.useCallback(async()=>{const T=a.current,I=[];if(T["add-item"]>2&&I.push({url:"/src/components/AddItemModal.tsx",type:"script",priority:.8,estimatedSize:50}),T["view-map"]>3){const M=y();if(M){const K=w(M).map(q=>({url:q,type:"image",priority:.9,estimatedSize:20}));I.push(...K)}}T["import-data"]>1&&I.push({url:"/src/components/ImportJsonModal.tsx",type:"script",priority:.7,estimatedSize:40}),I.sort((M,z)=>z.priority-M.priority),r.current.push(...I),await g()},[]),g=O.useCallback(async()=>{const T=h(),I=(T==null?void 0:T.effectiveType)==="4g"?6:(T==null?void 0:T.effectiveType)==="3g"?4:2,z=r.current.splice(0,I).map(async K=>{try{switch(K.type){case"image":await _(K.url);break;case"script":await v(K.url);break;case"style":await b(K.url);break;case"data":await E(K.url);break}console.log(`📥 Preloaded: ${K.url}`)}catch(q){console.log(`❌ Failed to preload: ${K.url}`,q)}});await Promise.allSettled(z)},[h]),_=O.useCallback(T=>new Promise((I,M)=>{const z=new Image;z.onload=()=>I(),z.onerror=M,z.src=T}),[]),v=O.useCallback(T=>new Promise((I,M)=>{const z=document.createElement("link");z.rel="prefetch",z.href=T,z.onload=()=>I(),z.onerror=M,document.head.appendChild(z)}),[]),b=O.useCallback(T=>new Promise((I,M)=>{const z=document.createElement("link");z.rel="prefetch",z.href=T,z.onload=()=>I(),z.onerror=M,document.head.appendChild(z)}),[]),E=O.useCallback(async T=>{const I=await fetch(T);if(!I.ok)throw new Error("Failed to preload data");return I.json()},[]),C=O.useCallback(T=>{a.current[T]=(a.current[T]||0)+1,a.current[T]%3===0&&p()},[p]),N=O.useCallback(async(T,I)=>{const M=h();let z=1;(M==null?void 0:M.effectiveType)==="4g"?z=3:(M==null?void 0:M.effectiveType)==="3g"?z=2:(M==null?void 0:M.effectiveType)==="2g"&&(z=1);const K=S(T,I,z);try{await t(K),console.log(`🗺️ Cached ${K.length} map tiles intelligently`)}catch(q){console.error("❌ Failed to cache map tiles intelligently:",q)}},[t,h,d]),S=O.useCallback((T,I,M)=>{const z=[],[K,q]=T,se=Math.pow(2,I),ge=Math.floor((q+180)/360*se),we=Math.floor((1-Math.log(Math.tan(K*Math.PI/180)+1/Math.cos(K*Math.PI/180))/Math.PI)/2*se);for(let _e=ge-M;_e<=ge+M;_e++)for(let W=we-M;W<=we+M;W++)_e>=0&&_e<se&&W>=0&&W<se&&z.push(`https://tile.openstreetmap.org/${I}/${_e}/${W}.png`);return z},[]),y=O.useCallback(()=>null,[]),w=O.useCallback(T=>[],[]),k=O.useCallback(async()=>{try{const T=await e();for(const[I,M]of Object.entries(T)){const z=u[I]||u.staticAssets;M.size>z.maxSize&&(console.log(`🗑️ Cache ${I} exceeds size limit, clearing...`),await n(I))}}catch(T){console.error("❌ Failed to manage cache:",T)}},[e,n,h]);return O.useEffect(()=>{if(o.current=h(),"connection"in navigator){const T=navigator.connection,I=()=>{o.current=h(),console.log("📡 Connection changed:",o.current),k()};return T.addEventListener("change",I),()=>T.removeEventListener("change",I)}},[]),O.useEffect(()=>{const T=setInterval(()=>{k()},3e5);return()=>clearInterval(T)},[]),{cacheStrategies:u,getOptimalCacheStrategy:d,predictAndPreload:p,executePreloadQueue:g,trackUserAction:C,userBehavior:a.current,cacheMapTilesIntelligently:N,manageCache:k,connectionInfo:o.current,getConnectionInfo:h}},cS=()=>{const{requestBackgroundSync:t}=rh(),[e,n]=O.useState(null),[r,o]=O.useState(navigator.onLine),a=O.useRef([]),u=O.useRef(new Map),h=O.useRef(null),d=O.useCallback(()=>{if("connection"in navigator){const k=navigator.connection;return{effectiveType:k.effectiveType||"unknown",downlink:k.downlink||0,rtt:k.rtt||0,saveData:k.saveData||!1}}return null},[]),p=O.useCallback(k=>k.effectiveType==="4g"&&k.downlink>10?10:k.effectiveType==="4g"?8:k.effectiveType==="3g"?5:k.effectiveType==="2g"?3:2,[]),g=O.useCallback(k=>k.effectiveType==="4g"&&k.rtt<50?100:k.effectiveType==="4g"?200:k.effectiveType==="3g"?500:k.effectiveType==="2g"?1e3:2e3,[]),_=O.useCallback(k=>{const T={...k,id:`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()},I=a.current.findIndex(M=>M.priority<T.priority);I===-1?a.current.push(T):a.current.splice(I,0,T),v()},[]),v=O.useCallback(()=>{h.current&&clearTimeout(h.current);const k=d();if(!k)return;const T=g(k);h.current=setTimeout(()=>{b()},T)},[d,g]),b=O.useCallback(async()=>{if(a.current.length===0)return;const k=d();if(!k)return;const T=p(k),I=`batch_${Date.now()}`,M=a.current.splice(0,T),z={id:I,requests:M,maxDelay:g(k),createdAt:Date.now()};u.current.set(I,z);try{console.log(`📦 Processing batch ${I} with ${M.length} requests`),await E(z),console.log(`✅ Batch ${I} completed successfully`)}catch(K){console.error(`❌ Batch ${I} failed:`,K),M.forEach(q=>{q.priority=Math.max(0,q.priority-1),a.current.push(q)})}finally{u.current.delete(I)}},[d,p,g]),E=O.useCallback(async k=>{const{requests:T}=k,I=d();if(!I)throw new Error("Network quality information unavailable");const M=T.filter(we=>we.method==="GET"),z=T.filter(we=>we.method==="POST"),K=T.filter(we=>we.method==="PUT"),q=T.filter(we=>we.method==="DELETE"),se=I.effectiveType==="4g"?6:I.effectiveType==="3g"?4:2,ge=[];if(M.length>0){const we=N(M,se);for(const _e of we){const W=await Promise.allSettled(_e.map(H=>C(H)));ge.push(...W)}}for(const we of[...z,...K,...q])try{const _e=await C(we);ge.push({status:"fulfilled",value:_e})}catch(_e){ge.push({status:"rejected",reason:_e})}return ge},[d]),C=O.useCallback(async k=>{const{url:T,method:I,data:M}=k,z={method:I,headers:{"Content-Type":"application/json","X-Request-ID":k.id,"X-Batch-Processing":"true"}};M&&(I==="POST"||I==="PUT")&&(z.body=JSON.stringify(M));const K=await fetch(T,z);if(!K.ok)throw new Error(`Request failed: ${K.status} ${K.statusText}`);return K.json()},[]),N=O.useCallback((k,T)=>{const I=[];for(let M=0;M<k.length;M+=T)I.push(k.slice(M,M+T));return I},[]),S=O.useCallback(k=>{const T=d();return!T||T.effectiveType==="4g"&&T.downlink>10?k:T.effectiveType==="4g"?k.replace(/\.(jpg|png)$/,"_medium.$1"):T.effectiveType==="3g"?k.replace(/\.(jpg|png)$/,"_low.$1"):k.replace(/\.(jpg|png)$/,"_verylow.$1")},[d]),y=O.useCallback(()=>{const k=d();return k?k.effectiveType==="4g"&&k.downlink>10?"aggressive":k.effectiveType==="4g"?"balanced":k.effectiveType==="3g"?"conservative":"minimal":"conservative"},[d]),w=O.useCallback(async(k,T)=>{try{await t(k,T),console.log("🔄 Background sync requested for offline operation")}catch(I){throw console.error("❌ Failed to request background sync:",I),I}},[t]);return O.useEffect(()=>{const k=()=>{console.log("🌐 Network connection restored"),o(!0),a.current.length>0&&v()},T=()=>{console.log("📱 Network connection lost"),o(!1),h.current&&(clearTimeout(h.current),h.current=null)};return window.addEventListener("online",k),window.addEventListener("offline",T),()=>{window.removeEventListener("online",k),window.removeEventListener("offline",T)}},[]),O.useEffect(()=>{if("connection"in navigator){const k=navigator.connection,T=()=>{const I=d();n(I),I&&(console.log("📡 Network quality changed:",I),a.current.length>0&&v())};return T(),k.addEventListener("change",T),()=>{k.removeEventListener("change",T)}}},[]),O.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),{networkQuality:e,isOnline:r,addToBatch:_,processBatch:b,getAdaptiveImageQuality:S,getAdaptiveLoadingStrategy:y,requestOfflineSync:w,getNetworkQuality:d,getOptimalBatchSize:p,getOptimalBatchDelay:g,queueLength:a.current.length,activeBatches:Array.from(u.current.values())}};class hS{constructor(){Dr(this,"registration",null);Dr(this,"isSupported",!1);Dr(this,"isSubscribed",!1);Dr(this,"subscription",null);this.isSupported="serviceWorker"in navigator&&"PushManager"in window,this.initialize()}async initialize(){if(!this.isSupported){console.log("❌ Push notifications not supported");return}try{this.registration=await navigator.serviceWorker.getRegistration()||null,this.registration&&(this.isSubscribed=!!await this.registration.pushManager.getSubscription(),console.log("✅ Push notification service initialized"))}catch(e){console.error("❌ Failed to initialize push notifications:",e)}}async requestPermission(){if(!this.isSupported)return console.log("❌ Push notifications not supported"),!1;if(Notification.permission==="granted")return!0;if(Notification.permission==="denied")return console.log("❌ Notification permission denied"),!1;try{return await Notification.requestPermission()==="granted"}catch(e){return console.error("❌ Failed to request notification permission:",e),!1}}async subscribe(){if(!this.isSupported||!this.registration)return console.log("❌ Push notifications not supported or registration not available"),null;try{if(!await this.requestPermission())return null;const n={BASE_URL:"/itinerary-killer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_VAPID_PUBLIC_KEY;if(!n)return console.log("⚠️ VAPID public key not configured"),null;const r=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(n)});return this.subscription=r,this.isSubscribed=!0,console.log("🔔 Push notification subscription created:",r),await this.sendSubscriptionToServer(r),r}catch(e){return console.error("❌ Failed to subscribe to push notifications:",e),null}}async unsubscribe(){if(!this.subscription)return!1;try{return await this.subscription.unsubscribe(),this.subscription=null,this.isSubscribed=!1,console.log("🔕 Push notification subscription removed"),await this.removeSubscriptionFromServer(),!0}catch(e){return console.error("❌ Failed to unsubscribe from push notifications:",e),!1}}async sendLocalNotification(e){if(!this.isSupported)return null;try{if(!await this.requestPermission())return null;const r=new Notification(e.title,{body:e.body,icon:e.icon||"/icons/icon-192.png",badge:e.badge||"/icons/icon-192.png",data:e.data,requireInteraction:e.requireInteraction||!1,silent:e.silent||!1,tag:e.tag});return r.onclick=o=>{console.log("👆 Notification clicked:",o),this.handleNotificationClick(e,o)},r.onclose=()=>{console.log("❌ Notification closed")},r.onshow=()=>{console.log("📢 Notification shown")},r}catch(n){return console.error("❌ Failed to send local notification:",n),null}}async sendScheduledNotification(e,n){if(!this.isSupported)return-1;try{const r=setTimeout(async()=>{await this.sendLocalNotification(e)},n);return console.log(`⏰ Scheduled notification for ${n}ms from now`),r}catch(r){return console.error("❌ Failed to schedule notification:",r),-1}}cancelScheduledNotification(e){try{return clearTimeout(e),console.log("❌ Scheduled notification cancelled"),!0}catch(n){return console.error("❌ Failed to cancel scheduled notification:",n),!1}}async sendReminderNotification(e,n){const r={title:"⏰ Activity Reminder",body:`Time for: ${e.title}`,icon:"/icons/icon-192.png",data:{type:"reminder",activityId:e.id},requireInteraction:!0,actions:[{action:"view",title:"View Details"},{action:"dismiss",title:"Dismiss"}]};return this.sendScheduledNotification(r,n)}async sendLocationNotification(e,n){if(this.calculateDistance(n.lat,n.lng,e.location.lat,e.location.lng)<=.5){const o={title:"📍 Nearby Activity",body:`You're close to: ${e.title}`,icon:"/icons/icon-192.png",data:{type:"location",activityId:e.id},requireInteraction:!1};await this.sendLocalNotification(o)}}async sendOfflineSyncNotification(e,n){const r={title:"🔄 Sync Complete",body:`Successfully synced ${n} ${e}`,icon:"/icons/icon-192.png",data:{type:"sync",syncType:e,count:n},requireInteraction:!1};await this.sendLocalNotification(r)}async sendPerformanceAlert(e,n,r){const o={title:"⚠️ Performance Alert",body:`${e}: ${n} (threshold: ${r})`,icon:"/icons/icon-192.png",data:{type:"performance",metric:e,value:n,threshold:r},requireInteraction:!1};await this.sendLocalNotification(o)}handleNotificationClick(e,n){var o,a,u;const r=n.target;((o=e.data)==null?void 0:o.type)==="reminder"?window.location.href=`/?activity=${e.data.activityId}`:((a=e.data)==null?void 0:a.type)==="location"?window.location.href=`/?view=map&center=${e.data.activityId}`:((u=e.data)==null?void 0:u.type)==="sync"&&(window.location.href="/?view=sync"),r.close()}calculateDistance(e,n,r,o){const u=this.deg2rad(r-e),h=this.deg2rad(o-n),d=Math.sin(u/2)*Math.sin(u/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(r))*Math.sin(h/2)*Math.sin(h/2);return 3959*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))}deg2rad(e){return e*(Math.PI/180)}urlBase64ToUint8Array(e){if(!e)return new Uint8Array(0);const n="=".repeat((4-e.length%4)%4),r=(e+n).replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(r),a=new Uint8Array(o.length);for(let u=0;u<o.length;++u)a[u]=o.charCodeAt(u);return a}async sendSubscriptionToServer(e){try{console.log("📤 Subscription sent to server:",e)}catch(n){console.error("❌ Failed to send subscription to server:",n)}}async removeSubscriptionFromServer(){try{console.log("📤 Unsubscription sent to server")}catch(e){console.error("❌ Failed to remove subscription from server:",e)}}getSubscriptionStatus(){return{isSupported:this.isSupported,isSubscribed:this.isSubscribed}}getCurrentSubscription(){return this.subscription}}const jf=new hS,dS=()=>{const[t,e]=O.useState({features:{isInstallable:!1,isInstalled:!1,isStandalone:!1,isOnline:navigator.onLine,hasPushSupport:"serviceWorker"in navigator&&"PushManager"in window,hasBackgroundSync:"serviceWorker"in navigator&&"sync"in window,hasFileHandling:"launchQueue"in window,hasShareTarget:"share"in navigator},installPrompt:null,isInstalling:!1,installationProgress:0,lastUpdateCheck:null,updateAvailable:!1,offlineQueue:[],syncStatus:"idle"}),n=O.useRef(null),r=O.useRef(null),o=O.useRef(null),a=O.useCallback(()=>{const k=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;e(T=>({...T,features:{...T.features,isInstalled:k}}))},[]),u=O.useCallback(()=>{const k=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;e(T=>({...T,features:{...T.features,isStandalone:k}}))},[]),h=O.useCallback(k=>{k.preventDefault(),n.current=k,e(T=>({...T,features:{...T.features,isInstallable:!0},installPrompt:k})),console.log("📱 Install prompt captured")},[]),d=O.useCallback(()=>{e(k=>({...k,features:{...k.features,isInstalled:!0,isInstallable:!1},installPrompt:null})),console.log("✅ App installed successfully")},[]),p=O.useCallback(()=>{const k=navigator.onLine;e(T=>({...T,features:{...T.features,isOnline:k}})),k&&t.offlineQueue.length>0&&setTimeout(()=>g(),0),console.log(`🌐 Network status: ${k?"Online":"Offline"}`)},[t.offlineQueue]),g=O.useCallback(async()=>{if(t.offlineQueue.length!==0){e(k=>({...k,syncStatus:"syncing"}));try{const k=[...t.offlineQueue];let T=0;for(const I of k)try{await _(I),T++}catch(M){console.error("❌ Failed to process queued item:",M)}e(I=>({...I,offlineQueue:I.offlineQueue.filter(M=>!k.some(z=>z.id===M.id)),syncStatus:"completed"})),T>0&&await jf.sendOfflineSyncNotification("items",T),console.log(`🔄 Processed ${T} offline items`)}catch(k){console.error("❌ Failed to process offline queue:",k),e(T=>({...T,syncStatus:"error"}))}}},[t.offlineQueue]),_=async k=>{await new Promise(T=>setTimeout(T,100))},v=O.useCallback(k=>{const T={...k,id:Date.now(),timestamp:new Date().toISOString()};e(I=>({...I,offlineQueue:[...I.offlineQueue,T]})),console.log("📝 Item added to offline queue:",T)},[]),b=O.useCallback(async()=>{if(!n.current)return console.log("❌ No install prompt available"),!1;try{e(I=>({...I,isInstalling:!0,installationProgress:0}));const k=setInterval(()=>{e(I=>({...I,installationProgress:Math.min(I.installationProgress+20,90)}))},200);await n.current.prompt();const{outcome:T}=await n.current.userChoice;return clearInterval(k),T==="accepted"?(e(I=>({...I,installationProgress:100,features:{...I.features,isInstallable:!1}})),n.current=null,console.log("✅ PWA installation accepted"),!0):(e(I=>({...I,installationProgress:0,isInstalling:!1})),console.log("❌ PWA installation dismissed"),!1)}catch(k){return console.error("❌ Failed to install PWA:",k),e(T=>({...T,installationProgress:0,isInstalling:!1})),!1}finally{setTimeout(()=>{e(k=>({...k,isInstalling:!1,installationProgress:0}))},1e3)}},[]),E=O.useCallback(async()=>{try{e(T=>({...T,lastUpdateCheck:new Date}));const k=Math.random()>.7;return e(T=>({...T,updateAvailable:k})),k?(console.log("🔄 App update available"),await jf.sendLocalNotification({title:"🔄 Update Available",body:"A new version of the app is available. Refresh to update.",requireInteraction:!0,actions:[{action:"refresh",title:"Refresh Now"},{action:"later",title:"Later"}]})):console.log("✅ App is up to date"),k}catch(k){return console.error("❌ Failed to check for updates:",k),!1}},[]),C=O.useCallback(async k=>{if(!navigator.share)return console.log("❌ Web Share API not supported"),!1;try{return await navigator.share(k),console.log("📤 Content shared successfully"),!0}catch(T){return T.name!=="AbortError"&&console.error("❌ Failed to share content:",T),!1}},[]),N=O.useCallback(async k=>{if(!("launchQueue"in window))return console.log("❌ File handling not supported"),!1;try{if(console.log("📁 File opened:",k.name),k.type==="application/json"){const T=await k.text(),I=JSON.parse(T);return window.dispatchEvent(new CustomEvent("file-opened",{detail:{file:k,data:I,type:"json"}})),!0}return!1}catch(T){return console.error("❌ Failed to handle file:",T),!1}},[]),S=O.useCallback(()=>({name:"Itinerary Killer",version:"1.0.0",description:"Plan your perfect Orlando adventure",features:t.features,lastUpdate:t.lastUpdateCheck,updateAvailable:t.updateAvailable}),[t.features,t.lastUpdateCheck,t.updateAvailable]),y=O.useCallback(()=>({count:t.offlineQueue.length,items:t.offlineQueue,syncStatus:t.syncStatus}),[t.offlineQueue,t.syncStatus]),w=O.useCallback(()=>{e(k=>({...k,offlineQueue:[]})),console.log("🗑️ Offline queue cleared")},[]);return O.useEffect(()=>{a(),u(),r.current=h,o.current=d,window.addEventListener("beforeinstallprompt",r.current),window.addEventListener("appinstalled",o.current),window.addEventListener("online",p),window.addEventListener("offline",p);const k=setInterval(E,1e3*60*60),T=setInterval(a,1e3*60*5);return()=>{r.current&&window.removeEventListener("beforeinstallprompt",r.current),o.current&&window.removeEventListener("appinstalled",o.current),window.removeEventListener("online",p),window.removeEventListener("offline",p),clearInterval(k),clearInterval(T)}},[]),{...t,installPWA:b,checkForUpdates:E,shareContent:C,handleFileOpen:N,addToOfflineQueue:v,clearOfflineQueue:w,processOfflineQueue:g,getAppInfo:S,getOfflineQueueStatus:y}},fS=O.lazy(()=>Vn(()=>import("./AddItemModal-17ddad01.js"),["assets/AddItemModal-17ddad01.js","assets/x-d53e5091.js"])),pS=O.lazy(()=>Vn(()=>import("./ImportJsonModal-a4ab7946.js"),[])),mS=O.lazy(()=>Vn(()=>import("./ItineraryList-4f1fd949.js"),["assets/ItineraryList-4f1fd949.js","assets/x-d53e5091.js"]));function gS({center:t}){const e=eg();return O.useEffect(()=>{e.setView(t,13)},[t,e]),null}function _S({onMapClick:t}){return O0({click:t}),null}function vS(){const t=W0(),[e,n]=O.useState(null),[r,o]=O.useState(!1),[a,u]=O.useState(!0),[h,d]=O.useState(!1),[p,g]=O.useState(!1),[_,v]=O.useState(null),[b,E]=O.useState(()=>{try{return localStorage.getItem("site-authed")==="true"}catch{return!1}}),[C,N]=O.useState(()=>{const U={}.VITE_SITE_PASSWORD;return U&&U.length>0?U:void 0}),[S,y]=O.useState(!0),[w,k]=O.useState(0),T=[28.5383,-81.3792],[I,M]=O.useState(T),{items:z,addItem:K,addItems:q,updateItem:se,deleteItem:ge,loading:we}=rS(),{trackComponentLoadStart:_e,trackComponentLoadEnd:W}=aS(),{metrics:H,performanceScore:Y,trackComponentLoadStart:j,trackComponentLoadEnd:V,trackRenderStart:B,trackRenderEnd:Q,trackUserInteraction:re,generateReport:fe}=lS();window.__IK_ADV_METRICS_ACTIVE=!0;const{isSupported:he,isInstalled:ae,isUpdated:X,isOnline:Ke,skipWaiting:Zt}=rh(),{trackUserAction:yr,cacheMapTilesIntelligently:wr}=uS(),{isOnline:Gn,requestOfflineSync:Kn}=cS(),{features:Ht,installPWA:Ba,isInstalling:Si,installationProgress:$s,shareContent:kr,offlineQueue:Qn,syncStatus:xi}=dS();O.useEffect(()=>{let U=!1;return(async()=>{if(C)return;let ye={}.VITE_GOOGLE_PROXY_URL;if(!ye)try{const Pe=await fetch("/itinerary-killer/"+"runtime-config.json",{cache:"no-store"});if(Pe.ok){const Qe=await Pe.json();ye=(Qe==null?void 0:Qe.VITE_GOOGLE_PROXY_URL)||ye,console.log("[secrets] runtime-config (for /keys) VITE_GOOGLE_PROXY_URL =",Qe==null?void 0:Qe.VITE_GOOGLE_PROXY_URL)}}catch{}if(ye)try{const ce=new URL(ye);ce.pathname="/keys";const Pe=await fetch(ce.toString(),{method:"GET",mode:"cors"});if(!Pe.ok)return;const Qe=await Pe.json().catch(()=>({}));!U&&(Qe!=null&&Qe.SITE_PASSWORD)&&(N(Qe.SITE_PASSWORD),console.log("[secrets] Loaded SITE_PASSWORD from /keys"))}catch(ce){console.warn("[secrets] Failed to load SITE_PASSWORD from /keys",ce)}})(),()=>{U=!0}},[C]);const Jn=(U=!0,ne=1)=>{if(!navigator.geolocation){const ce="Geolocation is not supported by this browser.";v(ce),U&&alert(ce);return}g(!0),v(null);let ye;ne===1?ye={enableHighAccuracy:!0,timeout:3e4,maximumAge:3e5}:ne===2?ye={enableHighAccuracy:!1,timeout:15e3,maximumAge:6e5}:ye={enableHighAccuracy:!1,timeout:8e3,maximumAge:9e5},console.log(`🔄 Location attempt ${ne} with options:`,ye),console.log("💡 GPS Tip: If this times out, try moving to an open area or wait 2-3 minutes for GPS to stabilize"),navigator.geolocation.getCurrentPosition(ce=>{const Pe={lat:ce.coords.latitude,lng:ce.coords.longitude,accuracy:ce.coords.accuracy,timestamp:new Date};n(Pe),M([Pe.lat,Pe.lng]),g(!1),v(null),U&&console.log("✅ Location obtained successfully:",Pe)},ce=>{if(console.error(`❌ Location attempt ${ne} failed:`,ce),ce.code===ce.TIMEOUT&&ne<3){console.log(`🔄 Retrying with attempt ${ne+1}...`),setTimeout(()=>Jn(U,ne+1),1e3);return}g(!1);let Pe="Unable to get your location.";switch(ce.code){case ce.PERMISSION_DENIED:Pe="Location access denied. Please enable location permissions in your browser settings.";break;case ce.POSITION_UNAVAILABLE:Pe="Location information is unavailable. Please try again.";break;case ce.TIMEOUT:Pe="Location request timed out after multiple attempts. Try moving to an open area or use manual location.";break;default:Pe=`Location error: ${ce.message}`}v(Pe),U&&alert(Pe)},ye)};O.useEffect(()=>{if(!b||!S)return;(async()=>{try{_e("Core Initialization"),j("Core Initialization"),B("App"),k(20),await new Promise(ne=>setTimeout(ne,200)),W("Core Initialization"),V("Core Initialization"),_e("Database Connection"),j("Database Connection"),k(40),await new Promise(ne=>setTimeout(ne,300)),W("Database Connection"),V("Database Connection"),_e("Map Initialization"),j("Map Initialization"),k(60),await new Promise(ne=>setTimeout(ne,400)),W("Map Initialization"),V("Map Initialization"),_e("Location Services"),j("Location Services"),k(80),await Jn(!1),W("Location Services"),V("Location Services"),k(100),await new Promise(ne=>setTimeout(ne,200)),Q("App"),y(!1)}catch(ne){console.error("Loading sequence failed:",ne),y(!1)}})()},[b]),O.useEffect(()=>{window.innerWidth<=768&&u(!1)},[]),O.useEffect(()=>{if(window.innerWidth>768)return;let U=0,ne=0,ye=!1,ce=0;const Pe=at=>{const St=at.target;if(St.closest("button")||St.closest("input")||St.closest("select")||St.closest("textarea")){U=0,ne=0,ye=!1,ce=0;return}U=at.touches[0].clientX,ne=at.touches[0].clientY,ce=Date.now(),ye=!1;const nn=document.querySelector(".swipe-area");nn&&U<60&&nn.classList.add("active")},Qe=at=>{if(!ye&&ce>0){const St=Math.abs(at.touches[0].clientX-U),nn=Math.abs(at.touches[0].clientY-ne);St>15&&nn<40&&(ye=!0,at.preventDefault())}},Er=at=>{if(ye&&ce>0){const nn=at.changedTouches[0].clientX-U,wn=Math.abs(at.changedTouches[0].clientY-ne),Ws=Date.now()-ce;nn>40&&wn<40&&U<60&&Ws<500?u(!0):nn<-40&&wn<40&&a&&Ws<500&&u(!1)}U=0,ne=0,ye=!1,ce=0;const St=document.querySelector(".swipe-area");St&&St.classList.remove("active")};return document.addEventListener("touchstart",Pe,{passive:!1}),document.addEventListener("touchmove",Qe,{passive:!1}),document.addEventListener("touchend",Er,{passive:!0}),()=>{document.removeEventListener("touchstart",Pe),document.removeEventListener("touchmove",Qe),document.removeEventListener("touchend",Er)}},[a]),O.useEffect(()=>{console.log("App component mounted, buttons should be functional"),console.log("showAddModal state:",r),console.log("showImportModal state:",h),setTimeout(()=>{const U=document.querySelector(".add-btn"),ne=document.querySelector(".import-btn"),ye=document.querySelector(".sidebar-close-btn"),ce=document.querySelector(".test-btn");console.log("Button elements found:",{addBtn:!!U,importBtn:!!ne,closeBtn:!!ye,testBtn:!!ce}),U&&(console.log("Add button styles:",window.getComputedStyle(U)),console.log("Add button pointer-events:",window.getComputedStyle(U).pointerEvents),U.addEventListener("click",()=>{console.log("Add button clicked via addEventListener!")}),U.addEventListener("touchstart",Pe=>{console.log("Add button touchstart via addEventListener!")}),U.addEventListener("touchend",Pe=>{console.log("Add button touchend via addEventListener!")}))},1e3)},[r,h]),O.useEffect(()=>{if(window.innerWidth>768||!a)return;const U=ne=>{const ye=ne.target;!ye.closest(".sidebar")&&!ye.closest(".sidebar-toggle")&&u(!1)};return document.addEventListener("click",U),()=>document.removeEventListener("click",U)},[a]);const Sr=async U=>{yr("add-item"),re("add-item",{itemCategory:U.category});const ne={...U,id:Date.now().toString(),createdAt:new Date,completed:!1};Gn?await K(ne):await Kn("add-item",{item:ne}),o(!1)},xr=U=>{yr("view-map"),re("view-map",{itemId:U.id,itemCategory:U.category}),M([U.location.lat,U.location.lng]),Ke&&wr([U.location.lat,U.location.lng],13)},Us=U=>{const{lat:ne,lng:ye}=U.latlng,ce={lat:ne,lng:ye,accuracy:100,timestamp:new Date};n(ce),v(null),console.log("Manual location set:",ce)},Fs=U=>{if(!e)return null;const ne=sS(e.lat,e.lng,U.location.lat,U.location.lng);return ne<1?`${Math.round(ne*5280)} ft`:`${ne.toFixed(1)} mi`},$a=new dr.Icon({iconUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMloiIGZpbGw9IiMzQjgyRjYiLz4KPHBhdGggZD0iTTEyIDZDNi40OCA2IDIgMTAuNDggMiAxNkMyIDE5LjUyIDQuNDggMjIgOCAyMkMxMS41MiAyMiAxNCAxOS41MiAxNCAxNkMxNCAxMi40OCAxMS41MiA5IDggOUM0LjQ4IDkgMSAxMi40OCAxIDE2QzEgMTkuNTIgNC40OCAyMyA4IDIzQzExLjUyIDIzIDE1IDE5LjUyIDE1IDE2QzE1IDEyLjQ4IDExLjUyIDkgOCA5WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Pr=new dr.Icon({iconUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMloiIGZpbGw9IiMxMEI5NEEiLz4KPHBhdGggZD0iTTEyIDZDNi40OCA2IDIgMTAuNDggMiAxNkMyIDE5LjUyIDQuNDggMjIgOCAyMkMxMS41MiAyMiAxNCAxOS41MiAxNCAxNkMxNCAxMi40OCAxMS41MiA5IDggOUM0LjQ4IDkgMSAxMi40OCAxIDE2QzEgMTkuNTIgNC40OCAyMyA4IDIzQzExLjUyIDIzIDE1IDE5LjUyIDE1IDE2QzE1IDEyLjQ4IDExLjUyIDkgOCA5WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});return t.status==="checking"?P.jsx("div",{className:"app",style:{display:"grid",placeItems:"center",minHeight:"100vh",padding:16},children:P.jsx("div",{children:"Verifying environment…"})}):t.status==="locked"?P.jsx(F0,{reason:t.reason}):b?S?P.jsx(oS,{loadingProgress:w}):P.jsxs("div",{className:"app",children:[P.jsxs("div",{className:`sidebar ${a?"open":""}`,children:[P.jsxs("div",{className:"sidebar-header",children:[P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[P.jsxs("div",{children:[P.jsx("h1",{children:"🗺️ Itinerary Killer"}),P.jsx("p",{children:"Plan your perfect Orlando adventure"})]}),window.innerWidth<=768&&P.jsx("button",{className:"sidebar-close-btn",onClick:()=>{console.log("Close button clicked!"),u(!1)},onTouchStart:U=>{console.log("Close button touch start"),U.preventDefault(),U.currentTarget.style.transform="scale(0.95)",U.currentTarget.style.background="rgba(255, 255, 255, 0.3)"},onTouchEnd:U=>{console.log("Close button touch end"),U.currentTarget.style.transform="scale(1)",U.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},"aria-label":"Close sidebar",children:"×"})]}),P.jsxs("div",{className:"sidebar-action-buttons",children:[P.jsx("button",{className:"sidebar-btn add-btn",onClick:()=>{console.log("Add button clicked!"),o(!0)},onTouchStart:U=>{console.log("Add button touch start"),U.preventDefault(),U.currentTarget.style.transform="scale(0.95)",U.currentTarget.style.background="rgba(255, 255, 255, 0.3)"},onTouchEnd:U=>{console.log("Add button touch end"),U.currentTarget.style.transform="scale(1)",U.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},"aria-label":"Add new activity",children:"Add"}),P.jsx("button",{className:"sidebar-btn import-btn",onClick:()=>{console.log("Import button clicked!"),d(!0)},onTouchStart:U=>{console.log("Import button touch start"),U.preventDefault(),U.currentTarget.style.transform="scale(0.95)",U.currentTarget.style.background="rgba(255, 255, 255, 0.3)"},onTouchEnd:U=>{console.log("Import button touch end"),U.currentTarget.style.transform="scale(1)",U.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},"aria-label":"Import activities JSON",children:"Import"})]}),P.jsx("div",{className:"location-status",children:p?P.jsxs("div",{className:"status-item loading",children:[P.jsx(vf,{size:16,className:"animate-spin"}),P.jsx("span",{children:"Getting location..."})]}):e?P.jsxs("div",{className:"status-item success",children:[P.jsx(To,{size:16}),P.jsx("span",{children:"Location active"}),P.jsxs("div",{className:"coordinates",children:[e.lat.toFixed(4),", ",e.lng.toFixed(4)]}),P.jsxs("div",{className:"accuracy",children:["±",Math.round(e.accuracy),"m"]})]}):_?P.jsxs("div",{className:"status-item error",children:[P.jsx(gf,{size:16}),P.jsx("span",{children:"Location unavailable"}),P.jsx("button",{className:"retry-button",onClick:()=>Jn(!1),children:"Retry"})]}):P.jsxs("div",{className:"status-item",children:[P.jsx(To,{size:16}),P.jsx("span",{children:"Click map button for location"})]})}),P.jsxs("div",{className:"sw-status",children:[P.jsxs("div",{className:"status-item",children:[P.jsx("div",{className:"status-icon",children:he?"🔧":"❌"}),P.jsxs("span",{children:["Service Worker: ",he?ae?"Active":"Installing...":"Not Supported"]}),X&&P.jsx("button",{className:"update-button",onClick:Zt,style:{background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.4)",color:"#3b82f6",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",cursor:"pointer"},children:"Update Available"})]}),P.jsxs("div",{className:"status-item",children:[P.jsx("div",{className:"status-icon",children:Gn?"🌐":"📱"}),P.jsxs("span",{children:["Network: ",Gn?"Online":"Offline"]}),null]})]}),P.jsxs("div",{className:"pwa-status",children:[P.jsxs("div",{className:"status-item",children:[P.jsx("div",{className:"status-icon",children:Ht.isInstallable?"📱":Ht.isInstalled?"✅":"❌"}),P.jsxs("span",{children:["PWA: ",Ht.isInstallable?"Installable":Ht.isInstalled?"Installed":"Not Available"]}),Ht.isInstallable&&P.jsx("button",{className:"install-button",onClick:Ba,disabled:Si,style:{background:"rgba(34, 197, 94, 0.2)",border:"1px solid rgba(34, 197, 94, 0.4)",color:"#22c55e",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",cursor:Si?"not-allowed":"pointer"},children:Si?`Installing... ${$s}%`:"Install App"})]}),P.jsxs("div",{className:"status-item",children:[P.jsx("div",{className:"status-icon",children:Y>=90?"🟢":Y>=70?"🟡":"🔴"}),P.jsxs("span",{children:["Performance: ",Y,"/100"]}),H&&P.jsxs("div",{className:"performance-details",children:[P.jsxs("div",{children:["LCP: ",H.lcp.toFixed(0),"ms"]}),P.jsxs("div",{children:["FID: ",H.fid.toFixed(0),"ms"]}),P.jsxs("div",{children:["CLS: ",H.cls.toFixed(3)]})]})]}),Qn.length>0&&P.jsxs("div",{className:"status-item",children:[P.jsx("div",{className:"status-icon",children:xi==="syncing"?"🔄":xi==="completed"?"✅":"📝"}),P.jsxs("span",{children:["Offline Queue: ",Qn.length," items"]}),P.jsx("div",{className:"sync-status",children:xi==="syncing"?"Syncing...":xi==="completed"?"Synced":"Pending"})]})]})]}),P.jsx("div",{className:"sidebar-content",children:P.jsx(O.Suspense,{fallback:P.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[P.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"⏳"}),P.jsx("p",{children:"Loading itinerary..."})]}),children:P.jsx(mS,{items:z,onItemSelect:xr,onItemUpdate:se,onItemDelete:ge,userLocation:e,getDistanceFromUser:Fs,loading:we})})})]}),P.jsxs("div",{className:"map-container",children:[P.jsx("button",{className:"sidebar-toggle",onClick:()=>u(!a),"aria-label":"Toggle itinerary sidebar",children:P.jsx(_f,{size:24})}),P.jsx("button",{className:`location-button ${p?"loading":""} ${_?"error":""}`,onClick:()=>Jn(!0),disabled:p,title:_||"Get current location","aria-label":"Get current location",style:{marginTop:"env(safe-area-inset-top)",marginRight:"env(safe-area-inset-right)"},children:p?P.jsxs("div",{className:"loading-content",children:[P.jsx(vf,{size:20,className:"animate-spin"}),P.jsx("span",{className:"loading-text",children:"Getting location..."})]}):P.jsx(To,{size:20})}),_&&P.jsxs("div",{className:"location-error-tooltip",children:[P.jsx(gf,{size:16}),P.jsx("span",{children:_}),_.includes("timed out")&&P.jsxs("div",{className:"timeout-help",children:[P.jsxs("p",{children:["💡 ",P.jsx("strong",{children:"GPS Signal Too Weak - Try These:"})]}),P.jsxs("div",{className:"gps-tips",children:[P.jsxs("div",{className:"tip-priority high",children:[P.jsxs("span",{children:["🔥 ",P.jsx("strong",{children:"Immediate:"})]}),P.jsxs("ul",{children:[P.jsx("li",{children:"Click anywhere on the map to set location manually"}),P.jsx("li",{children:"This bypasses GPS and works instantly"})]})]}),P.jsxs("div",{className:"tip-priority medium",children:[P.jsxs("span",{children:["📍 ",P.jsx("strong",{children:"Better GPS Signal:"})]}),P.jsxs("ul",{children:[P.jsx("li",{children:"Move to an open area (park, parking lot, street)"}),P.jsx("li",{children:"Go outside if you're indoors"}),P.jsx("li",{children:"Wait 2-3 minutes for GPS to stabilize"})]})]}),P.jsxs("div",{className:"tip-priority low",children:[P.jsxs("span",{children:["⚙️ ",P.jsx("strong",{children:"Device Settings:"})]}),P.jsxs("ul",{children:[P.jsx("li",{children:"Enable location services on your device"}),P.jsx("li",{children:"Turn on GPS in device settings"}),P.jsx("li",{children:"Try refreshing the page after moving"})]})]})]})]})]}),P.jsx(tg,{children:P.jsxs("div",{style:{display:"flex",gap:8},children:[P.jsx(cs,{variant:"primary",size:"lg","aria-label":"Add new activity",onClick:()=>o(!0),leftIcon:P.jsx(z0,{size:20}),children:"Add"}),Ht.hasShareTarget&&P.jsx(cs,{variant:"neutral","aria-label":"Share itinerary",onClick:()=>kr({title:"My Orlando Adventure",text:`Check out my ${z.length} planned activities in Orlando!`,url:window.location.href}),children:"📤 Share"}),P.jsx(cs,{variant:"ghost","aria-label":"Generate performance report",onClick:()=>{const U=fe();console.log(U),alert("Performance report logged to console. Check developer tools.")},children:"📊 Perf"})]})}),P.jsxs(M0,{center:I,zoom:13,className:"map",zoomControl:!1,children:[P.jsx(R0,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),!e&&!p&&P.jsxs("div",{className:"map-instruction",children:[P.jsx(To,{size:20}),P.jsx("span",{children:"Click anywhere on the map to set your location"}),P.jsxs("div",{className:"manual-location-hint",children:[P.jsx("strong",{children:"💡 Quick Fix:"})," This bypasses GPS and works instantly!"]})]}),window.innerWidth<=768&&P.jsx("button",{className:"sidebar-toggle",onClick:()=>u(!0),"aria-label":"Open itinerary sidebar",style:{position:"absolute",top:"calc(1rem + env(safe-area-inset-top))",left:"1rem",zIndex:1e3,background:"white",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"56px",minHeight:"56px",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:P.jsx(_f,{size:24})}),window.innerWidth<=768&&P.jsx("div",{className:"swipe-area",style:{position:"absolute",left:0,top:0,width:"60px",height:"100vh",zIndex:1,pointerEvents:"none"}}),window.innerWidth<=768&&P.jsx("div",{className:"swipe-hint",children:"💡 Swipe right from left edge to open itinerary"}),e&&P.jsx(pf,{position:[e.lat,e.lng],icon:Pr,children:P.jsx(mf,{children:P.jsxs("div",{children:[P.jsx("h3",{children:"📍 You are here"}),P.jsxs("p",{children:["Accuracy: ",Math.round(e.accuracy),"m"]})]})})}),z.map(U=>P.jsx(pf,{position:[U.location.lat,U.location.lng],icon:$a,eventHandlers:{click:()=>xr(U)},children:P.jsx(mf,{children:P.jsxs("div",{children:[P.jsx("h3",{children:U.title}),P.jsx("p",{children:U.description}),P.jsxs("p",{children:[P.jsx("strong",{children:"Category:"})," ",U.category]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Priority:"})," ",U.priority]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Duration:"})," ",U.estimatedDuration," min"]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Cost:"})," $",U.cost]}),e&&P.jsxs("p",{className:"distance",children:["📍 ",Fs(U)]})]})})},U.id)),P.jsx(gS,{center:I}),P.jsx(_S,{onMapClick:Us})]})]}),r&&P.jsx(O.Suspense,{fallback:P.jsx("div",{className:"modal",children:P.jsx("div",{className:"modal-content",children:P.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[P.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"⏳"}),P.jsx("p",{children:"Loading add activity form..."})]})})}),children:P.jsx(fS,{onClose:()=>o(!1),onAdd:Sr,userLocation:e})}),h&&P.jsx(O.Suspense,{fallback:P.jsx("div",{className:"modal",children:P.jsx("div",{className:"modal-content",children:P.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[P.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"⏳"}),P.jsx("p",{children:"Loading import form..."})]})})}),children:P.jsx(pS,{onClose:()=>d(!1),onImport:async U=>{await q(U),d(!1)}})})]}):P.jsx(U0,{expectedPassword:C,onAuthenticated:()=>{E(!0);try{localStorage.setItem("site-authed","true")}catch{}}})}Kl.createRoot(document.getElementById("root")).render(P.jsx(vS,{}));export{cs as B,To as M,tg as S,AS as a,IS as b,zs as c,vt as d,OS as f,Z_ as g,P as j,O as r};
